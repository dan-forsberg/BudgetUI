var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e){return e&&o(e.destroy)?e.destroy:t}function c(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function l(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function h(){return d("")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?null:+t}function v(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function b(t,e){t.value=null==e?"":e}let w;function S(t){w=t}function k(){if(!w)throw new Error("Function called outside component initialization");return w}function _(t){k().$$.on_mount.push(t)}const I=[],x=[],E=[],T=[],O=Promise.resolve();let R=!1;function L(t){E.push(t)}let C=!1;const K=new Set;function U(){if(!C){C=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];S(e),Z(e.$$)}for(S(null),I.length=0;x.length;)x.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];K.has(e)||(K.add(e),e())}E.length=0}while(I.length);for(;T.length;)T.pop()();R=!1,C=!1,K.clear()}}function Z(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const V=new Set;let W;function X(){W={r:0,c:[],p:W}}function F(){W.r||r(W.c),W=W.p}function z(t,e){t&&t.i&&(V.delete(t),t.i(e))}function N(t,e,n,r){if(t&&t.o){if(V.has(t))return;V.add(t),W.c.push((()=>{V.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function P(t,e){const n=e.token={};function r(t,r,o,i){if(e.token!==n)return;e.resolved=i;let a=e.ctx;void 0!==o&&(a=a.slice(),a[o]=i);const c=t&&(e.current=t)(a);let s=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(X(),N(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),F())})):e.block.d(1),c.c(),z(c,1),c.m(e.mount(),e.anchor),s=!0),e.block=c,e.blocks&&(e.blocks[r]=c),s&&U()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=k();if(t.then((t=>{S(n),r(e.then,1,e.value,t),S(null)}),(t=>{if(S(n),r(e.catch,2,e.error,t),S(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}function j(t,e){t.d(1),e.delete(t.key)}function G(t,e){N(t,1,1,(()=>{e.delete(t.key)}))}function A(t,e,n,r,o,i,a,c,s,u,l,f){let d=t.length,p=i.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const g=[],y=new Map,v=new Map;for(h=p;h--;){const t=f(o,i,h),c=n(t);let s=a.get(c);s?r&&s.p(t,e):(s=u(c,t),s.c()),y.set(c,g[h]=s),c in m&&v.set(c,Math.abs(h-m[c]))}const b=new Set,w=new Set;function S(t){z(t,1),t.m(c,l),a.set(t.key,t),l=t.first,p--}for(;d&&p;){const e=g[p-1],n=t[d-1],r=e.key,o=n.key;e===n?(l=e.first,d--,p--):y.has(o)?!a.has(r)||b.has(r)?S(e):w.has(o)?d--:v.get(r)>v.get(o)?(w.add(r),S(e)):(b.add(o),d--):(s(n,a),d--)}for(;d--;){const e=t[d];y.has(e.key)||s(e,a)}for(;p;)S(g[p-1]);return g}function Y(t){t&&t.c()}function B(t,n,i,a){const{fragment:c,on_mount:s,on_destroy:u,after_update:l}=t.$$;c&&c.m(n,i),a||L((()=>{const n=s.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(L)}function $(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(I.push(t),R||(R=!0,O.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,o,i,a,c,s,l=[-1]){const f=w;S(e);const d=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:o.context||[]),callbacks:n(),dirty:l,skip_bound:!1};let p=!1;if(d.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&J(e,t)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(u)}else d.fragment&&d.fragment.c();o.intro&&z(e.$$.fragment),B(e,o.target,o.anchor,o.customElement),U()}S(f)}class H{$destroy(){$(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class M{constructor(){}static getInstance(t){return M.instance&&void 0===t||(M.instance=new M,null!=t?M.instance.configure(t):M.instance.configure()),M.instance}static destroy(){M.instance=null}httpReq(t,e,n){const r={method:e,headers:this.headers};n&&(r.body=JSON.stringify(n));return fetch(this.URL+t,r)}get(t){return this.httpReq(t,"GET")}post(t,e){return this.httpReq(t,"POST",e)}remove(t){return this.httpReq(t,"DELETE")}patch(t,e){return this.httpReq(t,"PATCH",e)}configure(t){const e=window.location;this.URL=`${e.protocol}//${e.hostname}/api`;let n=!0;["0.0.0.0","localhost","127.0.0.1"].includes(e.hostname)?(this.URL=`${e.protocol}//${e.hostname}:8080/api`,n=!1):"budget.dasifor.xyz"===e.hostname&&(n=!1),this.headers=n&&null!=t?{"Content-Type":"application/json",Authorization:`Bearer ${t}`}:{"Content-Type":"application/json"}}}const D=t=>{let e=0;const n=[],r=[];t.forEach((t=>{e+=t.amount,t.amount>0?r.push(t):n.push(t)})),n.sort(((t,e)=>t.amount-e.amount)),r.sort(((t,e)=>e.amount-t.amount));return{sortedEntries:[...r,...n],total:e}};var Q=async t=>{let e="/entry/specific/?";for(const n in t)if("date"===n){const r=t[n];e+=`year=${r.getFullYear()}&month=${r.getMonth()+1}&`}else e+=`${n}=${t[n]}&`;const n=M.getInstance(),r=await n.get(e),o=await r.json();if(200!==r.status)throw new Error(o.message);return o},tt=async t=>{let e;e=Array.isArray(t)?{entries:t}:{entries:[t]};const n=M.getInstance(),r=await n.post("/entry/new",e),o=await r.json();if(201!==r.status)throw new Error(o.message);return o},et=async()=>{const t=M.getInstance(),e=await t.get("/default"),n=await e.json();if(200!==e.status)throw new Error(n.message);return n},nt=async t=>{const e=M.getInstance(),n=await e.patch(`/entry/update/${t.id}`,{entry:t}),r=await n.json();if(200!==n.status)throw new Error(r.message);return r};function rt(t,e,n){const r=t.slice();return r[4]=e[n],r}function ot(t){let e,n,r,o,i;return{c(){e=f("p"),e.textContent="No data?",n=p(),r=f("p"),o=d("category = "),i=d(t[1])},m(t,a){s(t,e,a),s(t,n,a),s(t,r,a),c(r,o),c(r,i)},p(t,e){2&e&&v(i,t[1])},d(t){t&&u(e),t&&u(n),t&&u(r)}}}function it(t){let e,n,r,o,i,a,l,h,m,y,b,w=[],S=new Map,k=t[2];const _=t=>t[4].id;for(let e=0;e<k.length;e+=1){let n=rt(t,k,e),r=_(n);S.set(r,w[e]=at(r,n))}return{c(){e=f("h3"),n=d(t[1]),r=p(),o=f("table"),i=f("tr"),i.innerHTML='<th>Beskrivning</th> \n\t\t\t<th class="right">Belopp</th>',a=p();for(let t=0;t<w.length;t+=1)w[t].c();l=p(),h=f("tr"),m=f("td"),m.textContent="Totalt",y=p(),b=f("td"),b.textContent=`${t[3]<0?t[3]:"+"+t[3]}`,g(e,"class","entries-header"),g(i,"class","svelte-13a5tvb"),g(b,"class","right"),g(h,"class","svelte-13a5tvb"),g(o,"class","svelte-13a5tvb")},m(t,u){s(t,e,u),c(e,n),s(t,r,u),s(t,o,u),c(o,i),c(o,a);for(let t=0;t<w.length;t+=1)w[t].m(o,null);c(o,l),c(o,h),c(h,m),c(h,y),c(h,b)},p(t,e){2&e&&v(n,t[1]),4&e&&(k=t[2],w=A(w,e,_,1,t,k,S,o,j,at,l,rt))},d(t){t&&u(e),t&&u(r),t&&u(o);for(let t=0;t<w.length;t+=1)w[t].d()}}}function at(t,e){let n,r,o,i,a,l,h=e[4].description+"",m=e[4].amount+"";return{key:t,first:null,c(){n=f("tr"),r=f("td"),o=d(h),i=p(),a=f("td"),l=d(m),g(a,"class","right"),g(n,"class","svelte-13a5tvb"),this.first=n},m(t,e){s(t,n,e),c(n,r),c(r,o),c(n,i),c(n,a),c(a,l)},p(t,n){e=t},d(t){t&&u(n)}}}function ct(e){let n;function r(t,e){return void 0!==t[0]?it:ot}let o=r(e),i=o(e);return{c(){i.c(),n=h()},m(t,e){i.m(t,e),s(t,n,e)},p(t,[e]){o===(o=r(t))&&i?i.p(t,e):(i.d(1),i=o(t),i&&(i.c(),i.m(n.parentNode,n)))},i:t,o:t,d(t){i.d(t),t&&u(n)}}}function st(t,e,n){let{entries:r}=e,{category:o}=e;const{sortedEntries:i,total:a}=D(r);return t.$$set=t=>{"entries"in t&&n(0,r=t.entries),"category"in t&&n(1,o=t.category)},[r,o,i,a]}class ut extends H{constructor(t){super(),q(this,t,st,ct,i,{entries:0,category:1})}}function lt(t){let e,n,r,o;return{c(){e=f("td"),n=d(t[0])},m(i,a){s(i,e,a),c(e,n),r||(o=m(e,"click",t[3]),r=!0)},p(t,e){1&e&&v(n,t[0])},d(t){t&&u(e),r=!1,o()}}}function ft(t){let e,n,o;return{c(){e=f("input"),e.required=t[1],g(e,"class","svelte-ml8vq6")},m(r,i){s(r,e,i),b(e,t[0]),n||(o=[m(e,"input",t[6]),m(e,"blur",t[4]),a(pt.call(null,e))],n=!0)},p(t,n){2&n&&(e.required=t[1]),1&n&&e.value!==t[0]&&b(e,t[0])},d(t){t&&u(e),n=!1,r(o)}}}function dt(e){let n;function r(t,e){return t[2]?ft:lt}let o=r(e),i=o(e);return{c(){i.c(),n=h()},m(t,e){i.m(t,e),s(t,n,e)},p(t,[e]){o===(o=r(t))&&i?i.p(t,e):(i.d(1),i=o(t),i&&(i.c(),i.m(n.parentNode,n)))},i:t,o:t,d(t){i.d(t),t&&u(n)}}}function pt(t){t.focus()}function ht(t,e,n){let r,{value:o}=e,{required:i=!0}=e,{onSubmit:a}=e,c=!1;return _((()=>{r=o})),t.$$set=t=>{"value"in t&&n(0,o=t.value),"required"in t&&n(1,i=t.required),"onSubmit"in t&&n(5,a=t.onSubmit)},[o,i,c,function(){n(2,c=!0)},function(){o!==r&&a(o),n(2,c=!1)},a,function(){o=this.value,n(0,o)}]}class mt extends H{constructor(t){super(),q(this,t,ht,dt,i,{value:0,required:1,onSubmit:5})}}function gt(){}function yt(t){return t()}function vt(){return Object.create(null)}function bt(t){t.forEach(yt)}function wt(t){return"function"==typeof t}function St(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function kt(t,e){t.appendChild(e)}function _t(t){t.parentNode.removeChild(t)}function It(t){return document.createElement(t)}function xt(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let Et;function Tt(t){Et=t}const Ot=[],Rt=[],Lt=[],Ct=[],Kt=Promise.resolve();let Ut=!1;function Zt(t){Lt.push(t)}let Vt=!1;const Wt=new Set;function Xt(){if(!Vt){Vt=!0;do{for(let t=0;t<Ot.length;t+=1){const e=Ot[t];Tt(e),Ft(e.$$)}for(Ot.length=0;Rt.length;)Rt.pop()();for(let t=0;t<Lt.length;t+=1){const e=Lt[t];Wt.has(e)||(Wt.add(e),e())}Lt.length=0}while(Ot.length);for(;Ct.length;)Ct.pop()();Ut=!1,Vt=!1,Wt.clear()}}function Ft(t){if(null!==t.fragment){t.update(),bt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Zt)}}const zt=new Set;function Nt(t,e){-1===t.$$.dirty[0]&&(Ot.push(t),Ut||(Ut=!0,Kt.then(Xt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Pt(t,e,n,r,o,i,a=[-1]){const c=Et;Tt(t);const s=e.props||{},u=t.$$={fragment:null,ctx:null,props:i,update:gt,not_equal:o,bound:vt(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:vt(),dirty:a};let l=!1;if(u.ctx=n?n(t,s,((e,n,...r)=>{const i=r.length?r[0]:n;return u.ctx&&o(u.ctx[e],u.ctx[e]=i)&&(u.bound[e]&&u.bound[e](i),l&&Nt(t,e)),n})):[],u.update(),l=!0,bt(u.before_update),u.fragment=!!r&&r(u.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);u.fragment&&u.fragment.l(t),t.forEach(_t)}else u.fragment&&u.fragment.c();e.intro&&((f=t.$$.fragment)&&f.i&&(zt.delete(f),f.i(d))),function(t,e,n){const{fragment:r,on_mount:o,on_destroy:i,after_update:a}=t.$$;r&&r.m(e,n),Zt((()=>{const e=o.map(yt).filter(wt);i?i.push(...e):bt(e),t.$$.on_mount=[]})),a.forEach(Zt)}(t,e.target,e.anchor),Xt()}var f,d;Tt(c)}function jt(t){let e,n,r,o,i;return{c(){var a;e=It("div"),n=It("div"),a=t[0],r=document.createTextNode(a),xt(n,"class",o="toast "+t[1]+" svelte-3qemlt"),xt(e,"class",i="toast-container "+t[2]+" svelte-3qemlt")},m(t,o){!function(t,e,n){t.insertBefore(e,n||null)}(t,e,o),kt(e,n),kt(n,r)},p(t,[a]){1&a&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(r,t[0]),2&a&&o!==(o="toast "+t[1]+" svelte-3qemlt")&&xt(n,"class",o),4&a&&i!==(i="toast-container "+t[2]+" svelte-3qemlt")&&xt(e,"class",i)},i:gt,o:gt,d(t){t&&_t(e)}}}function Gt(t,e,n){let r,{msg:o=""}=e,{type:i=""}=e,{position:a="bottom-center"}=e;return t.$set=t=>{"msg"in t&&n(0,o=t.msg),"type"in t&&n(1,i=t.type),"position"in t&&n(3,a=t.position)},t.$$.update=()=>{8&t.$$.dirty&&n(2,r=a.split("-").join(" "))},[o,i,r,a]}class At extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(bt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=gt}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){var e;super(),document.getElementById("svelte-3qemlt-style")||((e=It("style")).id="svelte-3qemlt-style",e.textContent=".toast-container.svelte-3qemlt{position:fixed;z-index:999}.top.svelte-3qemlt{top:15px}.bottom.svelte-3qemlt{bottom:15px}.left.svelte-3qemlt{left:15px}.right.svelte-3qemlt{right:15px}.center.svelte-3qemlt{left:50%;transform:translateX(-50%);-webkit-transform:translateX(-50%)}.toast.svelte-3qemlt{height:38px;line-height:38px;padding:0 20px;box-shadow:0 1px 3px rgba(0, 0, 0, .12), 0 1px 2px rgba(0, 0, 0, .24);color:#FFF;-webkit-transition:opacity 0.2s, -webkit-transform 0.2s;transition:opacity 0.2s, transform 0.2s, -webkit-transform 0.2s;-webkit-transform:translateY(35px);transform:translateY(35px);opacity:0;max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.info.svelte-3qemlt{background-color:#0091EA}.success.svelte-3qemlt{background-color:#4CAF50}.error.svelte-3qemlt{background-color:#F44336}.default.svelte-3qemlt{background-color:#353535}.anim.svelte-3qemlt{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}",kt(document.head,e)),Pt(this,t,Gt,jt,St,{msg:0,type:1,position:3})}}class Yt{constructor(t){this.opts=Object.assign({position:"bottom-center",duration:2e3},t)}show(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._show(t,e,"default")}info(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._show(t,e,"info")}success(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._show(t,e,"success")}error(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._show(t,e,"error")}_show(t,e,n){var r=Object.assign({},this.opts,e),o=new At({target:document.querySelector("body"),props:{msg:t,type:n,position:r.position}});setTimeout((()=>{o.$set({type:n+" anim"})}),0),setTimeout((()=>{o.$destroy()}),r.duration)}}function Bt(t,e,n){const r=t.slice();return r[11]=e[n],r}function $t(e){let n,r,o,i,a;return{c(){n=f("p"),n.textContent="No data?",r=p(),o=f("p"),i=d("category = "),a=d(e[1])},m(t,e){s(t,n,e),s(t,r,e),s(t,o,e),c(o,i),c(o,a)},p(t,e){2&e&&v(a,t[1])},i:t,o:t,d(t){t&&u(n),t&&u(r),t&&u(o)}}}function Jt(t){let e,n,r,o,i,a,l,h,y,b,w,S,k,_,I,x,E=[],T=new Map,O=t[2];const R=t=>t[11].id;for(let e=0;e<O.length;e+=1){let n=Bt(t,O,e),r=R(n);T.set(r,E[e]=qt(r,n))}return{c(){e=f("h3"),n=d(t[1]),r=p(),o=f("table"),i=f("tr"),i.innerHTML='<th>Beskrivning</th> \n\t\t\t<th class="right">Belopp</th>',a=p();for(let t=0;t<E.length;t+=1)E[t].c();l=p(),h=f("tr"),y=f("td"),y.textContent="Totalt",b=p(),w=f("td"),w.textContent=`${t[3]<=-1?t[3]:"+"+t[3]}`,S=p(),k=f("button"),k.textContent="Uppdatera",g(e,"class","entries-header"),g(i,"class","svelte-13a5tvb"),g(w,"class","right"),g(h,"class","svelte-13a5tvb"),g(o,"class","svelte-13a5tvb")},m(u,f){s(u,e,f),c(e,n),s(u,r,f),s(u,o,f),c(o,i),c(o,a);for(let t=0;t<E.length;t+=1)E[t].m(o,null);c(o,l),c(o,h),c(h,y),c(h,b),c(h,w),s(u,S,f),s(u,k,f),_=!0,I||(x=m(k,"click",t[8]),I=!0)},p(t,e){(!_||2&e)&&v(n,t[1]),20&e&&(O=t[2],X(),E=A(E,e,R,1,t,O,T,o,G,qt,l,Bt),F())},i(t){if(!_){for(let t=0;t<O.length;t+=1)z(E[t]);_=!0}},o(t){for(let t=0;t<E.length;t+=1)N(E[t]);_=!1},d(t){t&&u(e),t&&u(r),t&&u(o);for(let t=0;t<E.length;t+=1)E[t].d();t&&u(S),t&&u(k),I=!1,x()}}}function qt(t,e){let n,r,o,i,a;return r=new mt({props:{value:e[11].description,onSubmit:function(...t){return e[6](e[11],...t)}}}),i=new mt({props:{value:e[11].amount,onSubmit:function(...t){return e[7](e[11],...t)}}}),{key:t,first:null,c(){n=f("tr"),Y(r.$$.fragment),o=p(),Y(i.$$.fragment),g(n,"class","svelte-13a5tvb"),this.first=n},m(t,e){s(t,n,e),B(r,n,null),c(n,o),B(i,n,null),a=!0},p(t,n){e=t},i(t){a||(z(r.$$.fragment,t),z(i.$$.fragment,t),a=!0)},o(t){N(r.$$.fragment,t),N(i.$$.fragment,t),a=!1},d(t){t&&u(n),$(r),$(i)}}}function Ht(t){let e,n,r,o;const i=[Jt,$t],a=[];function c(t,e){return void 0!==t[0]?0:1}return e=c(t),n=a[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){a[e].m(t,n),s(t,r,n),o=!0},p(t,[o]){let s=e;e=c(t),e===s?a[e].p(t,o):(X(),N(a[s],1,1,(()=>{a[s]=null})),F(),n=a[e],n?n.p(t,o):(n=a[e]=i[e](t),n.c()),z(n,1),n.m(r.parentNode,r))},i(t){o||(z(n),o=!0)},o(t){N(n),o=!1},d(t){a[e].d(t),t&&u(r)}}}function Mt(t,e,n){const r=new Yt;let{entries:o}=e,{category:i}=e,{sortedEntries:a,total:c}=D(o),s=[];const u=(t,e,n)=>{e?t.description=n:t.amount=n;let r=s.findIndex((e=>e.id==t.id));r>0?s[r]=t:s.push(t)},l=async()=>{let t=!0;for(const e of s)try{await nt(e)}catch(n){r.error(`Kunde inte uppdatera: ${e.description}`),t=!1}t&&r.success(`Uppdaterade ${s.length} rader.`)};return t.$$set=t=>{"entries"in t&&n(0,o=t.entries),"category"in t&&n(1,i=t.category)},[o,i,a,c,u,l,(t,e)=>u(t,!0,e),(t,e)=>u(t,!1,e),()=>l()]}class Dt extends H{constructor(t){super(),q(this,t,Mt,Ht,i,{entries:0,category:1})}}function Qt(t,e,n){const r=t.slice();return r[6]=e[n],r}function te(t){let e,n,r,o;var i=t[2];function a(t){return{props:{entries:t[1][t[6]],category:t[6]}}}return i&&(n=new i(a(t))),{c(){e=f("div"),n&&Y(n.$$.fragment),r=p(),g(e,"class","category svelte-13c2izy")},m(t,i){s(t,e,i),n&&B(n,e,null),c(e,r),o=!0},p(t,o){const c={};if(3&o&&(c.entries=t[1][t[6]]),1&o&&(c.category=t[6]),i!==(i=t[2])){if(n){X();const t=n;N(t.$$.fragment,1,0,(()=>{$(t,1)})),F()}i?(n=new i(a(t)),Y(n.$$.fragment),z(n.$$.fragment,1),B(n,e,r)):n=null}else i&&n.$set(c)},i(t){o||(n&&z(n.$$.fragment,t),o=!0)},o(t){n&&N(n.$$.fragment,t),o=!1},d(t){t&&u(e),n&&$(n)}}}function ee(t){let e,n,r=t[0].categories,o=[];for(let e=0;e<r.length;e+=1)o[e]=te(Qt(t,r,e));const i=t=>N(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=h()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);s(t,e,r),n=!0},p(t,[n]){if(7&n){let a;for(r=t[0].categories,a=0;a<r.length;a+=1){const i=Qt(t,r,a);o[a]?(o[a].p(i,n),z(o[a],1)):(o[a]=te(i),o[a].c(),z(o[a],1),o[a].m(e.parentNode,e))}for(X(),a=r.length;a<o.length;a+=1)i(a);F()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)z(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)N(o[t]);n=!1},d(t){l(o,t),t&&u(e)}}}function ne(t,e,n){let{readOnly:r}=e,o=!0===r?ut:Dt,{data:i}=e,a=[];return function(){const t=i.categories.indexOf("Gemensamma");if(t>0){let e=i.categories[0];n(0,i.categories[0]=i.categories[t],i),n(0,i.categories[t]=e,i)}}(),i.categories.forEach((t=>{n(1,a[t]=i.result.filter((e=>e.Category.name===t)),a)})),t.$$set=t=>{"readOnly"in t&&n(3,r=t.readOnly),"data"in t&&n(0,i=t.data)},[i,a,o,r]}class re extends H{constructor(t){super(),q(this,t,ne,ee,i,{readOnly:3,data:0})}}function oe(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ie(t){let e,n,r,o,i,a,l,h,y;return a=new re({props:{data:t[2],readOnly:t[0]}}),{c(){e=f("div"),n=f("h2"),r=d("Budget "),o=f("input"),i=p(),Y(a.$$.fragment),g(o,"id","datepicker"),g(o,"type","date"),g(o,"class","svelte-ca9f4s"),g(e,"class","budget")},m(u,f){s(u,e,f),c(e,n),c(n,r),c(n,o),b(o,t[1]),c(e,i),B(a,e,null),l=!0,h||(y=m(o,"input",t[3]),h=!0)},p(t,e){2&e&&b(o,t[1]);const n={};4&e&&(n.data=t[2]),1&e&&(n.readOnly=t[0]),a.$set(n)},i(t){l||(z(a.$$.fragment,t),l=!0)},o(t){N(a.$$.fragment,t),l=!1},d(t){t&&u(e),$(a),h=!1,y()}}}function ae(e){let n;return{c(){n=f("p"),n.textContent="Hämtar budgetar"},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function ce(t){let e,n,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:ae,then:ie,catch:oe,value:2,blocks:[,,,]};return P(n=t[2],o),{c(){e=f("div"),o.block.c(),g(e,"class","flex-container svelte-ca9f4s")},m(t,n){s(t,e,n),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,r=!0},p(e,[r]){t=e,o.ctx=t,4&r&&n!==(n=t[2])&&P(n,o)||function(t,e,n){const r=e.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,n)}(o,t,r)},i(t){r||(z(o.block),r=!0)},o(t){for(let t=0;t<3;t+=1){N(o.blocks[t])}r=!1},d(t){t&&u(e),o.block.d(),o.token=null,o=null}}}function se(t,e,n){let r,{readOnly:o}=e,i=(new Date).toISOString().slice(0,10);return t.$$set=t=>{"readOnly"in t&&n(0,o=t.readOnly)},t.$$.update=()=>{2&t.$$.dirty&&n(2,r=Q({date:new Date(i)}))},[o,i,r,function(){i=this.value,n(1,i)}]}class ue extends H{constructor(t){super(),q(this,t,se,ce,i,{readOnly:0})}}function le(e){let n,r;return n=new ue({props:{readOnly:fe}}),{c(){Y(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:t,i(t){r||(z(n.$$.fragment,t),r=!0)},o(t){N(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}const fe=!1;class de extends H{constructor(t){super(),q(this,t,null,le,i,{})}}function pe(e){let n,r;return n=new ue({props:{readOnly:he}}),{c(){Y(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:t,i(t){r||(z(n.$$.fragment,t),r=!0)},o(t){N(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}const he=!0;class me extends H{constructor(t){super(),q(this,t,null,pe,i,{})}}const ge=[];const ye=function(e,n=t){let r;const o=[];function a(t){if(i(e,t)&&(e=t,r)){const t=!ge.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),ge.push(n,e)}if(t){for(let t=0;t<ge.length;t+=2)ge[t][0](ge[t+1]);ge.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(i,c=t){const s=[i,c];return o.push(s),1===o.length&&(r=n(a)||t),i(e),()=>{const t=o.indexOf(s);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}(0);function ve(t){const e=e=>{!t||t.contains(e.target)||e.defaultPrevented||t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function be(t,e,n){const r=t.slice();return r[12]=e[n],r[13]=e,r[14]=n,r}function we(t){let e,n,o,i,a,l;function d(){t[4].call(n,t[13],t[14])}function h(){t[5].call(i,t[13],t[14])}return{c(){e=f("div"),n=f("input"),o=p(),i=f("input"),g(n,"type","text"),g(n,"placeholder","Beskrivning"),g(n,"class","description svelte-1wif1oa"),g(i,"type","number"),g(i,"placeholder","Belopp"),g(i,"class","amount svelte-1wif1oa"),g(e,"class","entry-container svelte-1wif1oa")},m(r,u){s(r,e,u),c(e,n),b(n,t[12].description),c(e,o),c(e,i),b(i,t[12].amount),a||(l=[m(n,"input",d),m(i,"input",h)],a=!0)},p(e,r){t=e,1&r&&n.value!==t[12].description&&b(n,t[12].description),1&r&&y(i.value)!==t[12].amount&&b(i,t[12].amount)},d(t){t&&u(e),a=!1,r(l)}}}function Se(e){let n,o,i,h,w,S,k,_,I,x,E,T=e[0],O=[];for(let t=0;t<T.length;t+=1)O[t]=we(be(e,T,t));return{c(){n=f("h4"),o=d(e[1]),i=p(),h=f("form");for(let t=0;t<O.length;t+=1)O[t].c();w=p(),S=f("div"),k=f("input"),_=p(),I=f("input"),k.disabled=!0,g(k,"type","text"),k.value="Totalt",g(k,"class","description svelte-1wif1oa"),I.disabled=!0,g(I,"type","number"),g(I,"class","amount svelte-1wif1oa"),g(S,"class","entry-container svelte-1wif1oa")},m(t,r){s(t,n,r),c(n,o),s(t,i,r),s(t,h,r);for(let t=0;t<O.length;t+=1)O[t].m(h,null);c(h,w),c(h,S),c(S,k),c(S,_),c(S,I),b(I,e[2]),x||(E=[m(I,"input",e[6]),a(ve.call(null,h)),m(h,"click_outside",e[3])],x=!0)},p(t,[e]){if(2&e&&v(o,t[1]),1&e){let n;for(T=t[0],n=0;n<T.length;n+=1){const r=be(t,T,n);O[n]?O[n].p(r,e):(O[n]=we(r),O[n].c(),O[n].m(h,w))}for(;n<O.length;n+=1)O[n].d(1);O.length=T.length}4&e&&y(I.value)!==t[2]&&b(I,t[2])},i:t,o:t,d(t){t&&u(n),t&&u(i),t&&u(h),l(O,t),x=!1,r(E)}}}function ke(t,e,n){let{entries:r}=e,{category:o}=e,i=0,a=0;if(r.length>0&&"HALF_OF_GEMENSAMMA"===r[0].description){let t=r[0];a=t.amount;let e="Halva gemensamma";a>0?e+=` (+${a})`:a<0&&(e+=` (${a})`),t.description=e,ye.subscribe((e=>{t.amount=e/2-a}))}const c=t=>void 0!==t&&s(t.description)&&s(t.amount),s=t=>null==t||0===t.length,u=()=>{l();let{sortedEntries:t,total:e}=D(r);n(0,r=t),n(2,i=e),"Gemensamma"===o&&ye.set(i)},l=()=>{n(0,r=r.filter((t=>!c(t))))};return _((()=>{u()})),t.$$set=t=>{"entries"in t&&n(0,r=t.entries),"category"in t&&n(1,o=t.category)},t.$$.update=()=>{if(1&t.$$.dirty){let t=r.length,e=r[t-1];0!=t&&c(e)||(()=>{let t={Category:o,description:"",amount:"-",date:new Date};n(0,r=[...r,t])})()}},[r,o,i,u,function(t,e){t[e].description=this.value,n(0,r)},function(t,e){t[e].amount=y(this.value),n(0,r)},function(){i=y(this.value),n(2,i)}]}class _e extends H{constructor(t){super(),q(this,t,ke,Se,i,{entries:0,category:1})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Ie=function(t){var e={exports:{}};return t(e,e.exports),e.exports}((function(t,e){t.exports=function(){var t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},e=v,n=c,r=s,o=u,i=y,a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function c(t){for(var e,n=[],r=0,o=0,i="";null!=(e=a.exec(t));){var c=e[0],s=e[1],u=e.index;if(i+=t.slice(o,u),o=u+c.length,s)i+=s[1];else{i&&(n.push(i),i="");var l=e[2],d=e[3],p=e[4],h=e[5],m=e[6],g=e[7],y="+"===m||"*"===m,v="?"===m||"*"===m,b=l||"/",w=p||h||(g?".*":"[^"+b+"]+?");n.push({name:d||r++,prefix:l||"",delimiter:b,optional:v,repeat:y,pattern:f(w)})}}return o<t.length&&(i+=t.substr(o)),i&&n.push(i),n}function s(t){return u(c(t))}function u(e){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^"+e[r].pattern+"$"));return function(r){for(var o="",i=r||{},a=0;a<e.length;a++){var c=e[a];if("string"!=typeof c){var s,u=i[c.name];if(null==u){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to be defined')}if(t(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received "'+u+'"');if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var l=0;l<u.length;l++){if(s=encodeURIComponent(u[l]),!n[a].test(s))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received "'+s+'"');o+=(0===l?c.prefix:c.delimiter)+s}}else{if(s=encodeURIComponent(u),!n[a].test(s))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+s+'"');o+=c.prefix+s}}else o+=c}return o}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function f(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function d(t,e){return t.keys=e,t}function p(t){return t.sensitive?"":"i"}function h(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return d(t,e)}function m(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(v(t[o],e,n).source);return d(new RegExp("(?:"+r.join("|")+")",p(n)),e)}function g(t,e,n){for(var r=c(t),o=y(r,n),i=0;i<r.length;i++)"string"!=typeof r[i]&&e.push(r[i]);return d(o,e)}function y(t,e){for(var n=(e=e||{}).strict,r=!1!==e.end,o="",i=t[t.length-1],a="string"==typeof i&&/\/$/.test(i),c=0;c<t.length;c++){var s=t[c];if("string"==typeof s)o+=l(s);else{var u=l(s.prefix),f=s.pattern;s.repeat&&(f+="(?:"+u+f+")*"),o+=f=s.optional?u?"(?:"+u+"("+f+"))?":"("+f+")?":u+"("+f+")"}}return n||(o=(a?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=r?"$":n&&a?"":"(?=\\/|$)",new RegExp("^"+o,p(e))}function v(e,n,r){return t(n=n||[])?r||(r={}):(r=n,n=[]),e instanceof RegExp?h(e,n):t(e)?m(e,n,r):g(e,n,r)}e.parse=n,e.compile=r,e.tokensToFunction=o,e.tokensToRegExp=i;var b,w="undefined"!=typeof document,S="undefined"!=typeof window,k="undefined"!=typeof history,_="undefined"!=typeof process,I=w&&document.ontouchstart?"touchstart":"click",x=S&&!(!window.history.location&&!window.location);function E(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function T(){var t=new E;function e(){return O.apply(t,arguments)}return e.callbacks=t.callbacks,e.exits=t.exits,e.base=t.base.bind(t),e.strict=t.strict.bind(t),e.start=t.start.bind(t),e.stop=t.stop.bind(t),e.show=t.show.bind(t),e.back=t.back.bind(t),e.redirect=t.redirect.bind(t),e.replace=t.replace.bind(t),e.dispatch=t.dispatch.bind(t),e.exit=t.exit.bind(t),e.configure=t.configure.bind(t),e.sameOrigin=t.sameOrigin.bind(t),e.clickHandler=t.clickHandler.bind(t),e.create=T,Object.defineProperty(e,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(e,"current",{get:function(){return t.current},set:function(e){t.current=e}}),e.Context=C,e.Route=K,e}function O(t,e){if("function"==typeof t)return O.call(this,"*",t);if("function"==typeof e)for(var n=new K(t,null,this),r=1;r<arguments.length;++r)this.callbacks.push(n.middleware(arguments[r]));else"string"==typeof t?this["string"==typeof e?"redirect":"show"](t,e):this.start(t)}function R(t){if(!t.handled){var e=this,n=e._window;(e._hashbang?x&&this._getBase()+n.location.hash.replace("#!",""):x&&n.location.pathname+n.location.search)!==t.canonicalPath&&(e.stop(),t.handled=!1,x&&(n.location.href=t.canonicalPath))}}function L(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function C(t,e,n){var r=this.page=n||O,o=r._window,i=r._hashbang,a=r._getBase();"/"===t[0]&&0!==t.indexOf(a)&&(t=a+(i?"#!":"")+t);var c=t.indexOf("?");this.canonicalPath=t;var s=new RegExp("^"+L(a));if(this.path=t.replace(s,"")||"/",i&&(this.path=this.path.replace("#!","")||"/"),this.title=w&&o.document.title,this.state=e||{},this.state.path=t,this.querystring=~c?r._decodeURLEncodedURIComponent(t.slice(c+1)):"",this.pathname=r._decodeURLEncodedURIComponent(~c?t.slice(0,c):t),this.params={},this.hash="",!i){if(!~this.path.indexOf("#"))return;var u=this.path.split("#");this.path=this.pathname=u[0],this.hash=r._decodeURLEncodedURIComponent(u[1])||"",this.querystring=this.querystring.split("#")[0]}}function K(t,n,r){var o=this.page=r||U,i=n||{};i.strict=i.strict||o._strict,this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=e(this.path,this.keys=[],i)}E.prototype.configure=function(t){var e=t||{};this._window=e.window||S&&window,this._decodeURLComponents=!1!==e.decodeURLComponents,this._popstate=!1!==e.popstate&&S,this._click=!1!==e.click&&w,this._hashbang=!!e.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):S&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(I,this.clickHandler,!1):w&&n.document.removeEventListener(I,this.clickHandler,!1),this._hashbang&&S&&!k?n.addEventListener("hashchange",this._onpopstate,!1):S&&n.removeEventListener("hashchange",this._onpopstate,!1)},E.prototype.base=function(t){if(0===arguments.length)return this._base;this._base=t},E.prototype._getBase=function(){var t=this._base;if(t)return t;var e=S&&this._window&&this._window.location;return S&&this._hashbang&&e&&"file:"===e.protocol&&(t=e.pathname),t},E.prototype.strict=function(t){if(0===arguments.length)return this._strict;this._strict=t},E.prototype.start=function(t){var e=t||{};if(this.configure(e),!1!==e.dispatch){var n;if(this._running=!0,x){var r=this._window.location;n=this._hashbang&&~r.hash.indexOf("#!")?r.hash.substr(2)+r.search:this._hashbang?r.search+r.hash:r.pathname+r.search+r.hash}this.replace(n,null,!0,e.dispatch)}},E.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(I,this.clickHandler,!1),S&&t.removeEventListener("popstate",this._onpopstate,!1),S&&t.removeEventListener("hashchange",this._onpopstate,!1)}},E.prototype.show=function(t,e,n,r){var o=new C(t,e,this),i=this.prevContext;return this.prevContext=o,this.current=o.path,!1!==n&&this.dispatch(o,i),!1!==o.handled&&!1!==r&&o.pushState(),o},E.prototype.back=function(t,e){var n=this;if(this.len>0){var r=this._window;k&&r.history.back(),this.len--}else t?setTimeout((function(){n.show(t,e)})):setTimeout((function(){n.show(n._getBase(),e)}))},E.prototype.redirect=function(t,e){var n=this;"string"==typeof t&&"string"==typeof e&&O.call(this,t,(function(t){setTimeout((function(){n.replace(e)}),0)})),"string"==typeof t&&void 0===e&&setTimeout((function(){n.replace(t)}),0)},E.prototype.replace=function(t,e,n,r){var o=new C(t,e,this),i=this.prevContext;return this.prevContext=o,this.current=o.path,o.init=n,o.save(),!1!==r&&this.dispatch(o,i),o},E.prototype.dispatch=function(t,e){var n=0,r=0,o=this;function i(){var t=o.exits[r++];if(!t)return a();t(e,i)}function a(){var e=o.callbacks[n++];if(t.path===o.current)return e?void e(t,a):R.call(o,t);t.handled=!1}e?i():a()},E.prototype.exit=function(t,e){if("function"==typeof t)return this.exit("*",t);for(var n=new K(t,null,this),r=1;r<arguments.length;++r)this.exits.push(n.middleware(arguments[r]))},E.prototype.clickHandler=function(t){if(1===this._which(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){var e=t.target,n=t.path||(t.composedPath?t.composedPath():null);if(n)for(var r=0;r<n.length;r++)if(n[r].nodeName&&"A"===n[r].nodeName.toUpperCase()&&n[r].href){e=n[r];break}for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){var o="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name;if(!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var i=e.getAttribute("href");if((this._hashbang||!this._samePath(e)||!e.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!(o?e.target.baseVal:e.target)&&(o||this.sameOrigin(e.href))){var a=o?e.href.baseVal:e.pathname+e.search+(e.hash||"");a="/"!==a[0]?"/"+a:a,_&&a.match(/^\/[a-zA-Z]:\//)&&(a=a.replace(/^\/[a-zA-Z]:\//,"/"));var c=a,s=this._getBase();0===a.indexOf(s)&&(a=a.substr(s.length)),this._hashbang&&(a=a.replace("#!","")),(!s||c!==a||x&&"file:"===this._window.location.protocol)&&(t.preventDefault(),this.show(c))}}}}},E.prototype._onpopstate=(b=!1,S?(w&&"complete"===document.readyState?b=!0:window.addEventListener("load",(function(){setTimeout((function(){b=!0}),0)})),function(t){if(b){var e=this;if(t.state){var n=t.state.path;e.replace(n,t.state)}else if(x){var r=e._window.location;e.show(r.pathname+r.search+r.hash,void 0,void 0,!1)}}}):function(){}),E.prototype._which=function(t){return null==(t=t||S&&this._window.event).which?t.button:t.which},E.prototype._toURL=function(t){var e=this._window;if("function"==typeof URL&&x)return new URL(t,e.location.toString());if(w){var n=e.document.createElement("a");return n.href=t,n}},E.prototype.sameOrigin=function(t){if(!t||!x)return!1;var e=this._toURL(t),n=this._window.location;return n.protocol===e.protocol&&n.hostname===e.hostname&&(n.port===e.port||""===n.port&&(80==e.port||443==e.port))},E.prototype._samePath=function(t){if(!x)return!1;var e=this._window.location;return t.pathname===e.pathname&&t.search===e.search},E.prototype._decodeURLEncodedURIComponent=function(t){return"string"!=typeof t?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t},C.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,k&&e.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},C.prototype.save=function(){var t=this.page;k&&t._window.history.replaceState(this.state,this.title,t._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},K.prototype.middleware=function(t){var e=this;return function(n,r){if(e.match(n.path,n.params))return n.routePath=e.path,t(n,r);r()}},K.prototype.match=function(t,e){var n=this.keys,r=t.indexOf("?"),o=~r?t.slice(0,r):t,i=this.regexp.exec(decodeURIComponent(o));if(!i)return!1;delete e[0];for(var a=1,c=i.length;a<c;++a){var s=n[a-1],u=this.page._decodeURLEncodedURIComponent(i[a]);void 0===u&&hasOwnProperty.call(e,s.name)||(e[s.name]=u)}return!0};var U=T(),Z=U,V=U;return Z.default=V,Z}()}));function xe(t,e,n){const r=t.slice();return r[8]=e[n],r[9]=e,r[10]=n,r}function Ee(t){let e,n,o,i,a,d,h,y,v,w,S,k,_,I=t[2].categories,x=[];for(let e=0;e<I.length;e+=1)x[e]=Oe(xe(t,I,e));const E=t=>N(x[t],1,1,(()=>{x[t]=null}));return{c(){e=f("div");for(let t=0;t<x.length;t+=1)x[t].c();n=p(),o=f("div"),i=f("label"),i.textContent="Vilken månad gäller budgeten?",a=p(),d=f("input"),h=p(),y=f("br"),v=p(),w=f("button"),w.textContent="Skicka",g(e,"class","budget-container svelte-mz7exr"),g(i,"for","date"),g(d,"id","date"),g(d,"class","input-date svelte-mz7exr"),g(d,"type","text"),g(w,"class","btn waves-effect waves-light indigo"),g(o,"class","center")},m(r,u){s(r,e,u);for(let t=0;t<x.length;t+=1)x[t].m(e,null);s(r,n,u),s(r,o,u),c(o,i),c(o,a),c(o,d),b(d,t[0]),c(o,h),c(o,y),c(o,v),c(o,w),S=!0,k||(_=[m(d,"input",t[5]),m(w,"click",t[3])],k=!0)},p(t,n){if(6&n){let r;for(I=t[2].categories,r=0;r<I.length;r+=1){const o=xe(t,I,r);x[r]?(x[r].p(o,n),z(x[r],1)):(x[r]=Oe(o),x[r].c(),z(x[r],1),x[r].m(e,null))}for(X(),r=I.length;r<x.length;r+=1)E(r);F()}1&n&&d.value!==t[0]&&b(d,t[0])},i(t){if(!S){for(let t=0;t<I.length;t+=1)z(x[t]);S=!0}},o(t){x=x.filter(Boolean);for(let t=0;t<x.length;t+=1)N(x[t]);S=!1},d(t){t&&u(e),l(x,t),t&&u(n),t&&u(o),k=!1,r(_)}}}function Te(e){let n;return{c(){n=f("p"),n.textContent="Hämtar standard raderna..."},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function Oe(t){let e,n,r,o,i;function a(e){t[4](e,t[8])}let l={category:t[8]};return void 0!==t[1][t[8]]&&(l.entries=t[1][t[8]]),n=new _e({props:l}),x.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(n,"entries",a))),{c(){e=f("div"),Y(n.$$.fragment),o=p(),g(e,"class","budget svelte-mz7exr")},m(t,r){s(t,e,r),B(n,e,null),c(e,o),i=!0},p(e,o){t=e;const i={};4&o&&(i.category=t[8]),!r&&6&o&&(r=!0,i.entries=t[1][t[8]],function(t){T.push(t)}((()=>r=!1))),n.$set(i)},i(t){i||(z(n.$$.fragment,t),i=!0)},o(t){N(n.$$.fragment,t),i=!1},d(t){t&&u(e),$(n)}}}function Re(t){let e,n,r,o;const i=[Te,Ee],a=[];function c(t,e){return void 0===t[2]?0:1}return n=c(t),r=a[n]=i[n](t),{c(){e=f("div"),r.c(),g(e,"id","new-budget-wrapper"),g(e,"class","svelte-mz7exr")},m(t,r){s(t,e,r),a[n].m(e,null),o=!0},p(t,[o]){let s=n;n=c(t),n===s?a[n].p(t,o):(X(),N(a[s],1,1,(()=>{a[s]=null})),F(),r=a[n],r?r.p(t,o):(r=a[n]=i[n](t),r.c()),z(r,1),r.m(e,null))},i(t){o||(z(r),o=!0)},o(t){N(r),o=!1},d(t){t&&u(e),a[n].d()}}}function Le(t,e,n){const r=new Yt,o=new Date;let i,a=new Date(o.getFullYear(),o.getMonth()+1,5).toISOString().slice(0,10),c=[];return et().then((t=>{const e=t.categories.indexOf("Gemensamma");if(e>0){let n=t.categories[0];t.categories[0]=t.categories[e],t.categories[e]=n}t.categories.forEach((e=>{n(1,c[e]=t.result.filter((t=>t.Category.name===e)),c)})),n(2,i=t)})),[a,c,i,async function(){let t=[];i.categories.forEach((e=>{t=[...t,...c[e]]})),t=t.filter((t=>""!==t.value&&""!==t.description)),t.forEach((t=>{t.date=new Date(a)}));try{console.dir(t),await tt(t),r.success("Budget sparad!"),Ie("/")}catch(t){r.error("Något gick fel."),console.error(t.message)}},function(e,r){t.$$.not_equal(c[r],e)&&(c[r]=e,n(1,c))},function(){a=this.value,n(0,a)}]}class Ce extends H{constructor(t){super(),q(this,t,Le,Re,i,{})}}function Ke(t){let e;return{c(){e=f("li"),e.innerHTML='<a href="/login" class="svelte-1hkku9o">Logga in</a>'},m(t,n){s(t,e,n)},d(t){t&&u(e)}}}function Ue(t){let e;return{c(){e=f("li"),e.innerHTML='<a href="/login" class="svelte-1hkku9o">Logga ut</a>'},m(t,n){s(t,e,n)},d(t){t&&u(e)}}}function Ze(e){let n,r,o,i,a;function l(t,e){return t[0]?Ue:Ke}let d=l(e),h=d(e);return{c(){n=f("nav"),r=f("div"),o=f("ul"),o.innerHTML='<li><a href="/" class="svelte-1hkku9o">Hem</a></li> \n\t\t\t<li><a href="/new" class="svelte-1hkku9o">Ny budget</a></li> \n\t\t\t<li><a href="/edit" class="svelte-1hkku9o">Ändra budget</a></li>',i=p(),a=f("ul"),h.c(),g(o,"id","nav-mobile"),g(o,"class","left"),g(a,"id","nav-mobile"),g(a,"class","right"),g(r,"class","nav-wrapper"),g(n,"class","indigo darken-3")},m(t,e){s(t,n,e),c(n,r),c(r,o),c(r,i),c(r,a),h.m(a,null)},p(t,[e]){d!==(d=l(t))&&(h.d(1),h=d(t),h&&(h.c(),h.m(a,null)))},i:t,o:t,d(t){t&&u(n),h.d()}}}function Ve(t,e,n){let{loggedIn:r}=e;return t.$$set=t=>{"loggedIn"in t&&n(0,r=t.loggedIn)},[r]}class We extends H{constructor(t){super(),q(this,t,Ve,Ze,i,{loggedIn:0})}}function Xe(e){let n;return{c(){n=f("p"),n.innerHTML='Logga in uppe till höger eller besök <a href="https://budget.dasifor.xyz">den öppna versionen</a>.',g(n,"class","center svelte-1vbsoe2")},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}class Fe extends H{constructor(t){super(),q(this,t,null,Xe,i,{})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var ze=function(t,e){return(ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ne(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ze(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Pe=function(){return(Pe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function je(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function Ge(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))}function Ae(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var Ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Be(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $e(t,e){return t(e={exports:{}},e.exports),e.exports}var Je=function(t){return t&&t.Math==Math&&t},qe=Je("object"==typeof globalThis&&globalThis)||Je("object"==typeof window&&window)||Je("object"==typeof self&&self)||Je("object"==typeof Ye&&Ye)||function(){return this}()||Function("return this")(),He=function(t){try{return!!t()}catch(t){return!0}},Me=!He((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),De={}.propertyIsEnumerable,Qe=Object.getOwnPropertyDescriptor,tn={f:Qe&&!De.call({1:2},1)?function(t){var e=Qe(this,t);return!!e&&e.enumerable}:De},en=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},nn={}.toString,rn=function(t){return nn.call(t).slice(8,-1)},on="".split,an=He((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==rn(t)?on.call(t,""):Object(t)}:Object,cn=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},sn=function(t){return an(cn(t))},un=function(t){return"object"==typeof t?null!==t:"function"==typeof t},ln=function(t,e){if(!un(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!un(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!un(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!un(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},fn=function(t){return Object(cn(t))},dn={}.hasOwnProperty,pn=function(t,e){return dn.call(fn(t),e)},hn=qe.document,mn=un(hn)&&un(hn.createElement),gn=function(t){return mn?hn.createElement(t):{}},yn=!Me&&!He((function(){return 7!=Object.defineProperty(gn("div"),"a",{get:function(){return 7}}).a})),vn=Object.getOwnPropertyDescriptor,bn={f:Me?vn:function(t,e){if(t=sn(t),e=ln(e,!0),yn)try{return vn(t,e)}catch(t){}if(pn(t,e))return en(!tn.f.call(t,e),t[e])}},wn=function(t){if(!un(t))throw TypeError(String(t)+" is not an object");return t},Sn=Object.defineProperty,kn={f:Me?Sn:function(t,e,n){if(wn(t),e=ln(e,!0),wn(n),yn)try{return Sn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},_n=Me?function(t,e,n){return kn.f(t,e,en(1,n))}:function(t,e,n){return t[e]=n,t},In=function(t,e){try{_n(qe,t,e)}catch(n){qe[t]=e}return e},xn=qe["__core-js_shared__"]||In("__core-js_shared__",{}),En=Function.toString;"function"!=typeof xn.inspectSource&&(xn.inspectSource=function(t){return En.call(t)});var Tn,On,Rn,Ln=xn.inspectSource,Cn=qe.WeakMap,Kn="function"==typeof Cn&&/native code/.test(Ln(Cn)),Un=$e((function(t){(t.exports=function(t,e){return xn[t]||(xn[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.11.0",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),Zn=0,Vn=Math.random(),Wn=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Zn+Vn).toString(36)},Xn=Un("keys"),Fn=function(t){return Xn[t]||(Xn[t]=Wn(t))},zn={},Nn=qe.WeakMap;if(Kn){var Pn=xn.state||(xn.state=new Nn),jn=Pn.get,Gn=Pn.has,An=Pn.set;Tn=function(t,e){if(Gn.call(Pn,t))throw new TypeError("Object already initialized");return e.facade=t,An.call(Pn,t,e),e},On=function(t){return jn.call(Pn,t)||{}},Rn=function(t){return Gn.call(Pn,t)}}else{var Yn=Fn("state");zn[Yn]=!0,Tn=function(t,e){if(pn(t,Yn))throw new TypeError("Object already initialized");return e.facade=t,_n(t,Yn,e),e},On=function(t){return pn(t,Yn)?t[Yn]:{}},Rn=function(t){return pn(t,Yn)}}var Bn,$n,Jn={set:Tn,get:On,has:Rn,enforce:function(t){return Rn(t)?On(t):Tn(t,{})},getterFor:function(t){return function(e){var n;if(!un(e)||(n=On(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},qn=$e((function(t){var e=Jn.get,n=Jn.enforce,r=String(String).split("String");(t.exports=function(t,e,o,i){var a,c=!!i&&!!i.unsafe,s=!!i&&!!i.enumerable,u=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||pn(o,"name")||_n(o,"name",e),(a=n(o)).source||(a.source=r.join("string"==typeof e?e:""))),t!==qe?(c?!u&&t[e]&&(s=!0):delete t[e],s?t[e]=o:_n(t,e,o)):s?t[e]=o:In(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Ln(this)}))})),Hn=qe,Mn=function(t){return"function"==typeof t?t:void 0},Dn=function(t,e){return arguments.length<2?Mn(Hn[t])||Mn(qe[t]):Hn[t]&&Hn[t][e]||qe[t]&&qe[t][e]},Qn=Math.ceil,tr=Math.floor,er=function(t){return isNaN(t=+t)?0:(t>0?tr:Qn)(t)},nr=Math.min,rr=function(t){return t>0?nr(er(t),9007199254740991):0},or=Math.max,ir=Math.min,ar=function(t){return function(e,n,r){var o,i=sn(e),a=rr(i.length),c=function(t,e){var n=er(t);return n<0?or(n+e,0):ir(n,e)}(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},cr={includes:ar(!0),indexOf:ar(!1)},sr=cr.indexOf,ur=function(t,e){var n,r=sn(t),o=0,i=[];for(n in r)!pn(zn,n)&&pn(r,n)&&i.push(n);for(;e.length>o;)pn(r,n=e[o++])&&(~sr(i,n)||i.push(n));return i},lr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],fr=lr.concat("length","prototype"),dr={f:Object.getOwnPropertyNames||function(t){return ur(t,fr)}},pr={f:Object.getOwnPropertySymbols},hr=Dn("Reflect","ownKeys")||function(t){var e=dr.f(wn(t)),n=pr.f;return n?e.concat(n(t)):e},mr=function(t,e){for(var n=hr(e),r=kn.f,o=bn.f,i=0;i<n.length;i++){var a=n[i];pn(t,a)||r(t,a,o(e,a))}},gr=/#|\.prototype\./,yr=function(t,e){var n=br[vr(t)];return n==Sr||n!=wr&&("function"==typeof e?He(e):!!e)},vr=yr.normalize=function(t){return String(t).replace(gr,".").toLowerCase()},br=yr.data={},wr=yr.NATIVE="N",Sr=yr.POLYFILL="P",kr=yr,_r=bn.f,Ir=function(t,e){var n,r,o,i,a,c=t.target,s=t.global,u=t.stat;if(n=s?qe:u?qe[c]||In(c,{}):(qe[c]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=_r(n,r))&&a.value:n[r],!kr(s?r:c+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;mr(i,o)}(t.sham||o&&o.sham)&&_n(i,"sham",!0),qn(n,r,i,t)}},xr="process"==rn(qe.process),Er=Dn("navigator","userAgent")||"",Tr=qe.process,Or=Tr&&Tr.versions,Rr=Or&&Or.v8;Rr?$n=(Bn=Rr.split("."))[0]+Bn[1]:Er&&(!(Bn=Er.match(/Edge\/(\d+)/))||Bn[1]>=74)&&(Bn=Er.match(/Chrome\/(\d+)/))&&($n=Bn[1]);var Lr,Cr=$n&&+$n,Kr=!!Object.getOwnPropertySymbols&&!He((function(){return!Symbol.sham&&(xr?38===Cr:Cr>37&&Cr<41)})),Ur=Kr&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Zr=Un("wks"),Vr=qe.Symbol,Wr=Ur?Vr:Vr&&Vr.withoutSetter||Wn,Xr=function(t){return pn(Zr,t)&&(Kr||"string"==typeof Zr[t])||(Kr&&pn(Vr,t)?Zr[t]=Vr[t]:Zr[t]=Wr("Symbol."+t)),Zr[t]},Fr=Xr("match"),zr=function(t){if(function(t){var e;return un(t)&&(void 0!==(e=t[Fr])?!!e:"RegExp"==rn(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},Nr=Xr("match"),Pr=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Nr]=!1,"/./"[t](e)}catch(t){}}return!1},jr=bn.f,Gr="".startsWith,Ar=Math.min,Yr=Pr("startsWith"),Br=!(Yr||(Lr=jr(String.prototype,"startsWith"),!Lr||Lr.writable));Ir({target:"String",proto:!0,forced:!Br&&!Yr},{startsWith:function(t){var e=String(cn(this));zr(t);var n=rr(Ar(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Gr?Gr.call(e,r,n):e.slice(n,n+r.length)===r}});var $r=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Jr=function(t,e,n){if($r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},qr=Function.call,Hr=function(t,e,n){return Jr(qr,qe[t].prototype[e],n)};Hr("String","startsWith");var Mr=Array.isArray||function(t){return"Array"==rn(t)},Dr=function(t,e,n){var r=ln(e);r in t?kn.f(t,r,en(0,n)):t[r]=n},Qr=Xr("species"),to=function(t,e){var n;return Mr(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Mr(n.prototype)?un(n)&&null===(n=n[Qr])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},eo=Xr("species"),no=Xr("isConcatSpreadable"),ro=Cr>=51||!He((function(){var t=[];return t[no]=!1,t.concat()[0]!==t})),oo=Cr>=51||!He((function(){var t=[];return(t.constructor={})[eo]=function(){return{foo:1}},1!==t.concat(Boolean).foo})),io=function(t){if(!un(t))return!1;var e=t[no];return void 0!==e?!!e:Mr(t)};Ir({target:"Array",proto:!0,forced:!ro||!oo},{concat:function(t){var e,n,r,o,i,a=fn(this),c=to(a,0),s=0;for(e=-1,r=arguments.length;e<r;e++)if(io(i=-1===e?a:arguments[e])){if(s+(o=rr(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,s++)n in i&&Dr(c,s,i[n])}else{if(s>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Dr(c,s++,i)}return c.length=s,c}});var ao={};ao[Xr("toStringTag")]="z";var co="[object z]"===String(ao),so=Xr("toStringTag"),uo="Arguments"==rn(function(){return arguments}()),lo=co?rn:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),so))?n:uo?rn(e):"Object"==(r=rn(e))&&"function"==typeof e.callee?"Arguments":r},fo=co?{}.toString:function(){return"[object "+lo(this)+"]"};co||qn(Object.prototype,"toString",fo,{unsafe:!0});var po,ho=Object.keys||function(t){return ur(t,lr)},mo=Me?Object.defineProperties:function(t,e){wn(t);for(var n,r=ho(e),o=r.length,i=0;o>i;)kn.f(t,n=r[i++],e[n]);return t},go=Dn("document","documentElement"),yo=Fn("IE_PROTO"),vo=function(){},bo=function(t){return"<script>"+t+"<\/script>"},wo=function(){try{po=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;wo=po?function(t){t.write(bo("")),t.close();var e=t.parentWindow.Object;return t=null,e}(po):((e=gn("iframe")).style.display="none",go.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(bo("document.F=Object")),t.close(),t.F);for(var n=lr.length;n--;)delete wo.prototype[lr[n]];return wo()};zn[yo]=!0;var So=Object.create||function(t,e){var n;return null!==t?(vo.prototype=wn(t),n=new vo,vo.prototype=null,n[yo]=t):n=wo(),void 0===e?n:mo(n,e)},ko=dr.f,_o={}.toString,Io="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],xo={f:function(t){return Io&&"[object Window]"==_o.call(t)?function(t){try{return ko(t)}catch(t){return Io.slice()}}(t):ko(sn(t))}},Eo={f:Xr},To=kn.f,Oo=function(t){var e=Hn.Symbol||(Hn.Symbol={});pn(e,t)||To(e,t,{value:Eo.f(t)})},Ro=kn.f,Lo=Xr("toStringTag"),Co=function(t,e,n){t&&!pn(t=n?t:t.prototype,Lo)&&Ro(t,Lo,{configurable:!0,value:e})},Ko=[].push,Uo=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,a=7==t,c=5==t||i;return function(s,u,l,f){for(var d,p,h=fn(s),m=an(h),g=Jr(u,l,3),y=rr(m.length),v=0,b=f||to,w=e?b(s,y):n||a?b(s,0):void 0;y>v;v++)if((c||v in m)&&(p=g(d=m[v],v,h),t))if(e)w[v]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return v;case 2:Ko.call(w,d)}else switch(t){case 4:return!1;case 7:Ko.call(w,d)}return i?-1:r||o?o:w}},Zo=[Uo(0),Uo(1),Uo(2),Uo(3),Uo(4),Uo(5),Uo(6),Uo(7)][0],Vo=Fn("hidden"),Wo=Xr("toPrimitive"),Xo=Jn.set,Fo=Jn.getterFor("Symbol"),zo=Object.prototype,No=qe.Symbol,Po=Dn("JSON","stringify"),jo=bn.f,Go=kn.f,Ao=xo.f,Yo=tn.f,Bo=Un("symbols"),$o=Un("op-symbols"),Jo=Un("string-to-symbol-registry"),qo=Un("symbol-to-string-registry"),Ho=Un("wks"),Mo=qe.QObject,Do=!Mo||!Mo.prototype||!Mo.prototype.findChild,Qo=Me&&He((function(){return 7!=So(Go({},"a",{get:function(){return Go(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=jo(zo,e);r&&delete zo[e],Go(t,e,n),r&&t!==zo&&Go(zo,e,r)}:Go,ti=function(t,e){var n=Bo[t]=So(No.prototype);return Xo(n,{type:"Symbol",tag:t,description:e}),Me||(n.description=e),n},ei=Ur?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof No},ni=function(t,e,n){t===zo&&ni($o,e,n),wn(t);var r=ln(e,!0);return wn(n),pn(Bo,r)?(n.enumerable?(pn(t,Vo)&&t[Vo][r]&&(t[Vo][r]=!1),n=So(n,{enumerable:en(0,!1)})):(pn(t,Vo)||Go(t,Vo,en(1,{})),t[Vo][r]=!0),Qo(t,r,n)):Go(t,r,n)},ri=function(t,e){wn(t);var n=sn(e),r=ho(n).concat(ci(n));return Zo(r,(function(e){Me&&!oi.call(n,e)||ni(t,e,n[e])})),t},oi=function(t){var e=ln(t,!0),n=Yo.call(this,e);return!(this===zo&&pn(Bo,e)&&!pn($o,e))&&(!(n||!pn(this,e)||!pn(Bo,e)||pn(this,Vo)&&this[Vo][e])||n)},ii=function(t,e){var n=sn(t),r=ln(e,!0);if(n!==zo||!pn(Bo,r)||pn($o,r)){var o=jo(n,r);return!o||!pn(Bo,r)||pn(n,Vo)&&n[Vo][r]||(o.enumerable=!0),o}},ai=function(t){var e=Ao(sn(t)),n=[];return Zo(e,(function(t){pn(Bo,t)||pn(zn,t)||n.push(t)})),n},ci=function(t){var e=t===zo,n=Ao(e?$o:sn(t)),r=[];return Zo(n,(function(t){!pn(Bo,t)||e&&!pn(zo,t)||r.push(Bo[t])})),r};if(Kr||(qn((No=function(){if(this instanceof No)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=Wn(t),n=function(t){this===zo&&n.call($o,t),pn(this,Vo)&&pn(this[Vo],e)&&(this[Vo][e]=!1),Qo(this,e,en(1,t))};return Me&&Do&&Qo(zo,e,{configurable:!0,set:n}),ti(e,t)}).prototype,"toString",(function(){return Fo(this).tag})),qn(No,"withoutSetter",(function(t){return ti(Wn(t),t)})),tn.f=oi,kn.f=ni,bn.f=ii,dr.f=xo.f=ai,pr.f=ci,Eo.f=function(t){return ti(Xr(t),t)},Me&&(Go(No.prototype,"description",{configurable:!0,get:function(){return Fo(this).description}}),qn(zo,"propertyIsEnumerable",oi,{unsafe:!0}))),Ir({global:!0,wrap:!0,forced:!Kr,sham:!Kr},{Symbol:No}),Zo(ho(Ho),(function(t){Oo(t)})),Ir({target:"Symbol",stat:!0,forced:!Kr},{for:function(t){var e=String(t);if(pn(Jo,e))return Jo[e];var n=No(e);return Jo[e]=n,qo[n]=e,n},keyFor:function(t){if(!ei(t))throw TypeError(t+" is not a symbol");if(pn(qo,t))return qo[t]},useSetter:function(){Do=!0},useSimple:function(){Do=!1}}),Ir({target:"Object",stat:!0,forced:!Kr,sham:!Me},{create:function(t,e){return void 0===e?So(t):ri(So(t),e)},defineProperty:ni,defineProperties:ri,getOwnPropertyDescriptor:ii}),Ir({target:"Object",stat:!0,forced:!Kr},{getOwnPropertyNames:ai,getOwnPropertySymbols:ci}),Ir({target:"Object",stat:!0,forced:He((function(){pr.f(1)}))},{getOwnPropertySymbols:function(t){return pr.f(fn(t))}}),Po){var si=!Kr||He((function(){var t=No();return"[null]"!=Po([t])||"{}"!=Po({a:t})||"{}"!=Po(Object(t))}));Ir({target:"JSON",stat:!0,forced:si},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(un(e)||void 0!==t)&&!ei(t))return Mr(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ei(e))return e}),o[1]=e,Po.apply(null,o)}})}No.prototype[Wo]||_n(No.prototype,Wo,No.prototype.valueOf),Co(No,"Symbol"),zn[Vo]=!0,Oo("asyncIterator");var ui=kn.f,li=qe.Symbol;if(Me&&"function"==typeof li&&(!("description"in li.prototype)||void 0!==li().description)){var fi={},di=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof di?new li(t):void 0===t?li():li(t);return""===t&&(fi[e]=!0),e};mr(di,li);var pi=di.prototype=li.prototype;pi.constructor=di;var hi=pi.toString,mi="Symbol(test)"==String(li("test")),gi=/^Symbol\((.*)\)[^)]+$/;ui(pi,"description",{configurable:!0,get:function(){var t=un(this)?this.valueOf():this,e=hi.call(t);if(pn(fi,t))return"";var n=mi?e.slice(7,-1):e.replace(gi,"$1");return""===n?void 0:n}}),Ir({global:!0,forced:!0},{Symbol:di})}Oo("hasInstance"),Oo("isConcatSpreadable"),Oo("iterator"),Oo("match"),Oo("matchAll"),Oo("replace"),Oo("search"),Oo("species"),Oo("split"),Oo("toPrimitive"),Oo("toStringTag"),Oo("unscopables"),Co(qe.JSON,"JSON",!0),Co(Math,"Math",!0),Ir({global:!0},{Reflect:{}}),Co(qe.Reflect,"Reflect",!0),Hn.Symbol;var yi,vi,bi,wi=function(t){return function(e,n){var r,o,i=String(cn(e)),a=er(n),c=i.length;return a<0||a>=c?t?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):r:t?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}},Si={codeAt:wi(!1),charAt:wi(!0)},ki=!He((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),_i=Fn("IE_PROTO"),Ii=Object.prototype,xi=ki?Object.getPrototypeOf:function(t){return t=fn(t),pn(t,_i)?t[_i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ii:null},Ei=Xr("iterator"),Ti=!1;[].keys&&("next"in(bi=[].keys())?(vi=xi(xi(bi)))!==Object.prototype&&(yi=vi):Ti=!0),(null==yi||He((function(){var t={};return yi[Ei].call(t)!==t})))&&(yi={}),pn(yi,Ei)||_n(yi,Ei,(function(){return this}));var Oi={IteratorPrototype:yi,BUGGY_SAFARI_ITERATORS:Ti},Ri={},Li=Oi.IteratorPrototype,Ci=function(){return this},Ki=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return wn(n),function(t){if(!un(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Ui=Oi.IteratorPrototype,Zi=Oi.BUGGY_SAFARI_ITERATORS,Vi=Xr("iterator"),Wi=function(){return this},Xi=function(t,e,n,r,o,i,a){!function(t,e,n){var r=e+" Iterator";t.prototype=So(Li,{next:en(1,n)}),Co(t,r,!1),Ri[r]=Ci}(n,e,r);var c,s,u,l=function(t){if(t===o&&m)return m;if(!Zi&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",d=!1,p=t.prototype,h=p[Vi]||p["@@iterator"]||o&&p[o],m=!Zi&&h||l(o),g="Array"==e&&p.entries||h;if(g&&(c=xi(g.call(new t)),Ui!==Object.prototype&&c.next&&(xi(c)!==Ui&&(Ki?Ki(c,Ui):"function"!=typeof c[Vi]&&_n(c,Vi,Wi)),Co(c,f,!0))),"values"==o&&h&&"values"!==h.name&&(d=!0,m=function(){return h.call(this)}),p[Vi]!==m&&_n(p,Vi,m),Ri[e]=m,o)if(s={values:l("values"),keys:i?m:l("keys"),entries:l("entries")},a)for(u in s)(Zi||d||!(u in p))&&qn(p,u,s[u]);else Ir({target:e,proto:!0,forced:Zi||d},s);return s},Fi=Si.charAt,zi=Jn.set,Ni=Jn.getterFor("String Iterator");Xi(String,"String",(function(t){zi(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=Ni(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Fi(n,r),e.index+=t.length,{value:t,done:!1})}));var Pi=function(t){var e=t.return;if(void 0!==e)return wn(e.call(t)).value},ji=function(t,e,n,r){try{return r?e(wn(n)[0],n[1]):e(n)}catch(e){throw Pi(t),e}},Gi=Xr("iterator"),Ai=Array.prototype,Yi=function(t){return void 0!==t&&(Ri.Array===t||Ai[Gi]===t)},Bi=Xr("iterator"),$i=function(t){if(null!=t)return t[Bi]||t["@@iterator"]||Ri[lo(t)]},Ji=Xr("iterator"),qi=!1;try{var Hi=0,Mi={next:function(){return{done:!!Hi++}},return:function(){qi=!0}};Mi[Ji]=function(){return this},Array.from(Mi,(function(){throw 2}))}catch(ze){}var Di=function(t,e){if(!e&&!qi)return!1;var n=!1;try{var r={};r[Ji]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Qi=!Di((function(t){Array.from(t)}));Ir({target:"Array",stat:!0,forced:Qi},{from:function(t){var e,n,r,o,i,a,c=fn(t),s="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=$i(c),p=0;if(f&&(l=Jr(l,u>2?arguments[2]:void 0,2)),null==d||s==Array&&Yi(d))for(n=new s(e=rr(c.length));e>p;p++)a=f?l(c[p],p):c[p],Dr(n,p,a);else for(i=(o=d.call(c)).next,n=new s;!(r=i.call(o)).done;p++)a=f?ji(o,l,[r.value,p],!0):r.value,Dr(n,p,a);return n.length=p,n}}),Hn.Array.from;var ta,ea="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,na=kn.f,ra=qe.Int8Array,oa=ra&&ra.prototype,ia=qe.Uint8ClampedArray,aa=ia&&ia.prototype,ca=ra&&xi(ra),sa=oa&&xi(oa),ua=Object.prototype,la=ua.isPrototypeOf,fa=Xr("toStringTag"),da=Wn("TYPED_ARRAY_TAG"),pa=ea&&!!Ki&&"Opera"!==lo(qe.opera),ha={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},ma={BigInt64Array:8,BigUint64Array:8};for(ta in ha)qe[ta]||(pa=!1);if((!pa||"function"!=typeof ca||ca===Function.prototype)&&(ca=function(){throw TypeError("Incorrect invocation")},pa))for(ta in ha)qe[ta]&&Ki(qe[ta],ca);if((!pa||!sa||sa===ua)&&(sa=ca.prototype,pa))for(ta in ha)qe[ta]&&Ki(qe[ta].prototype,sa);if(pa&&xi(aa)!==sa&&Ki(aa,sa),Me&&!pn(sa,fa))for(ta in na(sa,fa,{get:function(){return un(this)?this[da]:void 0}}),ha)qe[ta]&&_n(qe[ta],da,ta);var ga=Xr("species"),ya=function(t){if(function(t){if(!un(t))return!1;var e=lo(t);return pn(ha,e)||pn(ma,e)}(t))return t;throw TypeError("Target is not a typed array")},va=function(t){if(Ki){if(la.call(ca,t))return t}else for(var e in ha)if(pn(ha,ta)){var n=qe[e];if(n&&(t===n||la.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},ba=[].slice;!function(t,e,n){if(Me){if(n)for(var r in ha){var o=qe[r];o&&pn(o.prototype,t)&&delete o.prototype[t]}sa[t]&&!n||qn(sa,t,n?e:pa&&oa[t]||e)}}("slice",(function(t,e){for(var n=ba.call(ya(this),t,e),r=function(t,e){var n,r=wn(t).constructor;return void 0===r||null==(n=wn(r)[ga])?e:$r(n)}(this,this.constructor),o=0,i=n.length,a=new(va(r))(i);i>o;)a[o]=n[o++];return a}),He((function(){new Int8Array(1).slice()})));var wa=Xr("unscopables"),Sa=Array.prototype;null==Sa[wa]&&kn.f(Sa,wa,{configurable:!0,value:So(null)});var ka=function(t){Sa[wa][t]=!0},_a=cr.includes;Ir({target:"Array",proto:!0},{includes:function(t){return _a(this,t,arguments.length>1?arguments[1]:void 0)}}),ka("includes"),Hr("Array","includes"),Ir({target:"String",proto:!0,forced:!Pr("includes")},{includes:function(t){return!!~String(cn(this)).indexOf(zr(t),arguments.length>1?arguments[1]:void 0)}}),Hr("String","includes");var Ia=!He((function(){return Object.isExtensible(Object.preventExtensions({}))})),xa=$e((function(t){var e=kn.f,n=Wn("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!un(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!pn(t,n)){if(!o(t))return"F";if(!e)return"E";i(t)}return t[n].objectID},getWeakData:function(t,e){if(!pn(t,n)){if(!o(t))return!0;if(!e)return!1;i(t)}return t[n].weakData},onFreeze:function(t){return Ia&&a.REQUIRED&&o(t)&&!pn(t,n)&&i(t),t}};zn[n]=!0}));xa.REQUIRED,xa.fastKey,xa.getWeakData,xa.onFreeze;var Ea=function(t,e){this.stopped=t,this.result=e},Ta=function(t,e,n){var r,o,i,a,c,s,u,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),h=Jr(e,l,1+f+p),m=function(t){return r&&Pi(r),new Ea(!0,t)},g=function(t){return f?(wn(t),p?h(t[0],t[1],m):h(t[0],t[1])):p?h(t,m):h(t)};if(d)r=t;else{if("function"!=typeof(o=$i(t)))throw TypeError("Target is not iterable");if(Yi(o)){for(i=0,a=rr(t.length);a>i;i++)if((c=g(t[i]))&&c instanceof Ea)return c;return new Ea(!1)}r=o.call(t)}for(s=r.next;!(u=s.call(r)).done;){try{c=g(u.value)}catch(t){throw Pi(r),t}if("object"==typeof c&&c&&c instanceof Ea)return c}return new Ea(!1)},Oa=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Ra=function(t,e,n){for(var r in e)qn(t,r,e[r],n);return t},La=Xr("species"),Ca=kn.f,Ka=xa.fastKey,Ua=Jn.set,Za=Jn.getterFor;!function(t,e,n){var r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=r?"set":"add",a=qe[t],c=a&&a.prototype,s=a,u={},l=function(t){var e=c[t];qn(c,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!un(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!un(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!un(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(kr(t,"function"!=typeof a||!(o||c.forEach&&!He((function(){(new a).entries().next()})))))s=n.getConstructor(e,t,r,i),xa.REQUIRED=!0;else if(kr(t,!0)){var f=new s,d=f[i](o?{}:-0,1)!=f,p=He((function(){f.has(1)})),h=Di((function(t){new a(t)})),m=!o&&He((function(){for(var t=new a,e=5;e--;)t[i](e,e);return!t.has(-0)}));h||((s=e((function(e,n){Oa(e,s,t);var o=function(t,e,n){var r,o;return Ki&&"function"==typeof(r=e.constructor)&&r!==n&&un(o=r.prototype)&&o!==n.prototype&&Ki(t,o),t}(new a,e,s);return null!=n&&Ta(n,o[i],{that:o,AS_ENTRIES:r}),o}))).prototype=c,c.constructor=s),(p||m)&&(l("delete"),l("has"),r&&l("get")),(m||d)&&l(i),o&&c.clear&&delete c.clear}u[t]=s,Ir({global:!0,forced:s!=a},u),Co(s,t),o||n.setStrong(s,t,r)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,r){var o=t((function(t,i){Oa(t,o,e),Ua(t,{type:e,index:So(null),first:void 0,last:void 0,size:0}),Me||(t.size=0),null!=i&&Ta(i,t[r],{that:t,AS_ENTRIES:n})})),i=Za(e),a=function(t,e,n){var r,o,a=i(t),s=c(t,e);return s?s.value=n:(a.last=s={index:o=Ka(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=s),r&&(r.next=s),Me?a.size++:t.size++,"F"!==o&&(a.index[o]=s)),t},c=function(t,e){var n,r=i(t),o=Ka(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Ra(o.prototype,{clear:function(){for(var t=i(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,Me?t.size=0:this.size=0},delete:function(t){var e=this,n=i(e),r=c(e,t);if(r){var o=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=o),o&&(o.previous=a),n.first==r&&(n.first=o),n.last==r&&(n.last=a),Me?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=i(this),r=Jr(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),Ra(o.prototype,n?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),Me&&Ca(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",o=Za(e),i=Za(r);Xi(t,e,(function(t,e){Ua(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(t){var e=Dn(t),n=kn.f;Me&&e&&!e[La]&&n(e,La,{configurable:!0,get:function(){return this}})}(e)}});var Va={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Wa=Jn.set,Xa=Jn.getterFor("Array Iterator"),Fa=Xi(Array,"Array",(function(t,e){Wa(this,{type:"Array Iterator",target:sn(t),index:0,kind:e})}),(function(){var t=Xa(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");Ri.Arguments=Ri.Array,ka("keys"),ka("values"),ka("entries");var za=Xr("iterator"),Na=Xr("toStringTag"),Pa=Fa.values;for(var ja in Va){var Ga=qe[ja],Aa=Ga&&Ga.prototype;if(Aa){if(Aa[za]!==Pa)try{_n(Aa,za,Pa)}catch(ze){Aa[za]=Pa}if(Aa[Na]||_n(Aa,Na,ja),Va[ja])for(var Ya in Fa)if(Aa[Ya]!==Fa[Ya])try{_n(Aa,Ya,Fa[Ya])}catch(ze){Aa[Ya]=Fa[Ya]}}}function Ba(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}function $a(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(e){i(t,e)}),(function(n){r[t]={status:"rejected",reason:n},0==--o&&e(r)}))}r[t]={status:"fulfilled",value:n},0==--o&&e(r)}for(var a=0;a<r.length;a++)i(a,r[a])}))}Hn.Set;var Ja=setTimeout;function qa(t){return Boolean(t&&void 0!==t.length)}function Ha(){}function Ma(t){if(!(this instanceof Ma))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],rc(t,this)}function Da(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,Ma._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void tc(e.promise,t)}Qa(e.promise,r)}else(1===t._state?Qa:tc)(e.promise,t._value)}))):t._deferreds.push(e)}function Qa(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof Ma)return t._state=3,t._value=e,void ec(t);if("function"==typeof n)return void rc((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,ec(t)}catch(e){tc(t,e)}var r,o}function tc(t,e){t._state=2,t._value=e,ec(t)}function ec(t){2===t._state&&0===t._deferreds.length&&Ma._immediateFn((function(){t._handled||Ma._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)Da(t,t._deferreds[e]);t._deferreds=null}function nc(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function rc(t,e){var n=!1;try{t((function(t){n||(n=!0,Qa(e,t))}),(function(t){n||(n=!0,tc(e,t))}))}catch(t){if(n)return;n=!0,tc(e,t)}}Ma.prototype.catch=function(t){return this.then(null,t)},Ma.prototype.then=function(t,e){var n=new this.constructor(Ha);return Da(this,new nc(t,e,n)),n},Ma.prototype.finally=Ba,Ma.all=function(t){return new Ma((function(e,n){if(!qa(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,(function(e){i(t,e)}),n)}r[t]=a,0==--o&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},Ma.allSettled=$a,Ma.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Ma?t:new Ma((function(e){e(t)}))},Ma.reject=function(t){return new Ma((function(e,n){n(t)}))},Ma.race=function(t){return new Ma((function(e,n){if(!qa(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)Ma.resolve(t[r]).then(e,n)}))},Ma._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){Ja(t,0)},Ma._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var oc=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof oc.Promise?oc.Promise=Ma:oc.Promise.prototype.finally?oc.Promise.allSettled||(oc.Promise.allSettled=$a):oc.Promise.prototype.finally=Ba,function(t){function e(){}function n(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===o.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(t){for(var e=0,n=Math.min(65536,t.length+1),r=new Uint16Array(n),o=[],i=0;;){var a=e<t.length;if(!a||i>=n-1){if(o.push(String.fromCharCode.apply(null,r.subarray(0,i))),!a)return o.join("");t=t.subarray(e),i=e=0}if(0==(128&(a=t[e++])))r[i++]=a;else if(192==(224&a)){var c=63&t[e++];r[i++]=(31&a)<<6|c}else if(224==(240&a)){c=63&t[e++];var s=63&t[e++];r[i++]=(31&a)<<12|c<<6|s}else 240==(248&a)&&(65535<(a=(7&a)<<18|(c=63&t[e++])<<12|(s=63&t[e++])<<6|63&t[e++])&&(a-=65536,r[i++]=a>>>10&1023|55296,a=56320|1023&a),r[i++]=a)}}if(t.TextEncoder&&t.TextDecoder)return!1;var o=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,r=0,o=Math.max(32,n+(n>>>1)+7),i=new Uint8Array(o>>>3<<3);e<n;){var a=t.charCodeAt(e++);if(55296<=a&&56319>=a){if(e<n){var c=t.charCodeAt(e);56320==(64512&c)&&(++e,a=((1023&a)<<10)+(1023&c)+65536)}if(55296<=a&&56319>=a)continue}if(r+4>i.length&&(o+=8,o=(o*=1+e/t.length*2)>>>3<<3,(c=new Uint8Array(o)).set(i),i=c),0==(4294967168&a))i[r++]=a;else{if(0==(4294965248&a))i[r++]=a>>>6&31|192;else if(0==(4294901760&a))i[r++]=a>>>12&15|224,i[r++]=a>>>6&63|128;else{if(0!=(4292870144&a))continue;i[r++]=a>>>18&7|240,i[r++]=a>>>12&63|128,i[r++]=a>>>6&63|128}i[r++]=63&a|128}}return i.slice?i.slice(0,r):i.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var i=r;"function"==typeof Buffer&&Buffer.from?i=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(i=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n.responseText}catch(e){return r(t)}finally{URL.revokeObjectURL(e)}}),n.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),i(t)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:Ye),function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?a(t):e}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=u(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}var f=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:n})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],r=0,o=n.length;r<o;r++)if(n[r].callback===e)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),n=0,r=e.length;n<r;n++){var o=e[n];try{o.callback.call(this,t)}catch(t){Promise.resolve().then((function(){throw t}))}o.options&&o.options.once&&this.removeEventListener(t.type,o.callback)}return!t.defaultPrevented}}}]),e}(),d=function(e){r(c,e);var i=s(c);function c(){var e;return t(this,c),(e=i.call(this)).listeners||f.call(a(e)),Object.defineProperty(a(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return n(c,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),l(o(c.prototype),"dispatchEvent",this).call(this,t)}}]),c}(f),p=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),function(t){(function(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController})(t)&&(t.AbortController=p,t.AbortSignal=d)}("undefined"!=typeof self?self:Ye)}();var ic=$e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,n){var r=t.locked.get(e);void 0===r?void 0===n?t.locked.set(e,[]):t.locked.set(e,[n]):void 0!==n&&(r.unshift(n),t.locked.set(e,r))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise((function(n,r){t.isLocked(e)?t.addToLocked(e,n):(t.addToLocked(e),n())}))},this.unlock=function(e){var n=t.locked.get(e);if(void 0!==n&&0!==n.length){var r=n.pop();t.locked.set(e,n),void 0!==r&&setTimeout(r,0)}else t.locked.delete(e)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return n.getInstance()}}));Be(ic);var ac=Be($e((function(t,e){var n=Ye&&Ye.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,c)}s((r=r.apply(t,e||[])).next())}))},r=Ye&&Ye.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var o="browser-tabs-lock-key";function i(t){return new Promise((function(e){return setTimeout(e,t)}))}function a(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}var c=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+a(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,c){return void 0===c&&(c=5e3),n(this,void 0,void 0,(function(){var n,s,u,l,f,d;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+a(4),s=Date.now()+c,u=o+"-"+e,l=window.localStorage,r.label=1;case 1:return Date.now()<s?[4,i(30)]:[3,8];case 2:return r.sent(),null!==l.getItem(u)?[3,5]:(f=this.id+"-"+e+"-"+n,[4,i(Math.floor(25*Math.random()))]);case 3:return r.sent(),l.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:f,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,i(30)];case 4:return r.sent(),null!==(d=l.getItem(u))&&(d=JSON.parse(d)).id===this.id&&d.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(s)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+a(4),[3,1];case 8:return[2,!1]}}))}))},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,(function(){var o=this;return r(this,(function(i){return setTimeout((function(){return n(o,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return[4,ic.default().lock(e)];case 1:return r.sent(),this.acquiredIatSet.has(e)?(n=window.localStorage,null===(o=n.getItem(t))?(ic.default().unlock(e),[2]):((o=JSON.parse(o)).timeRefreshed=Date.now(),n.setItem(t,JSON.stringify(o)),ic.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2])):(ic.default().unlock(e),[2])}}))}))}),1e3),[2]}))}))},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,o=Date.now(),i=!1;function a(){if(i||(window.removeEventListener("storage",a),t.removeFromWaiting(a),clearTimeout(c),i=!0),!r){r=!0;var e=50-(Date.now()-o);e>0?setTimeout(n,e):n()}}window.addEventListener("storage",a),t.addToWaiting(a);var c=setTimeout(a,Math.max(0,e-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter((function(t){return t!==e})))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach((function(t){return t()}))},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,(function(){var n,i,a;return r(this,(function(r){switch(r.label){case 0:return n=window.localStorage,i=o+"-"+e,null===(a=n.getItem(i))?[2]:(a=JSON.parse(a)).id!==this.id?[3,2]:[4,ic.default().lock(a.iat)];case 1:r.sent(),this.acquiredIatSet.delete(a.iat),n.removeItem(i),ic.default().unlock(a.iat),t.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},t.lockCorrector=function(){for(var e=Date.now()-5e3,n=window.localStorage,r=Object.keys(n),i=!1,a=0;a<r.length;a++){var c=r[a];if(c.includes(o)){var s=n.getItem(c);null!==s&&(void 0===(s=JSON.parse(s)).timeRefreshed&&s.timeAcquired<e||void 0!==s.timeRefreshed&&s.timeRefreshed<e)&&(n.removeItem(c),i=!0)}}i&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=c}))),cc={timeoutInSeconds:60},sc=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],uc={name:"auth0-spa-js",version:"1.15.0"},lc=function(t){function e(n,r){var o=t.call(this,r)||this;return o.error=n,o.error_description=r,Object.setPrototypeOf(o,e.prototype),o}return Ne(e,t),e.fromPayload=function(t){return new e(t.error,t.error_description)},e}(Error),fc=function(t){function e(n,r,o,i){void 0===i&&(i=null);var a=t.call(this,n,r)||this;return a.state=o,a.appState=i,Object.setPrototypeOf(a,e.prototype),a}return Ne(e,t),e}(lc),dc=function(t){function e(){var n=t.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,e.prototype),n}return Ne(e,t),e}(lc),pc=function(t){function e(n){var r=t.call(this)||this;return r.popup=n,Object.setPrototypeOf(r,e.prototype),r}return Ne(e,t),e}(dc),hc=function(t){function e(n){var r=t.call(this,"cancelled","Popup closed")||this;return r.popup=n,Object.setPrototypeOf(r,e.prototype),r}return Ne(e,t),e}(lc),mc=function(t){return new Promise((function(e,n){var r,o=setInterval((function(){t.popup&&t.popup.closed&&(clearInterval(o),clearTimeout(i),window.removeEventListener("message",r,!1),n(new hc(t.popup)))}),1e3),i=setTimeout((function(){clearInterval(o),n(new pc(t.popup)),window.removeEventListener("message",r,!1)}),1e3*(t.timeoutInSeconds||60));r=function(a){if(a.data&&"authorization_response"===a.data.type){if(clearTimeout(i),clearInterval(o),window.removeEventListener("message",r,!1),t.popup.close(),a.data.response.error)return n(lc.fromPayload(a.data.response));e(a.data.response)}},window.addEventListener("message",r)}))},gc=function(){return window.crypto||window.msCrypto},yc=function(){var t=gc();return t.subtle||t.webkitSubtle},vc=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(gc().getRandomValues(new Uint8Array(43))).forEach((function(n){return e+=t[n%t.length]})),e},bc=function(t){return btoa(t)},wc=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},Sc=function(t){return Ge(void 0,void 0,void 0,(function(){var e;return Ae(this,(function(n){switch(n.label){case 0:return e=yc().digest({name:"SHA-256"},(new TextEncoder).encode(t)),window.msCrypto?[2,new Promise((function(t,n){e.oncomplete=function(e){t(e.target.result)},e.onerror=function(t){n(t.error)},e.onabort=function(){n("The digest operation was aborted")}}))]:[4,e];case 1:return[2,n.sent()]}}))}))},kc=function(t){return function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t.replace(/_/g,"/").replace(/-/g,"+"))},_c=function(t){var e=new Uint8Array(t);return function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(function(t){return e[t]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(e))))},Ic=function(t,e){return Ge(void 0,void 0,void 0,(function(){var n,r;return Ae(this,(function(o){switch(o.label){case 0:return[4,(i=t,a=e,a=a||{},new Promise((function(t,e){var n=new XMLHttpRequest,r=[],o=[],c={},s=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:s,headers:{keys:function(){return r},entries:function(){return o},get:function(t){return c[t.toLowerCase()]},has:function(t){return t.toLowerCase()in c}}}};for(var u in n.open(a.method||"get",i,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){r.push(e=e.toLowerCase()),o.push([e,n]),c[e]=c[e]?c[e]+","+n:n})),t(s())},n.onerror=e,n.withCredentials="include"==a.credentials,a.headers)n.setRequestHeader(u,a.headers[u]);n.send(a.body||null)})))];case 1:return n=o.sent(),r={ok:n.ok},[4,n.json()];case 2:return[2,(r.json=o.sent(),r)]}var i,a}))}))},xc=function(t,e,n){return Ge(void 0,void 0,void 0,(function(){var r,o;return Ae(this,(function(i){return r=new AbortController,e.signal=r.signal,[2,Promise.race([Ic(t,e),new Promise((function(t,e){o=setTimeout((function(){r.abort(),e(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(o)}))]}))}))},Ec=function(t,e,n,r,o,i){return Ge(void 0,void 0,void 0,(function(){return Ae(this,(function(a){return[2,(c={auth:{audience:e,scope:n},timeout:o,fetchUrl:t,fetchOptions:r},s=i,new Promise((function(t,e){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?e(new Error(n.data.error)):t(n.data)},s.postMessage(c,[n.port2])})))];var c,s}))}))},Tc=function(t,e,n,r,o,i){return void 0===i&&(i=1e4),Ge(void 0,void 0,void 0,(function(){return Ae(this,(function(a){return o?[2,Ec(t,e,n,r,i,o)]:[2,xc(t,r,i)]}))}))};function Oc(t,e,n,r,o,i){return Ge(this,void 0,void 0,(function(){var a,c,s,u,l,f,d,p;return Ae(this,(function(h){switch(h.label){case 0:a=null,s=0,h.label=1;case 1:if(!(s<3))return[3,6];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,Tc(t,n,r,o,i,e)];case 3:return c=h.sent(),a=null,[3,6];case 4:return u=h.sent(),a=u,[3,5];case 5:return s++,[3,1];case 6:if(a)throw a.message=a.message||"Failed to fetch",a;if(l=c.json,f=l.error,d=l.error_description,p=je(l,["error","error_description"]),!c.ok)throw new lc(f||"request_error",d||"HTTP error. Unable to fetch "+t);return[2,p]}}))}))}function Rc(t,e){var n=t.baseUrl,r=t.timeout,o=t.audience,i=t.scope,a=t.auth0Client,c=je(t,["baseUrl","timeout","audience","scope","auth0Client"]);return Ge(this,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return[4,Oc(n+"/oauth/token",r,o||"default",i,{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"application/json","Auth0-Client":btoa(JSON.stringify(a||uc))}},e)];case 1:return[2,t.sent()]}}))}))}var Lc=function(t){return Array.from(new Set(t))},Cc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Lc(t.join(" ").trim().split(/\s+/)).join(" ")},Kc=function(){function t(t,e){void 0===e&&(e=Uc),this.prefix=e,this.client_id=t.client_id,this.scope=t.scope,this.audience=t.audience}return t.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},t.fromKey=function(e){var n=e.split("::"),r=n[0],o=n[1],i=n[2];return new t({client_id:o,scope:n[3],audience:i},r)},t}(),Uc="@@auth0spajs@@",Zc=function(t){var e=Math.floor(Date.now()/1e3)+t.expires_in;return{body:t,expiresAt:Math.min(e,t.decodedToken.claims.exp)}},Vc=function(t,e){var n=t.client_id,r=t.audience,o=t.scope;return e.filter((function(t){var e=Kc.fromKey(t),i=e.prefix,a=e.client_id,c=e.audience,s=e.scope,u=s&&s.split(" "),l=s&&o.split(" ").reduce((function(t,e){return t&&u.includes(e)}),!0);return i===Uc&&a===n&&c===r&&l}))[0]},Wc=function(){function t(){}return t.prototype.save=function(t){var e=new Kc({client_id:t.client_id,scope:t.scope,audience:t.audience}),n=Zc(t);window.localStorage.setItem(e.toKey(),JSON.stringify(n))},t.prototype.get=function(t,e){void 0===e&&(e=0);var n=this.readJson(t),r=Math.floor(Date.now()/1e3);if(n){if(!(n.expiresAt-e<r))return n.body;if(n.body.refresh_token){var o=this.stripData(n);return this.writeJson(t.toKey(),o),o.body}localStorage.removeItem(t.toKey())}},t.prototype.clear=function(){for(var t=localStorage.length-1;t>=0;t--)localStorage.key(t).startsWith(Uc)&&localStorage.removeItem(localStorage.key(t))},t.prototype.readJson=function(t){var e,n=Vc(t,Object.keys(window.localStorage)),r=n&&window.localStorage.getItem(n);if(r&&(e=JSON.parse(r)))return e},t.prototype.writeJson=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.prototype.stripData=function(t){return{body:{refresh_token:t.body.refresh_token},expiresAt:t.expiresAt}},t}(),Xc=function(){var t;this.enclosedCache=(t={},{save:function(e){var n=new Kc({client_id:e.client_id,scope:e.scope,audience:e.audience}),r=Zc(e);t[n.toKey()]=r},get:function(e,n){void 0===n&&(n=0);var r=Vc(e,Object.keys(t)),o=t[r],i=Math.floor(Date.now()/1e3);if(o)return o.expiresAt-n<i?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},o.body):void delete t[e.toKey()]:o.body},clear:function(){t={}}})},Fc=function(){function t(t){this.storage=t,this.transaction=this.storage.get("a0.spajs.txs")}return t.prototype.create=function(t){this.transaction=t,this.storage.save("a0.spajs.txs",t,{daysUntilExpire:1})},t.prototype.get=function(){return this.transaction},t.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},t}(),zc=function(t){return"number"==typeof t},Nc=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Pc=$e((function(t,e){var n=Ye&&Ye.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function r(t,e){if(!e)return"";var n="; "+t;return!0===e?n:n+"="+e}function o(t,e,n){return encodeURIComponent(t).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if("number"==typeof t.expires){var e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*t.expires),t.expires=e}return r("Expires",t.expires?t.expires.toUTCString():"")+r("Domain",t.domain)+r("Path",t.path)+r("Secure",t.secure)+r("SameSite",t.sameSite)}(n)}function i(t){for(var e={},n=t?t.split("; "):[],r=/(%[\dA-F]{2})+/gi,o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");'"'===a.charAt(0)&&(a=a.slice(1,-1));try{e[i[0].replace(r,decodeURIComponent)]=a.replace(r,decodeURIComponent)}catch(t){}}return e}function a(){return i(document.cookie)}function c(t,e,r){document.cookie=o(t,e,n({path:"/"},r))}e.__esModule=!0,e.encode=o,e.parse=i,e.getAll=a,e.get=function(t){return a()[t]},e.set=c,e.remove=function(t,e){c(t,"",n(n({},e),{expires:-1}))}}));Be(Pc),Pc.encode,Pc.parse,Pc.getAll;var jc=Pc.get,Gc=Pc.set,Ac=Pc.remove,Yc={get:function(t){var e=jc(t);if(void 0!==e)return JSON.parse(e)},save:function(t,e,n){var r={};"https:"===window.location.protocol&&(r={secure:!0,sameSite:"none"}),r.expires=n.daysUntilExpire,Gc(t,JSON.stringify(e),r)},remove:function(t){Ac(t)}},Bc={get:function(t){return Yc.get(t)||Yc.get("_legacy_"+t)},save:function(t,e,n){var r={};"https:"===window.location.protocol&&(r={secure:!0}),r.expires=n.daysUntilExpire,Gc("_legacy_"+t,JSON.stringify(e),r),Yc.save(t,e,n)},remove:function(t){Yc.remove(t),Yc.remove("_legacy_"+t)}},$c={get:function(t){if("undefined"!=typeof sessionStorage){var e=sessionStorage.getItem(t);if(void 0!==e)return JSON.parse(e)}},save:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove:function(t){sessionStorage.removeItem(t)}};var Jc,qc=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHQoZSx0LHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8scyl7ZnVuY3Rpb24gYShlKXt0cnl7dShuLm5leHQoZSkpfWNhdGNoKGUpe3MoZSl9fWZ1bmN0aW9uIGkoZSl7dHJ5e3Uobi50aHJvdyhlKSl9Y2F0Y2goZSl7cyhlKX19ZnVuY3Rpb24gdShlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiByP3Q6bmV3IHIoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxpKX11KChuPW4uYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gcihlLHQpe3ZhciByLG4sbyxzLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIHM9e25leHQ6aSgwKSx0aHJvdzppKDEpLHJldHVybjppKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxzO2Z1bmN0aW9uIGkocyl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihzKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2E7KXRyeXtpZihyPTEsbiYmKG89MiZzWzBdP24ucmV0dXJuOnNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixzWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihzPVsyJnNbMF0sby52YWx1ZV0pLHNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1zO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpzWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssbj1zWzFdLHM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpzPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1hLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1zWzBdJiYyIT09c1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09c1swXSYmKCFvfHxzWzFdPm9bMF0mJnNbMV08b1szXSkpe2EubGFiZWw9c1sxXTticmVha31pZig2PT09c1swXSYmYS5sYWJlbDxvWzFdKXthLmxhYmVsPW9bMV0sbz1zO2JyZWFrfWlmKG8mJmEubGFiZWw8b1syXSl7YS5sYWJlbD1vWzJdLGEub3BzLnB1c2gocyk7YnJlYWt9b1syXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfXM9dC5jYWxsKGUsYSl9Y2F0Y2goZSl7cz1bNixlXSxuPTB9ZmluYWxseXtyPW89MH1pZig1JnNbMF0pdGhyb3cgc1sxXTtyZXR1cm57dmFsdWU6c1swXT9zWzFdOnZvaWQgMCxkb25lOiEwfX0oW3MsaV0pfX19dmFyIG49e30sbz1mdW5jdGlvbihlLHQpe3JldHVybiBlKyJ8Iit0fTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24ocyl7dmFyIGE9cy5kYXRhLGk9YS50aW1lb3V0LHU9YS5hdXRoLGM9YS5mZXRjaFVybCxmPWEuZmV0Y2hPcHRpb25zLGw9cy5wb3J0c1swXTtyZXR1cm4gdCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxzLGEsaCxwLGIseSxkLHYsdztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmE9KHM9dXx8e30pLmF1ZGllbmNlLGg9cy5zY29wZSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHA9SlNPTi5wYXJzZShmLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1wLmdyYW50X3R5cGUpe2lmKCEoYj1mdW5jdGlvbihlLHQpe3JldHVybiBuW28oZSx0KV19KGEsaCkpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2YuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30scCkse3JlZnJlc2hfdG9rZW46Yn0pKX15PXZvaWQgMCwiZnVuY3Rpb24iPT10eXBlb2YgQWJvcnRDb250cm9sbGVyJiYoeT1uZXcgQWJvcnRDb250cm9sbGVyLGYuc2lnbmFsPXkuc2lnbmFsKSxkPXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoZz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGcpfSkpKSxmZXRjaChjLGUoe30sZikpXSldO2Nhc2UgMzpyZXR1cm4gZD1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIHY9ci5zZW50KCksbC5wb3N0TWVzc2FnZSh7ZXJyb3I6di5tZXNzYWdlfSksWzJdO2Nhc2UgNTpyZXR1cm4gZD9bNCxkLmpzb24oKV06KHkmJnkuYWJvcnQoKSxsLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pLFsyXSk7Y2FzZSA2OnJldHVybih0PXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHQscil7bltvKHQscildPWV9KHQucmVmcmVzaF90b2tlbixhLGgpLGRlbGV0ZSB0LnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUsdCl7ZGVsZXRlIG5bbyhlLHQpXX0oYSxoKSxsLnBvc3RNZXNzYWdlKHtvazpkLm9rLGpzb246dH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gdz1yLnNlbnQoKSxsLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjp3Lm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIgZ30pKX0pKX0pKX0oKTsKCg==",null,!1,function(t){return Jc=Jc||function(t,e,n){var r=void 0===e?null:e,o=function(t,e){var n=atob(t);if(e){for(var r=new Uint8Array(n.length),o=0,i=n.length;o<i;++o)r[o]=n.charCodeAt(o);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}(t,void 0!==n&&n),i=o.indexOf("\n",10)+1,a=o.substring(i)+(r?"//# sourceMappingURL="+r:""),c=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(c)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHQoZSx0LHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8scyl7ZnVuY3Rpb24gYShlKXt0cnl7dShuLm5leHQoZSkpfWNhdGNoKGUpe3MoZSl9fWZ1bmN0aW9uIGkoZSl7dHJ5e3Uobi50aHJvdyhlKSl9Y2F0Y2goZSl7cyhlKX19ZnVuY3Rpb24gdShlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiByP3Q6bmV3IHIoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxpKX11KChuPW4uYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gcihlLHQpe3ZhciByLG4sbyxzLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIHM9e25leHQ6aSgwKSx0aHJvdzppKDEpLHJldHVybjppKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxzO2Z1bmN0aW9uIGkocyl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihzKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2E7KXRyeXtpZihyPTEsbiYmKG89MiZzWzBdP24ucmV0dXJuOnNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixzWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihzPVsyJnNbMF0sby52YWx1ZV0pLHNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1zO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpzWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssbj1zWzFdLHM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpzPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1hLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1zWzBdJiYyIT09c1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09c1swXSYmKCFvfHxzWzFdPm9bMF0mJnNbMV08b1szXSkpe2EubGFiZWw9c1sxXTticmVha31pZig2PT09c1swXSYmYS5sYWJlbDxvWzFdKXthLmxhYmVsPW9bMV0sbz1zO2JyZWFrfWlmKG8mJmEubGFiZWw8b1syXSl7YS5sYWJlbD1vWzJdLGEub3BzLnB1c2gocyk7YnJlYWt9b1syXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfXM9dC5jYWxsKGUsYSl9Y2F0Y2goZSl7cz1bNixlXSxuPTB9ZmluYWxseXtyPW89MH1pZig1JnNbMF0pdGhyb3cgc1sxXTtyZXR1cm57dmFsdWU6c1swXT9zWzFdOnZvaWQgMCxkb25lOiEwfX0oW3MsaV0pfX19dmFyIG49e30sbz1mdW5jdGlvbihlLHQpe3JldHVybiBlKyJ8Iit0fTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24ocyl7dmFyIGE9cy5kYXRhLGk9YS50aW1lb3V0LHU9YS5hdXRoLGM9YS5mZXRjaFVybCxmPWEuZmV0Y2hPcHRpb25zLGw9cy5wb3J0c1swXTtyZXR1cm4gdCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxzLGEsaCxwLGIseSxkLHYsdztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmE9KHM9dXx8e30pLmF1ZGllbmNlLGg9cy5zY29wZSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHA9SlNPTi5wYXJzZShmLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1wLmdyYW50X3R5cGUpe2lmKCEoYj1mdW5jdGlvbihlLHQpe3JldHVybiBuW28oZSx0KV19KGEsaCkpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2YuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30scCkse3JlZnJlc2hfdG9rZW46Yn0pKX15PXZvaWQgMCwiZnVuY3Rpb24iPT10eXBlb2YgQWJvcnRDb250cm9sbGVyJiYoeT1uZXcgQWJvcnRDb250cm9sbGVyLGYuc2lnbmFsPXkuc2lnbmFsKSxkPXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoZz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGcpfSkpKSxmZXRjaChjLGUoe30sZikpXSldO2Nhc2UgMzpyZXR1cm4gZD1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIHY9ci5zZW50KCksbC5wb3N0TWVzc2FnZSh7ZXJyb3I6di5tZXNzYWdlfSksWzJdO2Nhc2UgNTpyZXR1cm4gZD9bNCxkLmpzb24oKV06KHkmJnkuYWJvcnQoKSxsLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pLFsyXSk7Y2FzZSA2OnJldHVybih0PXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHQscil7bltvKHQscildPWV9KHQucmVmcmVzaF90b2tlbixhLGgpLGRlbGV0ZSB0LnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUsdCl7ZGVsZXRlIG5bbyhlLHQpXX0oYSxoKSxsLnBvc3RNZXNzYWdlKHtvazpkLm9rLGpzb246dH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gdz1yLnNlbnQoKSxsLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjp3Lm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIgZ30pKX0pKX0pKX0oKTsKCg==",null,false),new Worker(Jc,t)}),Hc={},Mc=new ac,Dc={memory:function(){return(new Xc).enclosedCache},localstorage:function(){return new Wc}},Qc=function(t){return Dc[t]},ts=function(){function t(t){var e,n;if(this.options=t,"undefined"!=typeof window&&function(){if(!gc())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===yc())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),this.cacheLocation=t.cacheLocation||"memory",this.cookieStorage=!1===t.legacySameSiteCookie?Yc:Bc,this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1,!Qc(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');var r,o,i=t.useCookiesForTransactions?this.cookieStorage:$c;this.cache=Qc(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new Fc(i),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(r=this.options.issuer,o=this.domainUrl,r?r.startsWith("https://")?r:"https://"+r+"/":o+"/"),this.defaultScope=Cc("openid",void 0!==(null===(n=null===(e=this.options)||void 0===e?void 0:e.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=Cc(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new qc),this.customOptions=function(t){return t.advancedOptions,t.audience,t.auth0Client,t.authorizeTimeoutInSeconds,t.cacheLocation,t.client_id,t.domain,t.issuer,t.leeway,t.max_age,t.redirect_uri,t.scope,t.useRefreshTokens,je(t,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(t)}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||uc)));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,e,n,r,o){var i=this.options;i.domain,i.leeway,i.useRefreshTokens,i.useCookiesForTransactions,i.auth0Client,i.cacheLocation,i.advancedOptions;var a=je(i,["domain","leeway","useRefreshTokens","useCookiesForTransactions","auth0Client","cacheLocation","advancedOptions"]);return Pe(Pe(Pe({},a),t),{scope:Cc(this.defaultScope,this.scope,t.scope),response_type:"code",response_mode:"query",state:e,nonce:n,redirect_uri:o||this.options.redirect_uri,code_challenge:r,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(t){return this._url("/authorize?"+wc(t))},t.prototype._verifyIdToken=function(t,e,n){return function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(t){var e=t.split("."),n=e[0],r=e[1],o=e[2];if(3!==e.length||!n||!r||!o)throw new Error("ID token could not be decoded");var i=JSON.parse(kc(r)),a={__raw:t},c={};return Object.keys(i).forEach((function(t){a[t]=i[t],Nc.includes(t)||(c[t]=i[t])})),{encoded:{header:n,payload:r,signature:o},header:JSON.parse(kc(n)),claims:a,user:c}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!zc(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!zc(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!zc(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,r=new Date(Date.now()),o=new Date(0),i=new Date(0),a=new Date(0);if(a.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),o.setUTCSeconds(e.claims.exp+n),i.setUTCSeconds(e.claims.nbf-n),r>o)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+o+")");if(zc(e.claims.nbf)&&r<i)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+i);if(zc(e.claims.auth_time)&&r>a)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+a);if(t.organizationId){if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(t.organizationId!==e.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+t.organizationId+'", found "'+e.claims.org_id+'"')}return e}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumber=function(t){return"string"!=typeof t?t:parseInt(t,10)||void 0},t.prototype.buildAuthorizeUrl=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r,o,i,a,c,s,u,l,f,d;return Ae(this,(function(p){switch(p.label){case 0:return e=t.redirect_uri,n=t.appState,r=je(t,["redirect_uri","appState"]),o=bc(vc()),i=bc(vc()),a=vc(),[4,Sc(a)];case 1:return c=p.sent(),s=_c(c),u=t.fragment?"#"+t.fragment:"",l=this._getParams(r,o,i,s,e),f=this._authorizeUrl(l),d=t.organization||this.options.organization,this.transactionManager.create(Pe({nonce:i,code_verifier:a,appState:n,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri},d&&{organizationId:d})),[2,f+u]}}))}))},t.prototype.loginWithPopup=function(t,e){return Ge(this,void 0,void 0,(function(){var n,r,o,i,a,c,s,u,l,f,d,p,h;return Ae(this,(function(m){switch(m.label){case 0:return t=t||{},(e=e||{}).popup||(e.popup=function(t){var e=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left="+e+",top="+n+",width=400,height=600,resizable,scrollbars=yes,status=1")}()),n=je(t,[]),r=bc(vc()),o=bc(vc()),i=vc(),[4,Sc(i)];case 1:return a=m.sent(),c=_c(a),s=this._getParams(n,r,o,c,this.options.redirect_uri||window.location.origin),u=this._authorizeUrl(Pe(Pe({},s),{response_mode:"web_message"})),e.popup.location.href=u,[4,mc(Pe(Pe({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(l=m.sent(),r!==l.state)throw new Error("Invalid state");return[4,Rc({audience:s.audience,scope:s.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:i,code:l.code,grant_type:"authorization_code",redirect_uri:s.redirect_uri,auth0Client:this.options.auth0Client},this.worker)];case 3:return f=m.sent(),d=t.organization||this.options.organization,p=this._verifyIdToken(f.id_token,o,d),h=Pe(Pe({},f),{decodedToken:p,scope:s.scope,audience:s.audience||"default",client_id:this.options.client_id}),this.cache.save(h),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2]}}))}))},t.prototype.getUser=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r;return Ae(this,(function(o){return e=t.audience||this.options.audience||"default",n=Cc(this.defaultScope,this.scope,t.scope),[2,(r=this.cache.get(new Kc({client_id:this.options.client_id,audience:e,scope:n})))&&r.decodedToken&&r.decodedToken.user]}))}))},t.prototype.getIdTokenClaims=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r;return Ae(this,(function(o){return e=t.audience||this.options.audience||"default",n=Cc(this.defaultScope,this.scope,t.scope),[2,(r=this.cache.get(new Kc({client_id:this.options.client_id,audience:e,scope:n})))&&r.decodedToken&&r.decodedToken.claims]}))}))},t.prototype.loginWithRedirect=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r;return Ae(this,(function(o){switch(o.label){case 0:return e=t.redirectMethod,n=je(t,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return r=o.sent(),window.location[e||"assign"](r),[2]}}))}))},t.prototype.handleRedirectCallback=function(t){return void 0===t&&(t=window.location.href),Ge(this,void 0,void 0,(function(){var e,n,r,o,i,a,c,s,u,l,f;return Ae(this,(function(d){switch(d.label){case 0:if(0===(e=t.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(t){t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#")));var e=t.split("&"),n={};return e.forEach((function(t){var e=t.split("="),r=e[0],o=e[1];n[r]=decodeURIComponent(o)})),Pe(Pe({},n),{expires_in:parseInt(n.expires_in)})}(e.join("")),r=n.state,o=n.code,i=n.error,a=n.error_description,!(c=this.transactionManager.get())||!c.code_verifier)throw new Error("Invalid state");if(this.transactionManager.remove(),i)throw new fc(i,a,r,c.appState);return s={audience:c.audience,scope:c.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:c.code_verifier,grant_type:"authorization_code",code:o,auth0Client:this.options.auth0Client},void 0!==c.redirect_uri&&(s.redirect_uri=c.redirect_uri),[4,Rc(s,this.worker)];case 1:return u=d.sent(),l=this._verifyIdToken(u.id_token,c.nonce,c.organizationId),f=Pe(Pe({},u),{decodedToken:l,audience:c.audience,scope:c.scope,client_id:this.options.client_id}),this.cache.save(f),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,{appState:c.appState}]}}))}))},t.prototype.checkSession=function(t){return Ge(this,void 0,void 0,(function(){var e;return Ae(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(t)];case 2:return n.sent(),[3,4];case 3:if(e=n.sent(),!sc.includes(e.error))throw e;return[3,4];case 4:return[2]}}))}))},t.prototype.getTokenSilently=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r,o=this;return Ae(this,(function(i){return e=Pe(Pe({audience:this.options.audience,ignoreCache:!1},t),{scope:Cc(this.defaultScope,this.scope,t.scope)}),n=e.ignoreCache,r=je(e,["ignoreCache"]),[2,(a=function(){return o._getTokenSilently(Pe({ignoreCache:n},r))},c=this.options.client_id+"::"+r.audience+"::"+r.scope,s=Hc[c],s||(s=a().finally((function(){delete Hc[c],s=null})),Hc[c]=s),s)];var a,c,s}))}))},t.prototype._getTokenSilently=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r,o,i,a,c=this;return Ae(this,(function(s){switch(s.label){case 0:return e=t.ignoreCache,n=je(t,["ignoreCache"]),r=function(){var t=c.cache.get(new Kc({scope:n.scope,audience:n.audience||"default",client_id:c.options.client_id}),60);return t&&t.access_token},!e&&(o=r())?[2,o]:[4,(u=function(){return Mc.acquireLock("auth0.lock.getTokenSilently",5e3)},l=10,void 0===l&&(l=3),Ge(void 0,void 0,void 0,(function(){var t;return Ae(this,(function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<l?[4,u()]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return t++,[3,1];case 4:return[2,!1]}}))})))];case 1:if(!s.sent())return[3,10];s.label=2;case 2:return s.trys.push([2,,7,9]),!e&&(o=r())?[2,o]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,4];case 3:return a=s.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(n)];case 5:a=s.sent(),s.label=6;case 6:return i=a,this.cache.save(Pe({client_id:this.options.client_id},i)),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,i.access_token];case 7:return[4,Mc.releaseLock("auth0.lock.getTokenSilently")];case 8:return s.sent(),[7];case 9:return[3,11];case 10:throw new dc;case 11:return[2]}var u,l}))}))},t.prototype.getTokenWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Ge(this,void 0,void 0,(function(){return Ae(this,(function(n){switch(n.label){case 0:return t.audience=t.audience||this.options.audience,t.scope=Cc(this.defaultScope,this.scope,t.scope),e=Pe(Pe({},cc),e),[4,this.loginWithPopup(t,e)];case 1:return n.sent(),[2,this.cache.get(new Kc({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id})).access_token]}}))}))},t.prototype.isAuthenticated=function(){return Ge(this,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}}))}))},t.prototype.buildLogoutUrl=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var e=t.federated,n=je(t,["federated"]),r=e?"&federated":"";return this._url("/v2/logout?"+wc(n))+r},t.prototype.logout=function(t){void 0===t&&(t={});var e=t.localOnly,n=je(t,["localOnly"]);if(e&&n.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!e){var r=this.buildLogoutUrl(n);window.location.assign(r)}},t.prototype._getTokenFromIFrame=function(t){return Ge(this,void 0,void 0,(function(){var e,n,r,o,i,a,c,s,u,l,f,d,p,h,m;return Ae(this,(function(g){switch(g.label){case 0:return e=bc(vc()),n=bc(vc()),r=vc(),[4,Sc(r)];case 1:o=g.sent(),i=_c(o),a=this._getParams(t,e,n,i,t.redirect_uri||this.options.redirect_uri||window.location.origin),c=this._authorizeUrl(Pe(Pe({},a),{prompt:"none",response_mode:"web_message"})),s=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,g.label=2;case 2:return g.trys.push([2,5,,6]),[4,(y=c,v=this.domainUrl,b=s,void 0===b&&(b=60),new Promise((function(t,e){var n=window.document.createElement("iframe");n.setAttribute("width","0"),n.setAttribute("height","0"),n.style.display="none";var r,o=function(){window.document.body.contains(n)&&(window.document.body.removeChild(n),window.removeEventListener("message",r,!1))},i=setTimeout((function(){e(new dc),o()}),1e3*b);r=function(n){if(n.origin==v&&n.data&&"authorization_response"===n.data.type){var a=n.source;a&&a.close(),n.data.response.error?e(lc.fromPayload(n.data.response)):t(n.data.response),clearTimeout(i),window.removeEventListener("message",r,!1),setTimeout(o,2e3)}},window.addEventListener("message",r,!1),window.document.body.appendChild(n),n.setAttribute("src",y)})))];case 3:if(u=g.sent(),e!==u.state)throw new Error("Invalid state");return l=t.scope,f=t.audience,t.redirect_uri,t.ignoreCache,t.timeoutInSeconds,d=je(t,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Rc(Pe(Pe(Pe({},this.customOptions),d),{scope:l,audience:f,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:u.code,grant_type:"authorization_code",redirect_uri:a.redirect_uri,auth0Client:this.options.auth0Client}),this.worker)];case 4:return p=g.sent(),h=this._verifyIdToken(p.id_token,n),[2,Pe(Pe({},p),{decodedToken:h,scope:a.scope,audience:a.audience||"default"})];case 5:throw"login_required"===(m=g.sent()).error&&this.logout({localOnly:!0}),m;case 6:return[2]}var y,v,b}))}))},t.prototype._getTokenUsingRefreshToken=function(t){return Ge(this,void 0,void 0,(function(){var e,n,r,o,i,a,c,s,u;return Ae(this,(function(l){switch(l.label){case 0:return t.scope=Cc(this.defaultScope,this.options.scope,t.scope),(e=this.cache.get(new Kc({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id})))&&e.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(t)];case 1:return[2,l.sent()];case 2:n=t.redirect_uri||this.options.redirect_uri||window.location.origin,o=t.scope,i=t.audience,t.ignoreCache,t.timeoutInSeconds,a=je(t,["scope","audience","ignoreCache","timeoutInSeconds"]),c="number"==typeof t.timeoutInSeconds?1e3*t.timeoutInSeconds:null,l.label=3;case 3:return l.trys.push([3,5,,8]),[4,Rc(Pe(Pe(Pe(Pe(Pe({},this.customOptions),a),{audience:i,scope:o,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:n}),c&&{timeout:c}),{auth0Client:this.options.auth0Client}),this.worker)];case 4:return r=l.sent(),[3,8];case 5:return"The web worker is missing the refresh token"===(s=l.sent()).message||s.message&&s.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(t)]:[3,7];case 6:return[2,l.sent()];case 7:throw s;case 8:return u=this._verifyIdToken(r.id_token),[2,Pe(Pe({},r),{decodedToken:u,scope:t.scope,audience:t.audience||"default"})]}}))}))},t}();const es=window.location;let ns,rs=null,os=!1;const is=async()=>{const t=await fetch("/auth_config.json"),e=await t.json();rs=await function(t){return Ge(this,void 0,void 0,(function(){var e;return Ae(this,(function(n){switch(n.label){case 0:return[4,(e=new ts(t)).checkSession()];case 1:return n.sent(),[2,e]}}))}))}({domain:e.domain,client_id:e.clientId,audience:e.audience})};window.onload=async()=>{if("dasifor.xyz"!==es.host)return M.getInstance(),void ns();if(await is(),os=await rs.isAuthenticated(),os)return void ns();const t=window.location.search;if(t.includes("code=")&&t.includes("state=")){await rs.handleRedirectCallback(),window.history.replaceState({},document.title,"/");const t=await rs.getTokenSilently();ns(),M.getInstance(t)}};const as=async()=>await rs.isAuthenticated();function cs(t){return as().then((t=>{t?(M.destroy(),rs.logout({returnTo:window.location.origin})):(async()=>{await rs.loginWithRedirect({redirect_uri:window.location.origin})})()})),[]}class ss extends H{constructor(t){super(),q(this,t,cs,null,i,{})}}function us(e){let n,r;return n=new Fe({}),{c(){Y(n.$$.fragment)},m(t,e){B(n,t,e),r=!0},p:t,i(t){r||(z(n.$$.fragment,t),r=!0)},o(t){N(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}function ls(t){let e,n,r;var o=t[0];return o&&(e=new o({})),{c(){e&&Y(e.$$.fragment),n=h()},m(t,o){e&&B(e,t,o),s(t,n,o),r=!0},p(t,r){if(o!==(o=t[0])){if(e){X();const t=e;N(t.$$.fragment,1,0,(()=>{$(t,1)})),F()}o?(e=new o({}),Y(e.$$.fragment),z(e.$$.fragment,1),B(e,n.parentNode,n)):e=null}},i(t){r||(e&&z(e.$$.fragment,t),r=!0)},o(t){e&&N(e.$$.fragment,t),r=!1},d(t){t&&u(n),e&&$(e,t)}}}function fs(t){let e,n,r,o,i,a;e=new We({props:{loggedIn:t[1]}});const c=[ls,us],l=[];function f(t,e){return t[1]?0:1}return r=f(t),o=l[r]=c[r](t),{c(){Y(e.$$.fragment),n=p(),o.c(),i=h()},m(t,o){B(e,t,o),s(t,n,o),l[r].m(t,o),s(t,i,o),a=!0},p(t,[n]){const a={};2&n&&(a.loggedIn=t[1]),e.$set(a);let s=r;r=f(t),r===s?l[r].p(t,n):(X(),N(l[s],1,1,(()=>{l[s]=null})),F(),o=l[r],o?o.p(t,n):(o=l[r]=c[r](t),o.c()),z(o,1),o.m(i.parentNode,i))},i(t){a||(z(e.$$.fragment,t),z(o),a=!0)},o(t){N(e.$$.fragment,t),N(o),a=!1},d(t){$(e,t),t&&u(n),l[r].d(t),t&&u(i)}}}function ds(t,e,n){let r,o=null;return Ie("/",(()=>{n(0,o=me)})),Ie("/new",(()=>{n(0,o=Ce)})),Ie("/edit",(()=>{n(0,o=de)})),Ie("/login",(()=>{n(0,o=ss)})),Ie("/logout",(()=>{n(0,o=ss)})),Ie.start(),as().then((t=>{n(1,r=t)})),ns=()=>{n(1,r=!0)},[o,r]}return new class extends H{constructor(t){super(),q(this,t,ds,fs,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
