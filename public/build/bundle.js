var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e){return e&&o(e.destroy)?e.destroy:t}function s(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function I(){return g(" ")}function b(){return g("")}function h(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function f(t){return""===t?null:+t}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function m(t,e){t.value=null==e?"":e}let B;function C(t){B=t}function F(){if(!B)throw new Error("Function called outside component initialization");return B}function Z(t){F().$$.on_mount.push(t)}const U=[],V=[],X=[],G=[],v=Promise.resolve();let S=!1;function x(t){X.push(t)}let Q=!1;const R=new Set;function A(){if(!Q){Q=!0;do{for(let t=0;t<U.length;t+=1){const e=U[t];C(e),w(e.$$)}for(C(null),U.length=0;V.length;)V.pop()();for(let t=0;t<X.length;t+=1){const e=X[t];R.has(e)||(R.add(e),e())}X.length=0}while(U.length);for(;G.length;)G.pop()();S=!1,Q=!1,R.clear()}}function w(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const J=new Set;let W;function H(){W={r:0,c:[],p:W}}function L(){W.r||i(W.c),W=W.p}function k(t,e){t&&t.i&&(J.delete(t),t.i(e))}function Y(t,e,n,i){if(t&&t.o){if(J.has(t))return;J.add(t),W.c.push((()=>{J.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function N(t,e){const n=e.token={};function i(t,i,o,c){if(e.token!==n)return;e.resolved=c;let r=e.ctx;void 0!==o&&(r=r.slice(),r[o]=c);const s=t&&(e.current=t)(r);let l=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==i&&t&&(H(),Y(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),L())})):e.block.d(1),s.c(),k(s,1),s.m(e.mount(),e.anchor),l=!0),e.block=s,e.blocks&&(e.blocks[i]=s),l&&A()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=F();if(t.then((t=>{C(n),i(e.then,1,e.value,t),C(null)}),(t=>{if(C(n),i(e.catch,2,e.error,t),C(null),!e.hasCatch)throw t})),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}var o}function E(t,e){t.d(1),e.delete(t.key)}function T(t,e){Y(t,1,1,(()=>{e.delete(t.key)}))}function K(t,e,n,i,o,c,r,s,l,a,u,d){let g=t.length,I=c.length,b=g;const h={};for(;b--;)h[t[b].key]=b;const p=[],f=new Map,y=new Map;for(b=I;b--;){const t=d(o,c,b),s=n(t);let l=r.get(s);l?i&&l.p(t,e):(l=a(s,t),l.c()),f.set(s,p[b]=l),s in h&&y.set(s,Math.abs(b-h[s]))}const m=new Set,B=new Set;function C(t){k(t,1),t.m(s,u),r.set(t.key,t),u=t.first,I--}for(;g&&I;){const e=p[I-1],n=t[g-1],i=e.key,o=n.key;e===n?(u=e.first,g--,I--):f.has(o)?!r.has(i)||m.has(i)?C(e):B.has(o)?g--:y.get(i)>y.get(o)?(B.add(i),C(e)):(m.add(o),g--):(l(n,r),g--)}for(;g--;){const e=t[g];f.has(e.key)||l(e,r)}for(;I;)C(p[I-1]);return p}function z(t){t&&t.c()}function D(t,n,c){const{fragment:r,on_mount:s,on_destroy:l,after_update:a}=t.$$;r&&r.m(n,c),x((()=>{const n=s.map(e).filter(o);l?l.push(...n):i(n),t.$$.on_mount=[]})),a.forEach(x)}function O(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function j(t,e){-1===t.$$.dirty[0]&&(U.push(t),S||(S=!0,v.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(e,o,c,r,s,l,u=[-1]){const d=B;C(e);const g=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let I=!1;if(g.ctx=c?c(e,o.props||{},((t,n,...i)=>{const o=i.length?i[0]:n;return g.ctx&&s(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),I&&j(e,t)),n})):[],g.update(),I=!0,i(g.before_update),g.fragment=!!r&&r(g.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);g.fragment&&g.fragment.l(t),t.forEach(a)}else g.fragment&&g.fragment.c();o.intro&&k(e.$$.fragment),D(e,o.target,o.anchor),A()}C(d)}class M{$destroy(){O(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _=window.location;let q=`${_.protocol}//${_.hostname}/api`;"0.0.0.0"!==_.hostname&&"localhost"!==_.hostname&&"127.0.0.1"!==_.hostname||(q=`${_.protocol}//${_.hostname}:8080/api`);const $={"Content-Type":"application/json"},tt=(t,e,n)=>{const i={method:e,headers:$};n&&(i.body=JSON.stringify(n));return fetch(q+t,i)},et=t=>tt(t,"GET"),nt=t=>{let e=0;const n=[],i=[];t.forEach((t=>{e+=t.amount,t.amount>0?i.push(t):n.push(t)})),n.sort(((t,e)=>t.amount-e.amount)),i.sort(((t,e)=>e.amount-t.amount));return{sortedEntries:[...i,...n],total:e}};var it=async t=>{let e="/entry/specific/?";for(const n in t)if("date"===n){const i=t[n];e+=`year=${i.getFullYear()}&month=${i.getMonth()+1}&`}else e+=`${n}=${t[n]}&`;const n=await et(e),i=await n.json();if(200!==n.status)throw new Error(i.message);return i},ot=async t=>{let e;e=Array.isArray(t)?{entries:t}:{entries:[t]};const n=await((t,e)=>tt(t,"POST",e))("/entry/new",e),i=await n.json();if(201!==n.status)throw new Error(i.message);return i},ct=async()=>{const t=await et("/default"),e=await t.json();if(200!==t.status)throw new Error(e.message);return e},rt=async t=>{const e=await(n=`/entry/update/${t.id}`,i={entry:t},tt(n,"PATCH",i));var n,i;const o=await e.json();if(200!==e.status)throw new Error(o.message);return o};function st(t,e,n){const i=t.slice();return i[4]=e[n],i}function lt(t){let e,n,i,o,c;return{c(){e=d("p"),e.textContent="No data?",n=I(),i=d("p"),o=g("category = "),c=g(t[1])},m(t,r){l(t,e,r),l(t,n,r),l(t,i,r),s(i,o),s(i,c)},p(t,e){2&e&&y(c,t[1])},d(t){t&&a(e),t&&a(n),t&&a(i)}}}function at(t){let e,n,i,o,c,r,u,b,h,f,m,B=[],C=new Map,F=t[2];const Z=t=>t[4].id;for(let e=0;e<F.length;e+=1){let n=st(t,F,e),i=Z(n);C.set(i,B[e]=ut(i,n))}return{c(){e=d("h3"),n=g(t[1]),i=I(),o=d("table"),c=d("tr"),c.innerHTML='<th>Beskrivning</th> \n\t\t\t<th class="right">Belopp</th>',r=I();for(let t=0;t<B.length;t+=1)B[t].c();u=I(),b=d("tr"),h=d("td"),h.textContent="Totalt",f=I(),m=d("td"),m.textContent=`${t[3]<0?t[3]:"+"+t[3]}`,p(e,"class","entries-header"),p(c,"class","svelte-13a5tvb"),p(m,"class","right"),p(b,"class","svelte-13a5tvb"),p(o,"class","svelte-13a5tvb")},m(t,a){l(t,e,a),s(e,n),l(t,i,a),l(t,o,a),s(o,c),s(o,r);for(let t=0;t<B.length;t+=1)B[t].m(o,null);s(o,u),s(o,b),s(b,h),s(b,f),s(b,m)},p(t,e){2&e&&y(n,t[1]),4&e&&(F=t[2],B=K(B,e,Z,1,t,F,C,o,E,ut,u,st))},d(t){t&&a(e),t&&a(i),t&&a(o);for(let t=0;t<B.length;t+=1)B[t].d()}}}function ut(t,e){let n,i,o,c,r,u,b=e[4].description+"",h=e[4].amount+"";return{key:t,first:null,c(){n=d("tr"),i=d("td"),o=g(b),c=I(),r=d("td"),u=g(h),p(r,"class","right"),p(n,"class","svelte-13a5tvb"),this.first=n},m(t,e){l(t,n,e),s(n,i),s(i,o),s(n,c),s(n,r),s(r,u)},p(t,n){e=t},d(t){t&&a(n)}}}function dt(e){let n;function i(t,e){return void 0!==t[0]?at:lt}let o=i(e),c=o(e);return{c(){c.c(),n=b()},m(t,e){c.m(t,e),l(t,n,e)},p(t,[e]){o===(o=i(t))&&c?c.p(t,e):(c.d(1),c=o(t),c&&(c.c(),c.m(n.parentNode,n)))},i:t,o:t,d(t){c.d(t),t&&a(n)}}}function gt(t,e,n){let{entries:i}=e,{category:o}=e;const{sortedEntries:c,total:r}=nt(i);return t.$$set=t=>{"entries"in t&&n(0,i=t.entries),"category"in t&&n(1,o=t.category)},[i,o,c,r]}class It extends M{constructor(t){super(),P(this,t,gt,dt,c,{entries:0,category:1})}}function bt(t){let e,n,i,o;return{c(){e=d("td"),n=g(t[0])},m(c,r){l(c,e,r),s(e,n),i||(o=h(e,"click",t[3]),i=!0)},p(t,e){1&e&&y(n,t[0])},d(t){t&&a(e),i=!1,o()}}}function ht(t){let e,n,o;return{c(){e=d("input"),e.required=t[1],p(e,"class","svelte-ml8vq6")},m(i,c){l(i,e,c),m(e,t[0]),n||(o=[h(e,"input",t[6]),h(e,"blur",t[4]),r(ft.call(null,e))],n=!0)},p(t,n){2&n&&(e.required=t[1]),1&n&&e.value!==t[0]&&m(e,t[0])},d(t){t&&a(e),n=!1,i(o)}}}function pt(e){let n;function i(t,e){return t[2]?ht:bt}let o=i(e),c=o(e);return{c(){c.c(),n=b()},m(t,e){c.m(t,e),l(t,n,e)},p(t,[e]){o===(o=i(t))&&c?c.p(t,e):(c.d(1),c=o(t),c&&(c.c(),c.m(n.parentNode,n)))},i:t,o:t,d(t){c.d(t),t&&a(n)}}}function ft(t){t.focus()}function yt(t,e,n){let i,{value:o}=e,{required:c=!0}=e,{onSubmit:r}=e,s=!1;return Z((()=>{i=o})),t.$$set=t=>{"value"in t&&n(0,o=t.value),"required"in t&&n(1,c=t.required),"onSubmit"in t&&n(5,r=t.onSubmit)},[o,c,s,function(){n(2,s=!0)},function(){o!==i&&r(o),n(2,s=!1)},r,function(){o=this.value,n(0,o)}]}class mt extends M{constructor(t){super(),P(this,t,yt,pt,c,{value:0,required:1,onSubmit:5})}}function Bt(){}function Ct(t){return t()}function Ft(){return Object.create(null)}function Zt(t){t.forEach(Ct)}function Ut(t){return"function"==typeof t}function Vt(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function Xt(t,e){t.appendChild(e)}function Gt(t){t.parentNode.removeChild(t)}function vt(t){return document.createElement(t)}function St(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let xt;function Qt(t){xt=t}const Rt=[],At=[],wt=[],Jt=[],Wt=Promise.resolve();let Ht=!1;function Lt(t){wt.push(t)}let kt=!1;const Yt=new Set;function Nt(){if(!kt){kt=!0;do{for(let t=0;t<Rt.length;t+=1){const e=Rt[t];Qt(e),Et(e.$$)}for(Rt.length=0;At.length;)At.pop()();for(let t=0;t<wt.length;t+=1){const e=wt[t];Yt.has(e)||(Yt.add(e),e())}wt.length=0}while(Rt.length);for(;Jt.length;)Jt.pop()();Ht=!1,kt=!1,Yt.clear()}}function Et(t){if(null!==t.fragment){t.update(),Zt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Lt)}}const Tt=new Set;function Kt(t,e){-1===t.$$.dirty[0]&&(Rt.push(t),Ht||(Ht=!0,Wt.then(Nt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function zt(t,e,n,i,o,c,r=[-1]){const s=xt;Qt(t);const l=e.props||{},a=t.$$={fragment:null,ctx:null,props:c,update:Bt,not_equal:o,bound:Ft(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:Ft(),dirty:r};let u=!1;if(a.ctx=n?n(t,l,((e,n,...i)=>{const c=i.length?i[0]:n;return a.ctx&&o(a.ctx[e],a.ctx[e]=c)&&(a.bound[e]&&a.bound[e](c),u&&Kt(t,e)),n})):[],a.update(),u=!0,Zt(a.before_update),a.fragment=!!i&&i(a.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);a.fragment&&a.fragment.l(t),t.forEach(Gt)}else a.fragment&&a.fragment.c();e.intro&&((d=t.$$.fragment)&&d.i&&(Tt.delete(d),d.i(g))),function(t,e,n){const{fragment:i,on_mount:o,on_destroy:c,after_update:r}=t.$$;i&&i.m(e,n),Lt((()=>{const e=o.map(Ct).filter(Ut);c?c.push(...e):Zt(e),t.$$.on_mount=[]})),r.forEach(Lt)}(t,e.target,e.anchor),Nt()}var d,g;Qt(s)}function Dt(t){let e,n,i,o,c;return{c(){var r;e=vt("div"),n=vt("div"),r=t[0],i=document.createTextNode(r),St(n,"class",o="toast "+t[1]+" svelte-3qemlt"),St(e,"class",c="toast-container "+t[2]+" svelte-3qemlt")},m(t,o){!function(t,e,n){t.insertBefore(e,n||null)}(t,e,o),Xt(e,n),Xt(n,i)},p(t,[r]){1&r&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(i,t[0]),2&r&&o!==(o="toast "+t[1]+" svelte-3qemlt")&&St(n,"class",o),4&r&&c!==(c="toast-container "+t[2]+" svelte-3qemlt")&&St(e,"class",c)},i:Bt,o:Bt,d(t){t&&Gt(e)}}}function Ot(t,e,n){let i,{msg:o=""}=e,{type:c=""}=e,{position:r="bottom-center"}=e;return t.$set=t=>{"msg"in t&&n(0,o=t.msg),"type"in t&&n(1,c=t.type),"position"in t&&n(3,r=t.position)},t.$$.update=()=>{8&t.$$.dirty&&n(2,i=r.split("-").join(" "))},[o,c,i,r]}class jt extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(Zt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=Bt}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){var e;super(),document.getElementById("svelte-3qemlt-style")||((e=vt("style")).id="svelte-3qemlt-style",e.textContent=".toast-container.svelte-3qemlt{position:fixed;z-index:999}.top.svelte-3qemlt{top:15px}.bottom.svelte-3qemlt{bottom:15px}.left.svelte-3qemlt{left:15px}.right.svelte-3qemlt{right:15px}.center.svelte-3qemlt{left:50%;transform:translateX(-50%);-webkit-transform:translateX(-50%)}.toast.svelte-3qemlt{height:38px;line-height:38px;padding:0 20px;box-shadow:0 1px 3px rgba(0, 0, 0, .12), 0 1px 2px rgba(0, 0, 0, .24);color:#FFF;-webkit-transition:opacity 0.2s, -webkit-transform 0.2s;transition:opacity 0.2s, transform 0.2s, -webkit-transform 0.2s;-webkit-transform:translateY(35px);transform:translateY(35px);opacity:0;max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.info.svelte-3qemlt{background-color:#0091EA}.success.svelte-3qemlt{background-color:#4CAF50}.error.svelte-3qemlt{background-color:#F44336}.default.svelte-3qemlt{background-color:#353535}.anim.svelte-3qemlt{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}",Xt(document.head,e)),zt(this,t,Ot,Dt,Vt,{msg:0,type:1,position:3})}}class Pt{constructor(t){this.opts=Object.assign({position:"bottom-center",duration:2e3},t)}show(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._show(t,e,"default")}info(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._show(t,e,"info")}success(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._show(t,e,"success")}error(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._show(t,e,"error")}_show(t,e,n){var i=Object.assign({},this.opts,e),o=new jt({target:document.querySelector("body"),props:{msg:t,type:n,position:i.position}});setTimeout((()=>{o.$set({type:n+" anim"})}),0),setTimeout((()=>{o.$destroy()}),i.duration)}}function Mt(t,e,n){const i=t.slice();return i[11]=e[n],i}function _t(e){let n,i,o,c,r;return{c(){n=d("p"),n.textContent="No data?",i=I(),o=d("p"),c=g("category = "),r=g(e[1])},m(t,e){l(t,n,e),l(t,i,e),l(t,o,e),s(o,c),s(o,r)},p(t,e){2&e&&y(r,t[1])},i:t,o:t,d(t){t&&a(n),t&&a(i),t&&a(o)}}}function qt(t){let e,n,i,o,c,r,u,b,f,m,B,C,F,Z,U,V,X=[],G=new Map,v=t[2];const S=t=>t[11].id;for(let e=0;e<v.length;e+=1){let n=Mt(t,v,e),i=S(n);G.set(i,X[e]=$t(i,n))}return{c(){e=d("h3"),n=g(t[1]),i=I(),o=d("table"),c=d("tr"),c.innerHTML='<th>Beskrivning</th> \n\t\t\t<th class="right">Belopp</th>',r=I();for(let t=0;t<X.length;t+=1)X[t].c();u=I(),b=d("tr"),f=d("td"),f.textContent="Totalt",m=I(),B=d("td"),B.textContent=`${t[3]<=-1?t[3]:"+"+t[3]}`,C=I(),F=d("button"),F.textContent="Uppdatera",p(e,"class","entries-header"),p(c,"class","svelte-13a5tvb"),p(B,"class","right"),p(b,"class","svelte-13a5tvb"),p(o,"class","svelte-13a5tvb")},m(a,d){l(a,e,d),s(e,n),l(a,i,d),l(a,o,d),s(o,c),s(o,r);for(let t=0;t<X.length;t+=1)X[t].m(o,null);s(o,u),s(o,b),s(b,f),s(b,m),s(b,B),l(a,C,d),l(a,F,d),Z=!0,U||(V=h(F,"click",t[8]),U=!0)},p(t,e){(!Z||2&e)&&y(n,t[1]),20&e&&(v=t[2],H(),X=K(X,e,S,1,t,v,G,o,T,$t,u,Mt),L())},i(t){if(!Z){for(let t=0;t<v.length;t+=1)k(X[t]);Z=!0}},o(t){for(let t=0;t<X.length;t+=1)Y(X[t]);Z=!1},d(t){t&&a(e),t&&a(i),t&&a(o);for(let t=0;t<X.length;t+=1)X[t].d();t&&a(C),t&&a(F),U=!1,V()}}}function $t(t,e){let n,i,o,c,r;return i=new mt({props:{value:e[11].description,onSubmit:function(...t){return e[6](e[11],...t)}}}),c=new mt({props:{value:e[11].amount,onSubmit:function(...t){return e[7](e[11],...t)}}}),{key:t,first:null,c(){n=d("tr"),z(i.$$.fragment),o=I(),z(c.$$.fragment),p(n,"class","svelte-13a5tvb"),this.first=n},m(t,e){l(t,n,e),D(i,n,null),s(n,o),D(c,n,null),r=!0},p(t,n){e=t},i(t){r||(k(i.$$.fragment,t),k(c.$$.fragment,t),r=!0)},o(t){Y(i.$$.fragment,t),Y(c.$$.fragment,t),r=!1},d(t){t&&a(n),O(i),O(c)}}}function te(t){let e,n,i,o;const c=[qt,_t],r=[];function s(t,e){return void 0!==t[0]?0:1}return e=s(t),n=r[e]=c[e](t),{c(){n.c(),i=b()},m(t,n){r[e].m(t,n),l(t,i,n),o=!0},p(t,[o]){let l=e;e=s(t),e===l?r[e].p(t,o):(H(),Y(r[l],1,1,(()=>{r[l]=null})),L(),n=r[e],n?n.p(t,o):(n=r[e]=c[e](t),n.c()),k(n,1),n.m(i.parentNode,i))},i(t){o||(k(n),o=!0)},o(t){Y(n),o=!1},d(t){r[e].d(t),t&&a(i)}}}function ee(t,e,n){const i=new Pt;let{entries:o}=e,{category:c}=e,{sortedEntries:r,total:s}=nt(o),l=[];const a=(t,e,n)=>{console.log("entryChanged called"),e?t.description=n:t.amount=n;let i=l.findIndex((e=>e.id==t.id));i>0?l[i]=t:l.push(t)},u=async()=>{let t=!0;for(const e of l)try{await rt(e)}catch(n){i.error(`Kunde inte uppdatera: ${e.description}`),t=!1}t&&i.success(`Uppdaterade ${l.length} rader.`)};return t.$$set=t=>{"entries"in t&&n(0,o=t.entries),"category"in t&&n(1,c=t.category)},[o,c,r,s,a,u,(t,e)=>a(t,!0,e),(t,e)=>a(t,!1,e),()=>u()]}class ne extends M{constructor(t){super(),P(this,t,ee,te,c,{entries:0,category:1})}}function ie(t,e,n){const i=t.slice();return i[6]=e[n],i}function oe(t){let e,n,i,o;var c=t[2];function r(t){return{props:{entries:t[1][t[6]],category:t[6]}}}return c&&(n=new c(r(t))),{c(){e=d("div"),n&&z(n.$$.fragment),i=I(),p(e,"class","category svelte-13c2izy")},m(t,c){l(t,e,c),n&&D(n,e,null),s(e,i),o=!0},p(t,o){const s={};if(3&o&&(s.entries=t[1][t[6]]),1&o&&(s.category=t[6]),c!==(c=t[2])){if(n){H();const t=n;Y(t.$$.fragment,1,0,(()=>{O(t,1)})),L()}c?(n=new c(r(t)),z(n.$$.fragment),k(n.$$.fragment,1),D(n,e,i)):n=null}else c&&n.$set(s)},i(t){o||(n&&k(n.$$.fragment,t),o=!0)},o(t){n&&Y(n.$$.fragment,t),o=!1},d(t){t&&a(e),n&&O(n)}}}function ce(t){let e,n,i=t[0].categories,o=[];for(let e=0;e<i.length;e+=1)o[e]=oe(ie(t,i,e));const c=t=>Y(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=b()},m(t,i){for(let e=0;e<o.length;e+=1)o[e].m(t,i);l(t,e,i),n=!0},p(t,[n]){if(7&n){let r;for(i=t[0].categories,r=0;r<i.length;r+=1){const c=ie(t,i,r);o[r]?(o[r].p(c,n),k(o[r],1)):(o[r]=oe(c),o[r].c(),k(o[r],1),o[r].m(e.parentNode,e))}for(H(),r=i.length;r<o.length;r+=1)c(r);L()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)k(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Y(o[t]);n=!1},d(t){u(o,t),t&&a(e)}}}function re(t,e,n){let{readOnly:i}=e,o=!0===i?It:ne,{data:c}=e,r=[];return function(){const t=c.categories.indexOf("Gemensamma");if(t>0){let e=c.categories[0];n(0,c.categories[0]=c.categories[t],c),n(0,c.categories[t]=e,c)}}(),c.categories.forEach((t=>{n(1,r[t]=c.result.filter((e=>e.Category.name===t)),r)})),t.$$set=t=>{"readOnly"in t&&n(3,i=t.readOnly),"data"in t&&n(0,c=t.data)},[c,r,o,i]}class se extends M{constructor(t){super(),P(this,t,re,ce,c,{readOnly:3,data:0})}}function le(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ae(t){let e,n,i,o,c,r,u,b,f;return r=new se({props:{data:t[2],readOnly:t[0]}}),{c(){e=d("div"),n=d("h2"),i=g("Budget "),o=d("input"),c=I(),z(r.$$.fragment),p(o,"id","datepicker"),p(o,"type","date"),p(o,"class","svelte-ca9f4s"),p(e,"class","budget")},m(a,d){l(a,e,d),s(e,n),s(n,i),s(n,o),m(o,t[1]),s(e,c),D(r,e,null),u=!0,b||(f=h(o,"input",t[3]),b=!0)},p(t,e){2&e&&m(o,t[1]);const n={};4&e&&(n.data=t[2]),1&e&&(n.readOnly=t[0]),r.$set(n)},i(t){u||(k(r.$$.fragment,t),u=!0)},o(t){Y(r.$$.fragment,t),u=!1},d(t){t&&a(e),O(r),b=!1,f()}}}function ue(e){let n;return{c(){n=d("p"),n.textContent="Hämtar budgetar"},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&a(n)}}}function de(t){let e,n,i,o={ctx:t,current:null,token:null,hasCatch:!1,pending:ue,then:ae,catch:le,value:2,blocks:[,,,]};return N(n=t[2],o),{c(){e=d("div"),o.block.c(),p(e,"class","flex-container svelte-ca9f4s")},m(t,n){l(t,e,n),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,i=!0},p(e,[i]){if(t=e,o.ctx=t,4&i&&n!==(n=t[2])&&N(n,o));else{const e=t.slice();e[2]=o.resolved,o.block.p(e,i)}},i(t){i||(k(o.block),i=!0)},o(t){for(let t=0;t<3;t+=1){Y(o.blocks[t])}i=!1},d(t){t&&a(e),o.block.d(),o.token=null,o=null}}}function ge(t,e,n){let i,{readOnly:o}=e,c=(new Date).toISOString().slice(0,10);return t.$$set=t=>{"readOnly"in t&&n(0,o=t.readOnly)},t.$$.update=()=>{2&t.$$.dirty&&n(2,i=it({date:new Date(c)}))},[o,c,i,function(){c=this.value,n(1,c)}]}class Ie extends M{constructor(t){super(),P(this,t,ge,de,c,{readOnly:0})}}function be(e){let n,i;return n=new Ie({props:{readOnly:he}}),{c(){z(n.$$.fragment)},m(t,e){D(n,t,e),i=!0},p:t,i(t){i||(k(n.$$.fragment,t),i=!0)},o(t){Y(n.$$.fragment,t),i=!1},d(t){O(n,t)}}}const he=!1;class pe extends M{constructor(t){super(),P(this,t,null,be,c,{})}}function fe(e){let n,i;return n=new Ie({props:{readOnly:ye}}),{c(){z(n.$$.fragment)},m(t,e){D(n,t,e),i=!0},p:t,i(t){i||(k(n.$$.fragment,t),i=!0)},o(t){Y(n.$$.fragment,t),i=!1},d(t){O(n,t)}}}const ye=!0;class me extends M{constructor(t){super(),P(this,t,null,fe,c,{})}}const Be=[];const Ce=function(e,n=t){let i;const o=[];function r(t){if(c(e,t)&&(e=t,i)){const t=!Be.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),Be.push(n,e)}if(t){for(let t=0;t<Be.length;t+=2)Be[t][0](Be[t+1]);Be.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(c,s=t){const l=[c,s];return o.push(l),1===o.length&&(i=n(r)||t),c(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(i(),i=null)}}}}(0);function Fe(t){const e=e=>{!t||t.contains(e.target)||e.defaultPrevented||t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function Ze(t,e,n){const i=t.slice();return i[12]=e[n],i[13]=e,i[14]=n,i}function Ue(t){let e,n,o,c,r,u;function g(){t[4].call(n,t[13],t[14])}function b(){t[5].call(c,t[13],t[14])}return{c(){e=d("div"),n=d("input"),o=I(),c=d("input"),p(n,"type","text"),p(n,"placeholder","Beskrivning"),p(n,"class","description svelte-1wif1oa"),p(c,"type","number"),p(c,"placeholder","Belopp"),p(c,"class","amount svelte-1wif1oa"),p(e,"class","entry-container svelte-1wif1oa")},m(i,a){l(i,e,a),s(e,n),m(n,t[12].description),s(e,o),s(e,c),m(c,t[12].amount),r||(u=[h(n,"input",g),h(c,"input",b)],r=!0)},p(e,i){t=e,1&i&&n.value!==t[12].description&&m(n,t[12].description),1&i&&f(c.value)!==t[12].amount&&m(c,t[12].amount)},d(t){t&&a(e),r=!1,i(u)}}}function Ve(e){let n,o,c,b,B,C,F,Z,U,V,X,G=e[0],v=[];for(let t=0;t<G.length;t+=1)v[t]=Ue(Ze(e,G,t));return{c(){n=d("h4"),o=g(e[1]),c=I(),b=d("form");for(let t=0;t<v.length;t+=1)v[t].c();B=I(),C=d("div"),F=d("input"),Z=I(),U=d("input"),F.disabled=!0,p(F,"type","text"),F.value="Totalt",p(F,"class","description svelte-1wif1oa"),U.disabled=!0,p(U,"type","number"),p(U,"class","amount svelte-1wif1oa"),p(C,"class","entry-container svelte-1wif1oa")},m(t,i){l(t,n,i),s(n,o),l(t,c,i),l(t,b,i);for(let t=0;t<v.length;t+=1)v[t].m(b,null);s(b,B),s(b,C),s(C,F),s(C,Z),s(C,U),m(U,e[2]),V||(X=[h(U,"input",e[6]),r(Fe.call(null,b)),h(b,"click_outside",e[3])],V=!0)},p(t,[e]){if(2&e&&y(o,t[1]),1&e){let n;for(G=t[0],n=0;n<G.length;n+=1){const i=Ze(t,G,n);v[n]?v[n].p(i,e):(v[n]=Ue(i),v[n].c(),v[n].m(b,B))}for(;n<v.length;n+=1)v[n].d(1);v.length=G.length}4&e&&f(U.value)!==t[2]&&m(U,t[2])},i:t,o:t,d(t){t&&a(n),t&&a(c),t&&a(b),u(v,t),V=!1,i(X)}}}function Xe(t,e,n){let{entries:i}=e,{category:o}=e,c=0,r=0;if("HALF_OF_GEMENSAMMA"===i[0].description){let t=i[0];r=t.amount;let e="Halva gemensamma";r>0?e+=` (+${r})`:r<0&&(e+=` (${r})`),t.description=e,Ce.subscribe((e=>{t.amount=e/2-r}))}const s=t=>l(t.description)&&l(t.amount),l=t=>null==t||0===t.length,a=()=>{u();let{sortedEntries:t,total:e}=nt(i);n(0,i=t),n(2,c=e),"Gemensamma"===o&&Ce.set(c)},u=()=>{n(0,i=i.filter((t=>!s(t))))};return Z((()=>{a()})),t.$$set=t=>{"entries"in t&&n(0,i=t.entries),"category"in t&&n(1,o=t.category)},t.$$.update=()=>{if(1&t.$$.dirty){let t=i.length,e=i[t-1];s(e)||(()=>{let t={Category:i[0].Category,description:"",amount:"",date:new Date};n(0,i=[...i,t])})()}},[i,o,c,a,function(t,e){t[e].description=this.value,n(0,i)},function(t,e){t[e].amount=f(this.value),n(0,i)},function(){c=f(this.value),n(2,c)}]}class Ge extends M{constructor(t){super(),P(this,t,Xe,Ve,c,{entries:0,category:1})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var ve=function(t){var e={exports:{}};return t(e,e.exports),e.exports}((function(t,e){t.exports=function(){var t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},e=y,n=s,i=l,o=a,c=f,r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(t){for(var e,n=[],i=0,o=0,c="";null!=(e=r.exec(t));){var s=e[0],l=e[1],a=e.index;if(c+=t.slice(o,a),o=a+s.length,l)c+=l[1];else{c&&(n.push(c),c="");var u=e[2],g=e[3],I=e[4],b=e[5],h=e[6],p=e[7],f="+"===h||"*"===h,y="?"===h||"*"===h,m=u||"/",B=I||b||(p?".*":"[^"+m+"]+?");n.push({name:g||i++,prefix:u||"",delimiter:m,optional:y,repeat:f,pattern:d(B)})}}return o<t.length&&(c+=t.substr(o)),c&&n.push(c),n}function l(t){return a(s(t))}function a(e){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^"+e[i].pattern+"$"));return function(i){for(var o="",c=i||{},r=0;r<e.length;r++){var s=e[r];if("string"!=typeof s){var l,a=c[s.name];if(null==a){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to be defined')}if(t(a)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received "'+a+'"');if(0===a.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var u=0;u<a.length;u++){if(l=encodeURIComponent(a[u]),!n[r].test(l))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received "'+l+'"');o+=(0===u?s.prefix:s.delimiter)+l}}else{if(l=encodeURIComponent(a),!n[r].test(l))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+l+'"');o+=s.prefix+l}}else o+=s}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function d(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function g(t,e){return t.keys=e,t}function I(t){return t.sensitive?"":"i"}function b(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return g(t,e)}function h(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(y(t[o],e,n).source);return g(new RegExp("(?:"+i.join("|")+")",I(n)),e)}function p(t,e,n){for(var i=s(t),o=f(i,n),c=0;c<i.length;c++)"string"!=typeof i[c]&&e.push(i[c]);return g(o,e)}function f(t,e){for(var n=(e=e||{}).strict,i=!1!==e.end,o="",c=t[t.length-1],r="string"==typeof c&&/\/$/.test(c),s=0;s<t.length;s++){var l=t[s];if("string"==typeof l)o+=u(l);else{var a=u(l.prefix),d=l.pattern;l.repeat&&(d+="(?:"+a+d+")*"),o+=d=l.optional?a?"(?:"+a+"("+d+"))?":"("+d+")?":a+"("+d+")"}}return n||(o=(r?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=i?"$":n&&r?"":"(?=\\/|$)",new RegExp("^"+o,I(e))}function y(e,n,i){return t(n=n||[])?i||(i={}):(i=n,n=[]),e instanceof RegExp?b(e,n):t(e)?h(e,n,i):p(e,n,i)}e.parse=n,e.compile=i,e.tokensToFunction=o,e.tokensToRegExp=c;var m,B="undefined"!=typeof document,C="undefined"!=typeof window,F="undefined"!=typeof history,Z="undefined"!=typeof process,U=B&&document.ontouchstart?"touchstart":"click",V=C&&!(!window.history.location&&!window.location);function X(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function G(){var t=new X;function e(){return v.apply(t,arguments)}return e.callbacks=t.callbacks,e.exits=t.exits,e.base=t.base.bind(t),e.strict=t.strict.bind(t),e.start=t.start.bind(t),e.stop=t.stop.bind(t),e.show=t.show.bind(t),e.back=t.back.bind(t),e.redirect=t.redirect.bind(t),e.replace=t.replace.bind(t),e.dispatch=t.dispatch.bind(t),e.exit=t.exit.bind(t),e.configure=t.configure.bind(t),e.sameOrigin=t.sameOrigin.bind(t),e.clickHandler=t.clickHandler.bind(t),e.create=G,Object.defineProperty(e,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(e,"current",{get:function(){return t.current},set:function(e){t.current=e}}),e.Context=Q,e.Route=R,e}function v(t,e){if("function"==typeof t)return v.call(this,"*",t);if("function"==typeof e)for(var n=new R(t,null,this),i=1;i<arguments.length;++i)this.callbacks.push(n.middleware(arguments[i]));else"string"==typeof t?this["string"==typeof e?"redirect":"show"](t,e):this.start(t)}function S(t){if(!t.handled){var e=this,n=e._window;(e._hashbang?V&&this._getBase()+n.location.hash.replace("#!",""):V&&n.location.pathname+n.location.search)!==t.canonicalPath&&(e.stop(),t.handled=!1,V&&(n.location.href=t.canonicalPath))}}function x(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Q(t,e,n){var i=this.page=n||v,o=i._window,c=i._hashbang,r=i._getBase();"/"===t[0]&&0!==t.indexOf(r)&&(t=r+(c?"#!":"")+t);var s=t.indexOf("?");this.canonicalPath=t;var l=new RegExp("^"+x(r));if(this.path=t.replace(l,"")||"/",c&&(this.path=this.path.replace("#!","")||"/"),this.title=B&&o.document.title,this.state=e||{},this.state.path=t,this.querystring=~s?i._decodeURLEncodedURIComponent(t.slice(s+1)):"",this.pathname=i._decodeURLEncodedURIComponent(~s?t.slice(0,s):t),this.params={},this.hash="",!c){if(!~this.path.indexOf("#"))return;var a=this.path.split("#");this.path=this.pathname=a[0],this.hash=i._decodeURLEncodedURIComponent(a[1])||"",this.querystring=this.querystring.split("#")[0]}}function R(t,n,i){var o=this.page=i||A,c=n||{};c.strict=c.strict||o._strict,this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=e(this.path,this.keys=[],c)}X.prototype.configure=function(t){var e=t||{};this._window=e.window||C&&window,this._decodeURLComponents=!1!==e.decodeURLComponents,this._popstate=!1!==e.popstate&&C,this._click=!1!==e.click&&B,this._hashbang=!!e.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):C&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(U,this.clickHandler,!1):B&&n.document.removeEventListener(U,this.clickHandler,!1),this._hashbang&&C&&!F?n.addEventListener("hashchange",this._onpopstate,!1):C&&n.removeEventListener("hashchange",this._onpopstate,!1)},X.prototype.base=function(t){if(0===arguments.length)return this._base;this._base=t},X.prototype._getBase=function(){var t=this._base;if(t)return t;var e=C&&this._window&&this._window.location;return C&&this._hashbang&&e&&"file:"===e.protocol&&(t=e.pathname),t},X.prototype.strict=function(t){if(0===arguments.length)return this._strict;this._strict=t},X.prototype.start=function(t){var e=t||{};if(this.configure(e),!1!==e.dispatch){var n;if(this._running=!0,V){var i=this._window.location;n=this._hashbang&&~i.hash.indexOf("#!")?i.hash.substr(2)+i.search:this._hashbang?i.search+i.hash:i.pathname+i.search+i.hash}this.replace(n,null,!0,e.dispatch)}},X.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(U,this.clickHandler,!1),C&&t.removeEventListener("popstate",this._onpopstate,!1),C&&t.removeEventListener("hashchange",this._onpopstate,!1)}},X.prototype.show=function(t,e,n,i){var o=new Q(t,e,this),c=this.prevContext;return this.prevContext=o,this.current=o.path,!1!==n&&this.dispatch(o,c),!1!==o.handled&&!1!==i&&o.pushState(),o},X.prototype.back=function(t,e){var n=this;if(this.len>0){var i=this._window;F&&i.history.back(),this.len--}else t?setTimeout((function(){n.show(t,e)})):setTimeout((function(){n.show(n._getBase(),e)}))},X.prototype.redirect=function(t,e){var n=this;"string"==typeof t&&"string"==typeof e&&v.call(this,t,(function(t){setTimeout((function(){n.replace(e)}),0)})),"string"==typeof t&&void 0===e&&setTimeout((function(){n.replace(t)}),0)},X.prototype.replace=function(t,e,n,i){var o=new Q(t,e,this),c=this.prevContext;return this.prevContext=o,this.current=o.path,o.init=n,o.save(),!1!==i&&this.dispatch(o,c),o},X.prototype.dispatch=function(t,e){var n=0,i=0,o=this;function c(){var t=o.exits[i++];if(!t)return r();t(e,c)}function r(){var e=o.callbacks[n++];if(t.path===o.current)return e?void e(t,r):S.call(o,t);t.handled=!1}e?c():r()},X.prototype.exit=function(t,e){if("function"==typeof t)return this.exit("*",t);for(var n=new R(t,null,this),i=1;i<arguments.length;++i)this.exits.push(n.middleware(arguments[i]))},X.prototype.clickHandler=function(t){if(1===this._which(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){var e=t.target,n=t.path||(t.composedPath?t.composedPath():null);if(n)for(var i=0;i<n.length;i++)if(n[i].nodeName&&"A"===n[i].nodeName.toUpperCase()&&n[i].href){e=n[i];break}for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){var o="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name;if(!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var c=e.getAttribute("href");if((this._hashbang||!this._samePath(e)||!e.hash&&"#"!==c)&&!(c&&c.indexOf("mailto:")>-1)&&!(o?e.target.baseVal:e.target)&&(o||this.sameOrigin(e.href))){var r=o?e.href.baseVal:e.pathname+e.search+(e.hash||"");r="/"!==r[0]?"/"+r:r,Z&&r.match(/^\/[a-zA-Z]:\//)&&(r=r.replace(/^\/[a-zA-Z]:\//,"/"));var s=r,l=this._getBase();0===r.indexOf(l)&&(r=r.substr(l.length)),this._hashbang&&(r=r.replace("#!","")),(!l||s!==r||V&&"file:"===this._window.location.protocol)&&(t.preventDefault(),this.show(s))}}}}},X.prototype._onpopstate=(m=!1,C?(B&&"complete"===document.readyState?m=!0:window.addEventListener("load",(function(){setTimeout((function(){m=!0}),0)})),function(t){if(m){var e=this;if(t.state){var n=t.state.path;e.replace(n,t.state)}else if(V){var i=e._window.location;e.show(i.pathname+i.search+i.hash,void 0,void 0,!1)}}}):function(){}),X.prototype._which=function(t){return null==(t=t||C&&this._window.event).which?t.button:t.which},X.prototype._toURL=function(t){var e=this._window;if("function"==typeof URL&&V)return new URL(t,e.location.toString());if(B){var n=e.document.createElement("a");return n.href=t,n}},X.prototype.sameOrigin=function(t){if(!t||!V)return!1;var e=this._toURL(t),n=this._window.location;return n.protocol===e.protocol&&n.hostname===e.hostname&&(n.port===e.port||""===n.port&&(80==e.port||443==e.port))},X.prototype._samePath=function(t){if(!V)return!1;var e=this._window.location;return t.pathname===e.pathname&&t.search===e.search},X.prototype._decodeURLEncodedURIComponent=function(t){return"string"!=typeof t?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t},Q.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,F&&e.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},Q.prototype.save=function(){var t=this.page;F&&t._window.history.replaceState(this.state,this.title,t._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},R.prototype.middleware=function(t){var e=this;return function(n,i){if(e.match(n.path,n.params))return n.routePath=e.path,t(n,i);i()}},R.prototype.match=function(t,e){var n=this.keys,i=t.indexOf("?"),o=~i?t.slice(0,i):t,c=this.regexp.exec(decodeURIComponent(o));if(!c)return!1;delete e[0];for(var r=1,s=c.length;r<s;++r){var l=n[r-1],a=this.page._decodeURLEncodedURIComponent(c[r]);void 0===a&&hasOwnProperty.call(e,l.name)||(e[l.name]=a)}return!0};var A=G(),w=A,J=A;return w.default=J,w}()}));function Se(t,e,n){const i=t.slice();return i[7]=e[n],i[8]=e,i[9]=n,i}function xe(t){let e,n,o,c,r,g,b,f,y,B,C,F,Z,U,V=t[2].categories,X=[];for(let e=0;e<V.length;e+=1)X[e]=Re(Se(t,V,e));const G=t=>Y(X[t],1,1,(()=>{X[t]=null}));return{c(){e=d("div");for(let t=0;t<X.length;t+=1)X[t].c();n=I(),o=d("div"),c=d("label"),r=d("p"),r.textContent="Vilken månad gäller budgeten?",g=I(),b=d("input"),f=I(),y=d("br"),B=I(),C=d("button"),C.textContent="Skicka",p(e,"class","budget-container svelte-mz7exr"),p(b,"class","input-date svelte-mz7exr"),p(b,"type","date"),p(C,"class","btn waves-effect waves-light indigo"),p(o,"class","center")},m(i,a){l(i,e,a);for(let t=0;t<X.length;t+=1)X[t].m(e,null);l(i,n,a),l(i,o,a),s(o,c),s(c,r),s(c,g),s(c,b),m(b,t[0]),s(o,f),s(o,y),s(o,B),s(o,C),F=!0,Z||(U=[h(b,"input",t[5]),h(C,"click",t[3])],Z=!0)},p(t,n){if(6&n){let i;for(V=t[2].categories,i=0;i<V.length;i+=1){const o=Se(t,V,i);X[i]?(X[i].p(o,n),k(X[i],1)):(X[i]=Re(o),X[i].c(),k(X[i],1),X[i].m(e,null))}for(H(),i=V.length;i<X.length;i+=1)G(i);L()}1&n&&m(b,t[0])},i(t){if(!F){for(let t=0;t<V.length;t+=1)k(X[t]);F=!0}},o(t){X=X.filter(Boolean);for(let t=0;t<X.length;t+=1)Y(X[t]);F=!1},d(t){t&&a(e),u(X,t),t&&a(n),t&&a(o),Z=!1,i(U)}}}function Qe(e){let n;return{c(){n=d("p"),n.textContent="Hämtar standard raderna..."},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&a(n)}}}function Re(t){let e,n,i,o,c;function r(e){t[4].call(null,e,t[7])}let u={category:t[7]};return void 0!==t[1][t[7]]&&(u.entries=t[1][t[7]]),n=new Ge({props:u}),V.push((()=>function(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}(n,"entries",r))),{c(){e=d("div"),z(n.$$.fragment),o=I(),p(e,"class","budget svelte-mz7exr")},m(t,i){l(t,e,i),D(n,e,null),s(e,o),c=!0},p(e,o){t=e;const c={};4&o&&(c.category=t[7]),!i&&6&o&&(i=!0,c.entries=t[1][t[7]],function(t){G.push(t)}((()=>i=!1))),n.$set(c)},i(t){c||(k(n.$$.fragment,t),c=!0)},o(t){Y(n.$$.fragment,t),c=!1},d(t){t&&a(e),O(n)}}}function Ae(t){let e,n,i,o;const c=[Qe,xe],r=[];function s(t,e){return void 0===t[2]?0:1}return n=s(t),i=r[n]=c[n](t),{c(){e=d("div"),i.c(),p(e,"id","new-budget-wrapper"),p(e,"class","svelte-mz7exr")},m(t,i){l(t,e,i),r[n].m(e,null),o=!0},p(t,[o]){let l=n;n=s(t),n===l?r[n].p(t,o):(H(),Y(r[l],1,1,(()=>{r[l]=null})),L(),i=r[n],i?i.p(t,o):(i=r[n]=c[n](t),i.c()),k(i,1),i.m(e,null))},i(t){o||(k(i),o=!0)},o(t){Y(i),o=!1},d(t){t&&a(e),r[n].d()}}}function we(t,e,n){const i=new Pt;let o,c=(new Date).toISOString().slice(0,10),r=[];return ct().then((t=>{const e=t.categories.indexOf("Gemensamma");if(e>0){let n=t.categories[0];t.categories[0]=t.categories[e],t.categories[e]=n}t.categories.forEach((e=>{n(1,r[e]=t.result.filter((t=>t.Category.name===e)),r)})),n(2,o=t)})),[c,r,o,async function(){let t=[];o.categories.forEach((e=>{t=[...t,...r[e]]})),t=t.filter((t=>""!==t.value&&""!==t.description)),t.forEach((t=>{t.date=new Date(c)}));try{console.dir(t),await ot(t),i.success("Budget sparad!"),ve("/")}catch(t){i.error("Något gick fel."),console.error(t.message)}},function(t,e){r[e]=t,n(1,r)},function(){c=this.value,n(0,c)}]}class Je extends M{constructor(t){super(),P(this,t,we,Ae,c,{})}}function We(e){let n;return{c(){n=d("nav"),n.innerHTML='<div class="nav-wrapper"><ul id="nav-mobile" class="left"><li><a href="/" class="svelte-1hkku9o">Hem</a></li> \n\t\t\t<li><a href="/new" class="svelte-1hkku9o">Ny budget</a></li> \n\t\t\t<li><a href="/edit" class="svelte-1hkku9o">Ändra budget</a></li></ul></div>',p(n,"class","indigo darken-3")},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&a(n)}}}class He extends M{constructor(t){super(),P(this,t,null,We,c,{})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Le=function(t,e){return(Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ke(t,e){function n(){this.constructor=t}Le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ye=function(){return(Ye=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Ne(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}function Ee(t,e,n,i){return new(n||(n=Promise))((function(o,c){function r(t){try{l(i.next(t))}catch(t){c(t)}}function s(t){try{l(i.throw(t))}catch(t){c(t)}}function l(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(r,s)}l((i=i.apply(t,e||[])).next())}))}function Te(t,e){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(t){c=[6,t],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}var Ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function De(t,e){return t(e={exports:{}},e.exports),e.exports}var Oe=function(t){return t&&t.Math==Math&&t},je=Oe("object"==typeof globalThis&&globalThis)||Oe("object"==typeof window&&window)||Oe("object"==typeof self&&self)||Oe("object"==typeof Ke&&Ke)||function(){return this}()||Function("return this")(),Pe=function(t){try{return!!t()}catch(t){return!0}},Me=!Pe((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),_e={}.propertyIsEnumerable,qe=Object.getOwnPropertyDescriptor,$e={f:qe&&!_e.call({1:2},1)?function(t){var e=qe(this,t);return!!e&&e.enumerable}:_e},tn=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},en={}.toString,nn=function(t){return en.call(t).slice(8,-1)},on="".split,cn=Pe((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==nn(t)?on.call(t,""):Object(t)}:Object,rn=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},sn=function(t){return cn(rn(t))},ln=function(t){return"object"==typeof t?null!==t:"function"==typeof t},an=function(t,e){if(!ln(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!ln(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!ln(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!ln(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},un={}.hasOwnProperty,dn=function(t,e){return un.call(t,e)},gn=je.document,In=ln(gn)&&ln(gn.createElement),bn=function(t){return In?gn.createElement(t):{}},hn=!Me&&!Pe((function(){return 7!=Object.defineProperty(bn("div"),"a",{get:function(){return 7}}).a})),pn=Object.getOwnPropertyDescriptor,fn={f:Me?pn:function(t,e){if(t=sn(t),e=an(e,!0),hn)try{return pn(t,e)}catch(t){}if(dn(t,e))return tn(!$e.f.call(t,e),t[e])}},yn=function(t){if(!ln(t))throw TypeError(String(t)+" is not an object");return t},mn=Object.defineProperty,Bn={f:Me?mn:function(t,e,n){if(yn(t),e=an(e,!0),yn(n),hn)try{return mn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Cn=Me?function(t,e,n){return Bn.f(t,e,tn(1,n))}:function(t,e,n){return t[e]=n,t},Fn=function(t,e){try{Cn(je,t,e)}catch(n){je[t]=e}return e},Zn=je["__core-js_shared__"]||Fn("__core-js_shared__",{}),Un=Function.toString;"function"!=typeof Zn.inspectSource&&(Zn.inspectSource=function(t){return Un.call(t)});var Vn,Xn,Gn,vn=Zn.inspectSource,Sn=je.WeakMap,xn="function"==typeof Sn&&/native code/.test(vn(Sn)),Qn=De((function(t){(t.exports=function(t,e){return Zn[t]||(Zn[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.0",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),Rn=0,An=Math.random(),wn=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Rn+An).toString(36)},Jn=Qn("keys"),Wn=function(t){return Jn[t]||(Jn[t]=wn(t))},Hn={},Ln=je.WeakMap;if(xn){var kn=Zn.state||(Zn.state=new Ln),Yn=kn.get,Nn=kn.has,En=kn.set;Vn=function(t,e){return e.facade=t,En.call(kn,t,e),e},Xn=function(t){return Yn.call(kn,t)||{}},Gn=function(t){return Nn.call(kn,t)}}else{var Tn=Wn("state");Hn[Tn]=!0,Vn=function(t,e){return e.facade=t,Cn(t,Tn,e),e},Xn=function(t){return dn(t,Tn)?t[Tn]:{}},Gn=function(t){return dn(t,Tn)}}var Kn,zn={set:Vn,get:Xn,has:Gn,enforce:function(t){return Gn(t)?Xn(t):Vn(t,{})},getterFor:function(t){return function(e){var n;if(!ln(e)||(n=Xn(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Dn=De((function(t){var e=zn.get,n=zn.enforce,i=String(String).split("String");(t.exports=function(t,e,o,c){var r,s=!!c&&!!c.unsafe,l=!!c&&!!c.enumerable,a=!!c&&!!c.noTargetGet;"function"==typeof o&&("string"!=typeof e||dn(o,"name")||Cn(o,"name",e),(r=n(o)).source||(r.source=i.join("string"==typeof e?e:""))),t!==je?(s?!a&&t[e]&&(l=!0):delete t[e],l?t[e]=o:Cn(t,e,o)):l?t[e]=o:Fn(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||vn(this)}))})),On=je,jn=function(t){return"function"==typeof t?t:void 0},Pn=function(t,e){return arguments.length<2?jn(On[t])||jn(je[t]):On[t]&&On[t][e]||je[t]&&je[t][e]},Mn=Math.ceil,_n=Math.floor,qn=function(t){return isNaN(t=+t)?0:(t>0?_n:Mn)(t)},$n=Math.min,ti=function(t){return t>0?$n(qn(t),9007199254740991):0},ei=Math.max,ni=Math.min,ii=function(t){return function(e,n,i){var o,c=sn(e),r=ti(c.length),s=function(t,e){var n=qn(t);return n<0?ei(n+e,0):ni(n,e)}(i,r);if(t&&n!=n){for(;r>s;)if((o=c[s++])!=o)return!0}else for(;r>s;s++)if((t||s in c)&&c[s]===n)return t||s||0;return!t&&-1}},oi={includes:ii(!0),indexOf:ii(!1)},ci=oi.indexOf,ri=function(t,e){var n,i=sn(t),o=0,c=[];for(n in i)!dn(Hn,n)&&dn(i,n)&&c.push(n);for(;e.length>o;)dn(i,n=e[o++])&&(~ci(c,n)||c.push(n));return c},si=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],li=si.concat("length","prototype"),ai={f:Object.getOwnPropertyNames||function(t){return ri(t,li)}},ui={f:Object.getOwnPropertySymbols},di=Pn("Reflect","ownKeys")||function(t){var e=ai.f(yn(t)),n=ui.f;return n?e.concat(n(t)):e},gi=function(t,e){for(var n=di(e),i=Bn.f,o=fn.f,c=0;c<n.length;c++){var r=n[c];dn(t,r)||i(t,r,o(e,r))}},Ii=/#|\.prototype\./,bi=function(t,e){var n=pi[hi(t)];return n==yi||n!=fi&&("function"==typeof e?Pe(e):!!e)},hi=bi.normalize=function(t){return String(t).replace(Ii,".").toLowerCase()},pi=bi.data={},fi=bi.NATIVE="N",yi=bi.POLYFILL="P",mi=bi,Bi=fn.f,Ci=function(t,e){var n,i,o,c,r,s=t.target,l=t.global,a=t.stat;if(n=l?je:a?je[s]||Fn(s,{}):(je[s]||{}).prototype)for(i in e){if(c=e[i],o=t.noTargetGet?(r=Bi(n,i))&&r.value:n[i],!mi(l?i:s+(a?".":"#")+i,t.forced)&&void 0!==o){if(typeof c==typeof o)continue;gi(c,o)}(t.sham||o&&o.sham)&&Cn(c,"sham",!0),Dn(n,i,c,t)}},Fi=!!Object.getOwnPropertySymbols&&!Pe((function(){return!String(Symbol())})),Zi=Fi&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ui=Qn("wks"),Vi=je.Symbol,Xi=Zi?Vi:Vi&&Vi.withoutSetter||wn,Gi=function(t){return dn(Ui,t)||(Fi&&dn(Vi,t)?Ui[t]=Vi[t]:Ui[t]=Xi("Symbol."+t)),Ui[t]},vi=Gi("match"),Si=function(t){if(function(t){var e;return ln(t)&&(void 0!==(e=t[vi])?!!e:"RegExp"==nn(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},xi=Gi("match"),Qi=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[xi]=!1,"/./"[t](e)}catch(t){}}return!1},Ri=fn.f,Ai="".startsWith,wi=Math.min,Ji=Qi("startsWith"),Wi=!(Ji||(Kn=Ri(String.prototype,"startsWith"),!Kn||Kn.writable));Ci({target:"String",proto:!0,forced:!Wi&&!Ji},{startsWith:function(t){var e=String(rn(this));Si(t);var n=ti(wi(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return Ai?Ai.call(e,i,n):e.slice(n,n+i.length)===i}});var Hi,Li,ki=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Yi=function(t,e,n){if(ki(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}},Ni=Function.call,Ei=function(t,e,n){return Yi(Ni,je[t].prototype[e],n)},Ti=(Ei("String","startsWith"),Array.isArray||function(t){return"Array"==nn(t)}),Ki=function(t){return Object(rn(t))},zi=function(t,e,n){var i=an(e);i in t?Bn.f(t,i,tn(0,n)):t[i]=n},Di=Gi("species"),Oi=function(t,e){var n;return Ti(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Ti(n.prototype)?ln(n)&&null===(n=n[Di])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},ji=Pn("navigator","userAgent")||"",Pi=je.process,Mi=Pi&&Pi.versions,_i=Mi&&Mi.v8;_i?Li=(Hi=_i.split("."))[0]+Hi[1]:ji&&(!(Hi=ji.match(/Edge\/(\d+)/))||Hi[1]>=74)&&(Hi=ji.match(/Chrome\/(\d+)/))&&(Li=Hi[1]);var qi=Li&&+Li,$i=Gi("species"),to=Gi("isConcatSpreadable"),eo=qi>=51||!Pe((function(){var t=[];return t[to]=!1,t.concat()[0]!==t})),no=qi>=51||!Pe((function(){var t=[];return(t.constructor={})[$i]=function(){return{foo:1}},1!==t.concat(Boolean).foo})),io=function(t){if(!ln(t))return!1;var e=t[to];return void 0!==e?!!e:Ti(t)};Ci({target:"Array",proto:!0,forced:!eo||!no},{concat:function(t){var e,n,i,o,c,r=Ki(this),s=Oi(r,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(io(c=-1===e?r:arguments[e])){if(l+(o=ti(c.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,l++)n in c&&zi(s,l,c[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");zi(s,l++,c)}return s.length=l,s}});var oo={};oo[Gi("toStringTag")]="z";var co="[object z]"===String(oo),ro=Gi("toStringTag"),so="Arguments"==nn(function(){return arguments}()),lo=co?nn:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ro))?n:so?nn(e):"Object"==(i=nn(e))&&"function"==typeof e.callee?"Arguments":i},ao=co?{}.toString:function(){return"[object "+lo(this)+"]"};co||Dn(Object.prototype,"toString",ao,{unsafe:!0});var uo,go=Object.keys||function(t){return ri(t,si)},Io=Me?Object.defineProperties:function(t,e){yn(t);for(var n,i=go(e),o=i.length,c=0;o>c;)Bn.f(t,n=i[c++],e[n]);return t},bo=Pn("document","documentElement"),ho=Wn("IE_PROTO"),po=function(){},fo=function(t){return"<script>"+t+"<\/script>"},yo=function(){try{uo=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;yo=uo?function(t){t.write(fo("")),t.close();var e=t.parentWindow.Object;return t=null,e}(uo):((e=bn("iframe")).style.display="none",bo.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(fo("document.F=Object")),t.close(),t.F);for(var n=si.length;n--;)delete yo.prototype[si[n]];return yo()};Hn[ho]=!0;var mo=Object.create||function(t,e){var n;return null!==t?(po.prototype=yn(t),n=new po,po.prototype=null,n[ho]=t):n=yo(),void 0===e?n:Io(n,e)},Bo=ai.f,Co={}.toString,Fo="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Zo={f:function(t){return Fo&&"[object Window]"==Co.call(t)?function(t){try{return Bo(t)}catch(t){return Fo.slice()}}(t):Bo(sn(t))}},Uo={f:Gi},Vo=Bn.f,Xo=function(t){var e=On.Symbol||(On.Symbol={});dn(e,t)||Vo(e,t,{value:Uo.f(t)})},Go=Bn.f,vo=Gi("toStringTag"),So=function(t,e,n){t&&!dn(t=n?t:t.prototype,vo)&&Go(t,vo,{configurable:!0,value:e})},xo=[].push,Qo=function(t){var e=1==t,n=2==t,i=3==t,o=4==t,c=6==t,r=7==t,s=5==t||c;return function(l,a,u,d){for(var g,I,b=Ki(l),h=cn(b),p=Yi(a,u,3),f=ti(h.length),y=0,m=d||Oi,B=e?m(l,f):n||r?m(l,0):void 0;f>y;y++)if((s||y in h)&&(I=p(g=h[y],y,b),t))if(e)B[y]=I;else if(I)switch(t){case 3:return!0;case 5:return g;case 6:return y;case 2:xo.call(B,g)}else switch(t){case 4:return!1;case 7:xo.call(B,g)}return c?-1:i||o?o:B}},Ro=[Qo(0),Qo(1),Qo(2),Qo(3),Qo(4),Qo(5),Qo(6),Qo(7)][0],Ao=Wn("hidden"),wo=Gi("toPrimitive"),Jo=zn.set,Wo=zn.getterFor("Symbol"),Ho=Object.prototype,Lo=je.Symbol,ko=Pn("JSON","stringify"),Yo=fn.f,No=Bn.f,Eo=Zo.f,To=$e.f,Ko=Qn("symbols"),zo=Qn("op-symbols"),Do=Qn("string-to-symbol-registry"),Oo=Qn("symbol-to-string-registry"),jo=Qn("wks"),Po=je.QObject,Mo=!Po||!Po.prototype||!Po.prototype.findChild,_o=Me&&Pe((function(){return 7!=mo(No({},"a",{get:function(){return No(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=Yo(Ho,e);i&&delete Ho[e],No(t,e,n),i&&t!==Ho&&No(Ho,e,i)}:No,qo=function(t,e){var n=Ko[t]=mo(Lo.prototype);return Jo(n,{type:"Symbol",tag:t,description:e}),Me||(n.description=e),n},$o=Zi?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Lo},tc=function(t,e,n){t===Ho&&tc(zo,e,n),yn(t);var i=an(e,!0);return yn(n),dn(Ko,i)?(n.enumerable?(dn(t,Ao)&&t[Ao][i]&&(t[Ao][i]=!1),n=mo(n,{enumerable:tn(0,!1)})):(dn(t,Ao)||No(t,Ao,tn(1,{})),t[Ao][i]=!0),_o(t,i,n)):No(t,i,n)},ec=function(t,e){yn(t);var n=sn(e),i=go(n).concat(cc(n));return Ro(i,(function(e){Me&&!nc.call(n,e)||tc(t,e,n[e])})),t},nc=function(t){var e=an(t,!0),n=To.call(this,e);return!(this===Ho&&dn(Ko,e)&&!dn(zo,e))&&(!(n||!dn(this,e)||!dn(Ko,e)||dn(this,Ao)&&this[Ao][e])||n)},ic=function(t,e){var n=sn(t),i=an(e,!0);if(n!==Ho||!dn(Ko,i)||dn(zo,i)){var o=Yo(n,i);return!o||!dn(Ko,i)||dn(n,Ao)&&n[Ao][i]||(o.enumerable=!0),o}},oc=function(t){var e=Eo(sn(t)),n=[];return Ro(e,(function(t){dn(Ko,t)||dn(Hn,t)||n.push(t)})),n},cc=function(t){var e=t===Ho,n=Eo(e?zo:sn(t)),i=[];return Ro(n,(function(t){!dn(Ko,t)||e&&!dn(Ho,t)||i.push(Ko[t])})),i};if(Fi||(Dn((Lo=function(){if(this instanceof Lo)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=wn(t),n=function(t){this===Ho&&n.call(zo,t),dn(this,Ao)&&dn(this[Ao],e)&&(this[Ao][e]=!1),_o(this,e,tn(1,t))};return Me&&Mo&&_o(Ho,e,{configurable:!0,set:n}),qo(e,t)}).prototype,"toString",(function(){return Wo(this).tag})),Dn(Lo,"withoutSetter",(function(t){return qo(wn(t),t)})),$e.f=nc,Bn.f=tc,fn.f=ic,ai.f=Zo.f=oc,ui.f=cc,Uo.f=function(t){return qo(Gi(t),t)},Me&&(No(Lo.prototype,"description",{configurable:!0,get:function(){return Wo(this).description}}),Dn(Ho,"propertyIsEnumerable",nc,{unsafe:!0}))),Ci({global:!0,wrap:!0,forced:!Fi,sham:!Fi},{Symbol:Lo}),Ro(go(jo),(function(t){Xo(t)})),Ci({target:"Symbol",stat:!0,forced:!Fi},{for:function(t){var e=String(t);if(dn(Do,e))return Do[e];var n=Lo(e);return Do[e]=n,Oo[n]=e,n},keyFor:function(t){if(!$o(t))throw TypeError(t+" is not a symbol");if(dn(Oo,t))return Oo[t]},useSetter:function(){Mo=!0},useSimple:function(){Mo=!1}}),Ci({target:"Object",stat:!0,forced:!Fi,sham:!Me},{create:function(t,e){return void 0===e?mo(t):ec(mo(t),e)},defineProperty:tc,defineProperties:ec,getOwnPropertyDescriptor:ic}),Ci({target:"Object",stat:!0,forced:!Fi},{getOwnPropertyNames:oc,getOwnPropertySymbols:cc}),Ci({target:"Object",stat:!0,forced:Pe((function(){ui.f(1)}))},{getOwnPropertySymbols:function(t){return ui.f(Ki(t))}}),ko){var rc=!Fi||Pe((function(){var t=Lo();return"[null]"!=ko([t])||"{}"!=ko({a:t})||"{}"!=ko(Object(t))}));Ci({target:"JSON",stat:!0,forced:rc},{stringify:function(t,e,n){for(var i,o=[t],c=1;arguments.length>c;)o.push(arguments[c++]);if(i=e,(ln(e)||void 0!==t)&&!$o(t))return Ti(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!$o(e))return e}),o[1]=e,ko.apply(null,o)}})}Lo.prototype[wo]||Cn(Lo.prototype,wo,Lo.prototype.valueOf),So(Lo,"Symbol"),Hn[Ao]=!0,Xo("asyncIterator");var sc=Bn.f,lc=je.Symbol;if(Me&&"function"==typeof lc&&(!("description"in lc.prototype)||void 0!==lc().description)){var ac={},uc=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof uc?new lc(t):void 0===t?lc():lc(t);return""===t&&(ac[e]=!0),e};gi(uc,lc);var dc=uc.prototype=lc.prototype;dc.constructor=uc;var gc=dc.toString,Ic="Symbol(test)"==String(lc("test")),bc=/^Symbol\((.*)\)[^)]+$/;sc(dc,"description",{configurable:!0,get:function(){var t=ln(this)?this.valueOf():this,e=gc.call(t);if(dn(ac,t))return"";var n=Ic?e.slice(7,-1):e.replace(bc,"$1");return""===n?void 0:n}}),Ci({global:!0,forced:!0},{Symbol:uc})}Xo("hasInstance"),Xo("isConcatSpreadable"),Xo("iterator"),Xo("match"),Xo("matchAll"),Xo("replace"),Xo("search"),Xo("species"),Xo("split"),Xo("toPrimitive"),Xo("toStringTag"),Xo("unscopables"),So(je.JSON,"JSON",!0),So(Math,"Math",!0),Ci({global:!0},{Reflect:{}}),So(je.Reflect,"Reflect",!0),On.Symbol;var hc,pc,fc,yc=function(t){return function(e,n){var i,o,c=String(rn(e)),r=qn(n),s=c.length;return r<0||r>=s?t?"":void 0:(i=c.charCodeAt(r))<55296||i>56319||r+1===s||(o=c.charCodeAt(r+1))<56320||o>57343?t?c.charAt(r):i:t?c.slice(r,r+2):o-56320+(i-55296<<10)+65536}},mc={codeAt:yc(!1),charAt:yc(!0)},Bc=!Pe((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Cc=Wn("IE_PROTO"),Fc=Object.prototype,Zc=Bc?Object.getPrototypeOf:function(t){return t=Ki(t),dn(t,Cc)?t[Cc]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Fc:null},Uc=Gi("iterator"),Vc=!1;[].keys&&("next"in(fc=[].keys())?(pc=Zc(Zc(fc)))!==Object.prototype&&(hc=pc):Vc=!0),null==hc&&(hc={}),dn(hc,Uc)||Cn(hc,Uc,(function(){return this}));var Xc={IteratorPrototype:hc,BUGGY_SAFARI_ITERATORS:Vc},Gc={},vc=Xc.IteratorPrototype,Sc=function(){return this},xc=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return yn(n),function(t){if(!ln(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(i),e?t.call(n,i):n.__proto__=i,n}}():void 0),Qc=Xc.IteratorPrototype,Rc=Xc.BUGGY_SAFARI_ITERATORS,Ac=Gi("iterator"),wc=function(){return this},Jc=function(t,e,n,i,o,c,r){!function(t,e,n){var i=e+" Iterator";t.prototype=mo(vc,{next:tn(1,n)}),So(t,i,!1),Gc[i]=Sc}(n,e,i);var s,l,a,u=function(t){if(t===o&&h)return h;if(!Rc&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",g=!1,I=t.prototype,b=I[Ac]||I["@@iterator"]||o&&I[o],h=!Rc&&b||u(o),p="Array"==e&&I.entries||b;if(p&&(s=Zc(p.call(new t)),Qc!==Object.prototype&&s.next&&(Zc(s)!==Qc&&(xc?xc(s,Qc):"function"!=typeof s[Ac]&&Cn(s,Ac,wc)),So(s,d,!0))),"values"==o&&b&&"values"!==b.name&&(g=!0,h=function(){return b.call(this)}),I[Ac]!==h&&Cn(I,Ac,h),Gc[e]=h,o)if(l={values:u("values"),keys:c?h:u("keys"),entries:u("entries")},r)for(a in l)(Rc||g||!(a in I))&&Dn(I,a,l[a]);else Ci({target:e,proto:!0,forced:Rc||g},l);return l},Wc=mc.charAt,Hc=zn.set,Lc=zn.getterFor("String Iterator");Jc(String,"String",(function(t){Hc(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=Lc(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=Wc(n,i),e.index+=t.length,{value:t,done:!1})}));var kc=function(t){var e=t.return;if(void 0!==e)return yn(e.call(t)).value},Yc=function(t,e,n,i){try{return i?e(yn(n)[0],n[1]):e(n)}catch(e){throw kc(t),e}},Nc=Gi("iterator"),Ec=Array.prototype,Tc=function(t){return void 0!==t&&(Gc.Array===t||Ec[Nc]===t)},Kc=Gi("iterator"),zc=function(t){if(null!=t)return t[Kc]||t["@@iterator"]||Gc[lo(t)]},Dc=Gi("iterator"),Oc=!1;try{var jc=0,Pc={next:function(){return{done:!!jc++}},return:function(){Oc=!0}};Pc[Dc]=function(){return this},Array.from(Pc,(function(){throw 2}))}catch(Le){}var Mc=function(t,e){if(!e&&!Oc)return!1;var n=!1;try{var i={};i[Dc]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n},_c=!Mc((function(t){Array.from(t)}));Ci({target:"Array",stat:!0,forced:_c},{from:function(t){var e,n,i,o,c,r,s=Ki(t),l="function"==typeof this?this:Array,a=arguments.length,u=a>1?arguments[1]:void 0,d=void 0!==u,g=zc(s),I=0;if(d&&(u=Yi(u,a>2?arguments[2]:void 0,2)),null==g||l==Array&&Tc(g))for(n=new l(e=ti(s.length));e>I;I++)r=d?u(s[I],I):s[I],zi(n,I,r);else for(c=(o=g.call(s)).next,n=new l;!(i=c.call(o)).done;I++)r=d?Yc(o,u,[i.value,I],!0):i.value,zi(n,I,r);return n.length=I,n}}),On.Array.from;var qc,$c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,tr=Bn.f,er=je.Int8Array,nr=er&&er.prototype,ir=je.Uint8ClampedArray,or=ir&&ir.prototype,cr=er&&Zc(er),rr=nr&&Zc(nr),sr=Object.prototype,lr=sr.isPrototypeOf,ar=Gi("toStringTag"),ur=wn("TYPED_ARRAY_TAG"),dr=$c&&!!xc&&"Opera"!==lo(je.opera),gr={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(qc in gr)je[qc]||(dr=!1);if((!dr||"function"!=typeof cr||cr===Function.prototype)&&(cr=function(){throw TypeError("Incorrect invocation")},dr))for(qc in gr)je[qc]&&xc(je[qc],cr);if((!dr||!rr||rr===sr)&&(rr=cr.prototype,dr))for(qc in gr)je[qc]&&xc(je[qc].prototype,rr);if(dr&&Zc(or)!==rr&&xc(or,rr),Me&&!dn(rr,ar))for(qc in tr(rr,ar,{get:function(){return ln(this)?this[ur]:void 0}}),gr)je[qc]&&Cn(je[qc],ur,qc);var Ir=Gi("species"),br=function(t){if(function(t){return ln(t)&&dn(gr,lo(t))}(t))return t;throw TypeError("Target is not a typed array")},hr=function(t){if(xc){if(lr.call(cr,t))return t}else for(var e in gr)if(dn(gr,qc)){var n=je[e];if(n&&(t===n||lr.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},pr=[].slice;!function(t,e,n){if(Me){if(n)for(var i in gr){var o=je[i];o&&dn(o.prototype,t)&&delete o.prototype[t]}rr[t]&&!n||Dn(rr,t,n?e:dr&&nr[t]||e)}}("slice",(function(t,e){for(var n=pr.call(br(this),t,e),i=function(t,e){var n,i=yn(t).constructor;return void 0===i||null==(n=yn(i)[Ir])?e:ki(n)}(this,this.constructor),o=0,c=n.length,r=new(hr(i))(c);c>o;)r[o]=n[o++];return r}),Pe((function(){new Int8Array(1).slice()})));var fr=Gi("unscopables"),yr=Array.prototype;null==yr[fr]&&Bn.f(yr,fr,{configurable:!0,value:mo(null)});var mr=function(t){yr[fr][t]=!0},Br=Object.defineProperty,Cr={},Fr=function(t){throw t},Zr=oi.includes,Ur=function(t,e){if(dn(Cr,t))return Cr[t];e||(e={});var n=[][t],i=!!dn(e,"ACCESSORS")&&e.ACCESSORS,o=dn(e,0)?e[0]:Fr,c=dn(e,1)?e[1]:void 0;return Cr[t]=!!n&&!Pe((function(){if(i&&!Me)return!0;var t={length:-1};i?Br(t,1,{enumerable:!0,get:Fr}):t[1]=1,n.call(t,o,c)}))}("indexOf",{ACCESSORS:!0,1:0});Ci({target:"Array",proto:!0,forced:!Ur},{includes:function(t){return Zr(this,t,arguments.length>1?arguments[1]:void 0)}}),mr("includes"),Ei("Array","includes"),Ci({target:"String",proto:!0,forced:!Qi("includes")},{includes:function(t){return!!~String(rn(this)).indexOf(Si(t),arguments.length>1?arguments[1]:void 0)}}),Ei("String","includes");var Vr=!Pe((function(){return Object.isExtensible(Object.preventExtensions({}))})),Xr=De((function(t){var e=Bn.f,n=wn("meta"),i=0,o=Object.isExtensible||function(){return!0},c=function(t){e(t,n,{value:{objectID:"O"+ ++i,weakData:{}}})},r=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!ln(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!dn(t,n)){if(!o(t))return"F";if(!e)return"E";c(t)}return t[n].objectID},getWeakData:function(t,e){if(!dn(t,n)){if(!o(t))return!0;if(!e)return!1;c(t)}return t[n].weakData},onFreeze:function(t){return Vr&&r.REQUIRED&&o(t)&&!dn(t,n)&&c(t),t}};Hn[n]=!0})),Gr=(Xr.REQUIRED,Xr.fastKey,Xr.getWeakData,Xr.onFreeze,function(t,e){this.stopped=t,this.result=e}),vr=function(t,e,n){var i,o,c,r,s,l,a,u=n&&n.that,d=!(!n||!n.AS_ENTRIES),g=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),b=Yi(e,u,1+d+I),h=function(t){return i&&kc(i),new Gr(!0,t)},p=function(t){return d?(yn(t),I?b(t[0],t[1],h):b(t[0],t[1])):I?b(t,h):b(t)};if(g)i=t;else{if("function"!=typeof(o=zc(t)))throw TypeError("Target is not iterable");if(Tc(o)){for(c=0,r=ti(t.length);r>c;c++)if((s=p(t[c]))&&s instanceof Gr)return s;return new Gr(!1)}i=o.call(t)}for(l=i.next;!(a=l.call(i)).done;){try{s=p(a.value)}catch(t){throw kc(i),t}if("object"==typeof s&&s&&s instanceof Gr)return s}return new Gr(!1)},Sr=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},xr=function(t,e,n){for(var i in e)Dn(t,i,e[i],n);return t},Qr=Gi("species"),Rr=Bn.f,Ar=Xr.fastKey,wr=zn.set,Jr=zn.getterFor,Wr=(function(t,e,n){var i=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),c=i?"set":"add",r=je[t],s=r&&r.prototype,l=r,a={},u=function(t){var e=s[t];Dn(s,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!ln(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!ln(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!ln(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(mi(t,"function"!=typeof r||!(o||s.forEach&&!Pe((function(){(new r).entries().next()})))))l=n.getConstructor(e,t,i,c),Xr.REQUIRED=!0;else if(mi(t,!0)){var d=new l,g=d[c](o?{}:-0,1)!=d,I=Pe((function(){d.has(1)})),b=Mc((function(t){new r(t)})),h=!o&&Pe((function(){for(var t=new r,e=5;e--;)t[c](e,e);return!t.has(-0)}));b||((l=e((function(e,n){Sr(e,l,t);var o=function(t,e,n){var i,o;return xc&&"function"==typeof(i=e.constructor)&&i!==n&&ln(o=i.prototype)&&o!==n.prototype&&xc(t,o),t}(new r,e,l);return null!=n&&vr(n,o[c],{that:o,AS_ENTRIES:i}),o}))).prototype=s,s.constructor=l),(I||h)&&(u("delete"),u("has"),i&&u("get")),(h||g)&&u(c),o&&s.clear&&delete s.clear}a[t]=l,Ci({global:!0,forced:l!=r},a),So(l,t),o||n.setStrong(l,t,i)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,i){var o=t((function(t,c){Sr(t,o,e),wr(t,{type:e,index:mo(null),first:void 0,last:void 0,size:0}),Me||(t.size=0),null!=c&&vr(c,t[i],{that:t,AS_ENTRIES:n})})),c=Jr(e),r=function(t,e,n){var i,o,r=c(t),l=s(t,e);return l?l.value=n:(r.last=l={index:o=Ar(e,!0),key:e,value:n,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=l),i&&(i.next=l),Me?r.size++:t.size++,"F"!==o&&(r.index[o]=l)),t},s=function(t,e){var n,i=c(t),o=Ar(e);if("F"!==o)return i.index[o];for(n=i.first;n;n=n.next)if(n.key==e)return n};return xr(o.prototype,{clear:function(){for(var t=c(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,Me?t.size=0:this.size=0},delete:function(t){var e=this,n=c(e),i=s(e,t);if(i){var o=i.next,r=i.previous;delete n.index[i.index],i.removed=!0,r&&(r.next=o),o&&(o.previous=r),n.first==i&&(n.first=o),n.last==i&&(n.last=r),Me?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=c(this),i=Yi(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),xr(o.prototype,n?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return r(this,0===t?0:t,e)}}:{add:function(t){return r(this,t=0===t?0:t,t)}}),Me&&Rr(o.prototype,"size",{get:function(){return c(this).size}}),o},setStrong:function(t,e,n){var i=e+" Iterator",o=Jr(e),c=Jr(i);Jc(t,e,(function(t,e){wr(this,{type:i,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=c(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(t){var e=Pn(t),n=Bn.f;Me&&e&&!e[Qr]&&n(e,Qr,{configurable:!0,get:function(){return this}})}(e)}}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Hr=zn.set,Lr=zn.getterFor("Array Iterator"),kr=Jc(Array,"Array",(function(t,e){Hr(this,{type:"Array Iterator",target:sn(t),index:0,kind:e})}),(function(){var t=Lr(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");Gc.Arguments=Gc.Array,mr("keys"),mr("values"),mr("entries");var Yr=Gi("iterator"),Nr=Gi("toStringTag"),Er=kr.values;for(var Tr in Wr){var Kr=je[Tr],zr=Kr&&Kr.prototype;if(zr){if(zr[Yr]!==Er)try{Cn(zr,Yr,Er)}catch(Le){zr[Yr]=Er}if(zr[Nr]||Cn(zr,Nr,Tr),Wr[Tr])for(var Dr in kr)if(zr[Dr]!==kr[Dr])try{Cn(zr,Dr,kr[Dr])}catch(Le){zr[Dr]=kr[Dr]}}}function Or(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}function jr(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var o=i.length;function c(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if("function"==typeof r)return void r.call(n,(function(e){c(t,e)}),(function(n){i[t]={status:"rejected",reason:n},0==--o&&e(i)}))}i[t]={status:"fulfilled",value:n},0==--o&&e(i)}for(var r=0;r<i.length;r++)c(r,i[r])}))}On.Set;var Pr=setTimeout;function Mr(t){return Boolean(t&&void 0!==t.length)}function _r(){}function qr(t){if(!(this instanceof qr))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],os(t,this)}function $r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,qr._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void es(e.promise,t)}ts(e.promise,i)}else(1===t._state?ts:es)(e.promise,t._value)}))):t._deferreds.push(e)}function ts(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof qr)return t._state=3,t._value=e,void ns(t);if("function"==typeof n)return void os((i=n,o=e,function(){i.apply(o,arguments)}),t)}t._state=1,t._value=e,ns(t)}catch(e){es(t,e)}var i,o}function es(t,e){t._state=2,t._value=e,ns(t)}function ns(t){2===t._state&&0===t._deferreds.length&&qr._immediateFn((function(){t._handled||qr._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)$r(t,t._deferreds[e]);t._deferreds=null}function is(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function os(t,e){var n=!1;try{t((function(t){n||(n=!0,ts(e,t))}),(function(t){n||(n=!0,es(e,t))}))}catch(t){if(n)return;n=!0,es(e,t)}}qr.prototype.catch=function(t){return this.then(null,t)},qr.prototype.then=function(t,e){var n=new this.constructor(_r);return $r(this,new is(t,e,n)),n},qr.prototype.finally=Or,qr.all=function(t){return new qr((function(e,n){if(!Mr(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var o=i.length;function c(t,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(e){c(t,e)}),n)}i[t]=r,0==--o&&e(i)}catch(t){n(t)}}for(var r=0;r<i.length;r++)c(r,i[r])}))},qr.allSettled=jr,qr.resolve=function(t){return t&&"object"==typeof t&&t.constructor===qr?t:new qr((function(e){e(t)}))},qr.reject=function(t){return new qr((function(e,n){n(t)}))},qr.race=function(t){return new qr((function(e,n){if(!Mr(t))return n(new TypeError("Promise.race accepts an array"));for(var i=0,o=t.length;i<o;i++)qr.resolve(t[i]).then(e,n)}))},qr._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){Pr(t,0)},qr._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var cs=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof cs.Promise?cs.Promise=qr:cs.Promise.prototype.finally?cs.Promise.allSettled||(cs.Promise.allSettled=jr):cs.Promise.prototype.finally=Or,function(t){function e(){}function n(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===o.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function i(t){for(var e=0,n=Math.min(65536,t.length+1),i=new Uint16Array(n),o=[],c=0;;){var r=e<t.length;if(!r||c>=n-1){if(o.push(String.fromCharCode.apply(null,i.subarray(0,c))),!r)return o.join("");t=t.subarray(e),c=e=0}if(0==(128&(r=t[e++])))i[c++]=r;else if(192==(224&r)){var s=63&t[e++];i[c++]=(31&r)<<6|s}else if(224==(240&r)){s=63&t[e++];var l=63&t[e++];i[c++]=(31&r)<<12|s<<6|l}else 240==(248&r)&&(65535<(r=(7&r)<<18|(s=63&t[e++])<<12|(l=63&t[e++])<<6|63&t[e++])&&(r-=65536,i[c++]=r>>>10&1023|55296,r=56320|1023&r),i[c++]=r)}}if(t.TextEncoder&&t.TextDecoder)return!1;var o=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,i=0,o=Math.max(32,n+(n>>>1)+7),c=new Uint8Array(o>>>3<<3);e<n;){var r=t.charCodeAt(e++);if(55296<=r&&56319>=r){if(e<n){var s=t.charCodeAt(e);56320==(64512&s)&&(++e,r=((1023&r)<<10)+(1023&s)+65536)}if(55296<=r&&56319>=r)continue}if(i+4>c.length&&(o+=8,o=(o*=1+e/t.length*2)>>>3<<3,(s=new Uint8Array(o)).set(c),c=s),0==(4294967168&r))c[i++]=r;else{if(0==(4294965248&r))c[i++]=r>>>6&31|192;else if(0==(4294901760&r))c[i++]=r>>>12&15|224,c[i++]=r>>>6&63|128;else{if(0!=(4292870144&r))continue;c[i++]=r>>>18&7|240,c[i++]=r>>>12&63|128,c[i++]=r>>>6&63|128}c[i++]=63&r|128}}return c.slice?c.slice(0,i):c.subarray(0,i)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var c=i;"function"==typeof Buffer&&Buffer.from?c=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(c=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n.responseText}catch(e){return i(t)}finally{URL.revokeObjectURL(e)}}),n.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),c(t)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:Ke),function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?r(t):e}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=o(t);if(e){var c=o(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return s(this,n)}}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=a(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}var d=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],i=0,o=n.length;i<o;i++)if(n[i]===e)return void n.splice(i,1)}},{key:"dispatchEvent",value:function(t){var e=this;if(t.type in this.listeners){for(var n=function(n){setTimeout((function(){return n.call(e,t)}))},i=this.listeners[t.type],o=0,c=i.length;o<c;o++)n(i[o]);return!t.defaultPrevented}}}]),e}(),g=function(e){i(s,e);var c=l(s);function s(){var e;return t(this,s),(e=c.call(this)).listeners||d.call(r(e)),Object.defineProperty(r(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(r(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return n(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),u(o(s.prototype),"dispatchEvent",this).call(this,t)}}]),s}(d),I=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new g,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(I.prototype[Symbol.toStringTag]="AbortController",g.prototype[Symbol.toStringTag]="AbortSignal"),function(t){(function(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController})(t)&&(t.AbortController=I,t.AbortSignal=g)}("undefined"!=typeof self?self:Ke)}();var rs=De((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,n){var i=t.locked.get(e);void 0===i?void 0===n?t.locked.set(e,[]):t.locked.set(e,[n]):void 0!==n&&(i.unshift(n),t.locked.set(e,i))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise((function(n,i){t.isLocked(e)?t.addToLocked(e,n):(t.addToLocked(e),n())}))},this.unlock=function(e){var n=t.locked.get(e);if(void 0!==n&&0!==n.length){var i=n.pop();t.locked.set(e,n),void 0!==i&&setTimeout(i,0)}else t.locked.delete(e)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return n.getInstance()}}));ze(rs);var ss=ze(De((function(t,e){var n=Ke&&Ke.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,c){function r(t){try{l(i.next(t))}catch(t){c(t)}}function s(t){try{l(i.throw(t))}catch(t){c(t)}}function l(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(r,s)}l((i=i.apply(t,e||[])).next())}))},i=Ke&&Ke.__generator||function(t,e){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(t){c=[6,t],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o="browser-tabs-lock-key";function c(t){return new Promise((function(e){return setTimeout(e,t)}))}function r(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",i=0;i<t;i++)n+=e[Math.floor(Math.random()*e.length)];return n}var s=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+r(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,s){return void 0===s&&(s=5e3),n(this,void 0,void 0,(function(){var n,l,a,u,d,g;return i(this,(function(i){switch(i.label){case 0:n=Date.now()+r(4),l=Date.now()+s,a=o+"-"+e,u=window.localStorage,i.label=1;case 1:return Date.now()<l?[4,c(30)]:[3,8];case 2:return i.sent(),null!==u.getItem(a)?[3,5]:(d=this.id+"-"+e+"-"+n,[4,c(Math.floor(25*Math.random()))]);case 3:return i.sent(),u.setItem(a,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,c(30)];case 4:return i.sent(),null!==(g=u.getItem(a))&&(g=JSON.parse(g)).id===this.id&&g.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(a,n),[2,!0]):[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(l)];case 6:i.sent(),i.label=7;case 7:return n=Date.now()+r(4),[3,1];case 8:return[2,!1]}}))}))},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,(function(){var o=this;return i(this,(function(c){return setTimeout((function(){return n(o,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return[4,rs.default().lock(e)];case 1:return i.sent(),this.acquiredIatSet.has(e)?(n=window.localStorage,null===(o=n.getItem(t))?(rs.default().unlock(e),[2]):((o=JSON.parse(o)).timeRefreshed=Date.now(),n.setItem(t,JSON.stringify(o)),rs.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2])):(rs.default().unlock(e),[2])}}))}))}),1e3),[2]}))}))},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var i=!1,o=Date.now(),c=!1;function r(){if(c||(window.removeEventListener("storage",r),t.removeFromWaiting(r),clearTimeout(s),c=!0),!i){i=!0;var e=50-(Date.now()-o);e>0?setTimeout(n,e):n()}}window.addEventListener("storage",r),t.addToWaiting(r);var s=setTimeout(r,Math.max(0,e-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter((function(t){return t!==e})))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach((function(t){return t()}))},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,(function(){var n,c,r;return i(this,(function(i){switch(i.label){case 0:return n=window.localStorage,c=o+"-"+e,null===(r=n.getItem(c))?[2]:(r=JSON.parse(r)).id!==this.id?[3,2]:[4,rs.default().lock(r.iat)];case 1:i.sent(),this.acquiredIatSet.delete(r.iat),n.removeItem(c),rs.default().unlock(r.iat),t.notifyWaiters(),i.label=2;case 2:return[2]}}))}))},t.lockCorrector=function(){for(var e=Date.now()-5e3,n=window.localStorage,i=Object.keys(n),c=!1,r=0;r<i.length;r++){var s=i[r];if(s.includes(o)){var l=n.getItem(s);null!==l&&(void 0===(l=JSON.parse(l)).timeRefreshed&&l.timeAcquired<e||void 0!==l.timeRefreshed&&l.timeRefreshed<e)&&(n.removeItem(s),c=!0)}}c&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=s}))),ls={timeoutInSeconds:60},as=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],us={name:"auth0-spa-js",version:"1.13.6"},ds=function(t){function e(n,i){var o=t.call(this,i)||this;return o.error=n,o.error_description=i,Object.setPrototypeOf(o,e.prototype),o}return ke(e,t),e.fromPayload=function(t){return new e(t.error,t.error_description)},e}(Error),gs=function(t){function e(n,i,o,c){void 0===c&&(c=null);var r=t.call(this,n,i)||this;return r.state=o,r.appState=c,Object.setPrototypeOf(r,e.prototype),r}return ke(e,t),e}(ds),Is=function(t){function e(){var n=t.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,e.prototype),n}return ke(e,t),e}(ds),bs=function(t){function e(n){var i=t.call(this)||this;return i.popup=n,Object.setPrototypeOf(i,e.prototype),i}return ke(e,t),e}(Is),hs=function(t,e,n){return void 0===n&&(n=60),new Promise((function(i,o){var c=window.document.createElement("iframe");c.setAttribute("width","0"),c.setAttribute("height","0"),c.style.display="none";var r,s=function(){window.document.body.contains(c)&&(window.document.body.removeChild(c),window.removeEventListener("message",r,!1))},l=setTimeout((function(){o(new Is),s()}),1e3*n);r=function(t){if(t.origin==e&&t.data&&"authorization_response"===t.data.type){var n=t.source;n&&n.close(),t.data.response.error?o(ds.fromPayload(t.data.response)):i(t.data.response),clearTimeout(l),window.removeEventListener("message",r,!1),setTimeout(s,2e3)}},window.addEventListener("message",r,!1),window.document.body.appendChild(c),c.setAttribute("src",t)}))},ps=function(t,e){var n,i,o,c=e.popup;if(c?c.location.href=t:(n=t,i=window.screenX+(window.innerWidth-400)/2,o=window.screenY+(window.innerHeight-600)/2,c=window.open(n,"auth0:authorize:popup","left="+i+",top="+o+",width=400,height=600,resizable,scrollbars=yes,status=1")),!c)throw new Error("Could not open popup");return new Promise((function(t,n){var i,o=setTimeout((function(){n(new bs(c)),window.removeEventListener("message",i,!1)}),1e3*(e.timeoutInSeconds||60));i=function(e){if(e.data&&"authorization_response"===e.data.type){if(clearTimeout(o),window.removeEventListener("message",i,!1),c.close(),e.data.response.error)return n(ds.fromPayload(e.data.response));t(e.data.response)}},window.addEventListener("message",i)}))},fs=function(){return window.crypto||window.msCrypto},ys=function(){var t=fs();return t.subtle||t.webkitSubtle},ms=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(fs().getRandomValues(new Uint8Array(43))).forEach((function(n){return e+=t[n%t.length]})),e},Bs=function(t){return btoa(t)},Cs=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},Fs=function(t){return Ee(void 0,void 0,void 0,(function(){var e;return Te(this,(function(n){switch(n.label){case 0:return e=ys().digest({name:"SHA-256"},(new TextEncoder).encode(t)),window.msCrypto?[2,new Promise((function(t,n){e.oncomplete=function(e){t(e.target.result)},e.onerror=function(t){n(t.error)},e.onabort=function(){n("The digest operation was aborted")}}))]:[4,e];case 1:return[2,n.sent()]}}))}))},Zs=function(t){return function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t.replace(/_/g,"/").replace(/-/g,"+"))},Us=function(t){var e=new Uint8Array(t);return function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(function(t){return e[t]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(e))))},Vs=function(t,e){return Ee(void 0,void 0,void 0,(function(){var n,i;return Te(this,(function(o){switch(o.label){case 0:return[4,(c=t,r=e,r=r||{},new Promise((function(t,e){var n=new XMLHttpRequest,i=[],o=[],s={},l=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:l,headers:{keys:function(){return i},entries:function(){return o},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(var a in n.open(r.method||"get",c,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){i.push(e=e.toLowerCase()),o.push([e,n]),s[e]=s[e]?s[e]+","+n:n})),t(l())},n.onerror=e,n.withCredentials="include"==r.credentials,r.headers)n.setRequestHeader(a,r.headers[a]);n.send(r.body||null)})))];case 1:return n=o.sent(),i={ok:n.ok},[4,n.json()];case 2:return[2,(i.json=o.sent(),i)]}var c,r}))}))},Xs=function(t,e,n){return Ee(void 0,void 0,void 0,(function(){var i,o;return Te(this,(function(c){return i=new AbortController,e.signal=i.signal,[2,Promise.race([Vs(t,e),new Promise((function(t,e){o=setTimeout((function(){i.abort(),e(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(o)}))]}))}))},Gs=function(t,e,n,i,o,c){return Ee(void 0,void 0,void 0,(function(){return Te(this,(function(r){return[2,(s={auth:{audience:e,scope:n},timeout:o,fetchUrl:t,fetchOptions:i},l=c,new Promise((function(t,e){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?e(new Error(n.data.error)):t(n.data)},l.postMessage(s,[n.port2])})))];var s,l}))}))},vs=function(t,e,n,i,o,c){return void 0===c&&(c=1e4),Ee(void 0,void 0,void 0,(function(){return Te(this,(function(r){return o?[2,Gs(t,e,n,i,c,o)]:[2,Xs(t,i,c)]}))}))};function Ss(t,e,n,i,o,c){return Ee(this,void 0,void 0,(function(){var r,s,l,a,u,d,g,I;return Te(this,(function(b){switch(b.label){case 0:r=null,l=0,b.label=1;case 1:if(!(l<3))return[3,6];b.label=2;case 2:return b.trys.push([2,4,,5]),[4,vs(t,n,i,o,c,e)];case 3:return s=b.sent(),r=null,[3,6];case 4:return a=b.sent(),r=a,[3,5];case 5:return l++,[3,1];case 6:if(r)throw r.message=r.message||"Failed to fetch",r;if(u=s.json,d=u.error,g=u.error_description,I=Ne(u,["error","error_description"]),!s.ok)throw new ds(d||"request_error",g||"HTTP error. Unable to fetch "+t);return[2,I]}}))}))}var xs=function(t){return Array.from(new Set(t))},Qs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xs(t.join(" ").trim().split(/\s+/)).join(" ")};function Rs(t,e){var n=t.baseUrl,i=t.timeout,o=t.audience,c=t.scope,r=t.auth0Client,s=Ne(t,["baseUrl","timeout","audience","scope","auth0Client"]);return Ee(this,void 0,void 0,(function(){var t,l;return Te(this,(function(a){switch(a.label){case 0:return[4,Ss(n+"/oauth/token",i,o||"default",c,{method:"POST",body:JSON.stringify(s),headers:{"Content-type":"application/json","Auth0-Client":btoa(JSON.stringify(r||us))}},e)];case 1:return t=a.sent(),(l=function(t,e){void 0===t&&(t=""),void 0===e&&(e="");var n=t.split(/\s+/),i=e.split(/\s+/);return n.filter((function(t){return!i.includes(t)})).join(" ")}(c,t.scope)).length&&console.warn("The requested scopes ("+c+") are different from the scopes of the retrieved token ("+t.scope+"). This could mean that your access token may not include all the scopes that you expect. It is advised to resolve this by either:\n  \n  - Removing `"+l+"` from the scope when requesting a new token.\n  - Ensuring `"+l+"` is returned as part of the requested token's scopes."),[2,t]}}))}))}var As=function(){function t(t,e){void 0===e&&(e=ws),this.prefix=e,this.client_id=t.client_id,this.scope=t.scope,this.audience=t.audience}return t.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},t.fromKey=function(e){var n=e.split("::"),i=n[0],o=n[1],c=n[2];return new t({client_id:o,scope:n[3],audience:c},i)},t}(),ws="@@auth0spajs@@",Js=function(t){var e=Math.floor(Date.now()/1e3)+t.expires_in;return{body:t,expiresAt:Math.min(e,t.decodedToken.claims.exp)}},Ws=function(t,e){var n=t.client_id,i=t.audience,o=t.scope;return e.filter((function(t){var e=As.fromKey(t),c=e.prefix,r=e.client_id,s=e.audience,l=e.scope,a=l&&l.split(" "),u=l&&o.split(" ").reduce((function(t,e){return t&&a.includes(e)}),!0);return c===ws&&r===n&&s===i&&u}))[0]},Hs=function(){function t(){}return t.prototype.save=function(t){var e=new As({client_id:t.client_id,scope:t.scope,audience:t.audience}),n=Js(t);window.localStorage.setItem(e.toKey(),JSON.stringify(n))},t.prototype.get=function(t,e){void 0===e&&(e=0);var n=this.readJson(t),i=Math.floor(Date.now()/1e3);if(n){if(!(n.expiresAt-e<i))return n.body;if(n.body.refresh_token){var o=this.stripData(n);return this.writeJson(t.toKey(),o),o.body}localStorage.removeItem(t.toKey())}},t.prototype.clear=function(){for(var t=localStorage.length-1;t>=0;t--)localStorage.key(t).startsWith(ws)&&localStorage.removeItem(localStorage.key(t))},t.prototype.readJson=function(t){var e,n=Ws(t,Object.keys(window.localStorage)),i=n&&window.localStorage.getItem(n);if(i&&(e=JSON.parse(i)))return e},t.prototype.writeJson=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.prototype.stripData=function(t){return{body:{refresh_token:t.body.refresh_token},expiresAt:t.expiresAt}},t}(),Ls=function(){this.enclosedCache=function(){var t={};return{save:function(e){var n=new As({client_id:e.client_id,scope:e.scope,audience:e.audience}),i=Js(e);t[n.toKey()]=i},get:function(e,n){void 0===n&&(n=0);var i=Ws(e,Object.keys(t)),o=t[i],c=Math.floor(Date.now()/1e3);if(o)return o.expiresAt-n<c?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},o.body):void delete t[e.toKey()]:o.body},clear:function(){t={}}}}()},ks=function(){function t(t){this.storage=t,this.transaction=this.storage.get("a0.spajs.txs")}return t.prototype.create=function(t){this.transaction=t,this.storage.save("a0.spajs.txs",t,{daysUntilExpire:1})},t.prototype.get=function(){return this.transaction},t.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},t}(),Ys=function(t){return"number"==typeof t},Ns=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Es=De((function(t,e){var n=Ke&&Ke.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function i(t,e){if(!e)return"";var n="; "+t;return!0===e?n:n+"="+e}function o(t,e,n){return encodeURIComponent(t).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if("number"==typeof t.expires){var e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*t.expires),t.expires=e}return i("Expires",t.expires?t.expires.toUTCString():"")+i("Domain",t.domain)+i("Path",t.path)+i("Secure",t.secure)+i("SameSite",t.sameSite)}(n)}function c(t){for(var e={},n=t?t.split("; "):[],i=/(%[\dA-F]{2})+/gi,o=0;o<n.length;o++){var c=n[o].split("="),r=c.slice(1).join("=");'"'===r.charAt(0)&&(r=r.slice(1,-1));try{e[c[0].replace(i,decodeURIComponent)]=r.replace(i,decodeURIComponent)}catch(t){}}return e}function r(){return c(document.cookie)}function s(t,e,i){document.cookie=o(t,e,n({path:"/"},i))}e.__esModule=!0,e.encode=o,e.parse=c,e.getAll=r,e.get=function(t){return r()[t]},e.set=s,e.remove=function(t,e){s(t,"",n(n({},e),{expires:-1}))}}));ze(Es),Es.encode,Es.parse,Es.getAll;var Ts=Es.get,Ks=Es.set,zs=Es.remove,Ds={get:function(t){var e=Ts(t);if(void 0!==e)return JSON.parse(e)},save:function(t,e,n){var i={};"https:"===window.location.protocol&&(i={secure:!0,sameSite:"none"}),i.expires=n.daysUntilExpire,Ks(t,JSON.stringify(e),i)},remove:function(t){zs(t)}},Os={get:function(t){return Ds.get(t)||Ds.get("_legacy_"+t)},save:function(t,e,n){var i={};"https:"===window.location.protocol&&(i={secure:!0}),i.expires=n.daysUntilExpire,Ks("_legacy_"+t,JSON.stringify(e),i),Ds.save(t,e,n)},remove:function(t){Ds.remove(t),Ds.remove("_legacy_"+t)}},js={get:function(t){if("undefined"!=typeof sessionStorage){var e=sessionStorage.getItem(t);if(void 0!==e)return JSON.parse(e)}},save:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove:function(t){sessionStorage.removeItem(t)}};var Ps,Ms=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlCiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZQogICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVECiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLAogICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC4KCiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMKICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHQoZSx0KXt2YXIgcixuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYocj0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7cj1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciByPXt9LG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsifCIrdH07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGM9by5kYXRhLGw9Yy50aW1lb3V0LGY9Yy5hdXRoLGg9Yy5mZXRjaFVybCxwPWMuZmV0Y2hPcHRpb25zLGI9by5wb3J0c1swXTtyZXR1cm4gcz12b2lkIDAsYT12b2lkIDAsdT1mdW5jdGlvbigpe3ZhciBvLHMsYSxpLHUsYyx5LGQsdix3O3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6YT0ocz1mfHx7fSkuYXVkaWVuY2UsaT1zLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEodT1KU09OLnBhcnNlKHAuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXUuZ3JhbnRfdHlwZSl7aWYoIShjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHJbbihlLHQpXX0oYSxpKSkpdGhyb3cgbmV3IEVycm9yKCJUaGUgd2ViIHdvcmtlciBpcyBtaXNzaW5nIHRoZSByZWZyZXNoIHRva2VuIik7cC5ib2R5PUpTT04uc3RyaW5naWZ5KGUoZSh7fSx1KSx7cmVmcmVzaF90b2tlbjpjfSkpfXk9dm9pZCAwLCJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJih5PW5ldyBBYm9ydENvbnRyb2xsZXIscC5zaWduYWw9eS5zaWduYWwpLGQ9dm9pZCAwLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHQudHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCxQcm9taXNlLnJhY2UoWyhnPWwsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3JldHVybiBzZXRUaW1lb3V0KGUsZyl9KSkpLGZldGNoKGgsZSh7fSxwKSldKV07Y2FzZSAzOnJldHVybiBkPXQuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdj10LnNlbnQoKSxiLnBvc3RNZXNzYWdlKHtlcnJvcjp2Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiBkP1s0LGQuanNvbigpXTooeSYmeS5hYm9ydCgpLGIucG9zdE1lc3NhZ2Uoe2Vycm9yOiJUaW1lb3V0IHdoZW4gZXhlY3V0aW5nICdmZXRjaCcifSksWzJdKTtjYXNlIDY6cmV0dXJuKG89dC5zZW50KCkpLnJlZnJlc2hfdG9rZW4/KGZ1bmN0aW9uKGUsdCxvKXtyW24odCxvKV09ZX0oby5yZWZyZXNoX3Rva2VuLGEsaSksZGVsZXRlIG8ucmVmcmVzaF90b2tlbik6ZnVuY3Rpb24oZSx0KXtkZWxldGUgcltuKGUsdCldfShhLGkpLGIucG9zdE1lc3NhZ2Uoe29rOmQub2ssanNvbjpvfSksWzMsOF07Y2FzZSA3OnJldHVybiB3PXQuc2VudCgpLGIucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yX2Rlc2NyaXB0aW9uOncubWVzc2FnZX19KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfXZhciBnfSkpfSxuZXcoKGk9dm9pZCAwKXx8KGk9UHJvbWlzZSkpKChmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7dHJ5e28odS5uZXh0KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBuKGUpe3RyeXtvKHUudGhyb3coZSkpfWNhdGNoKGUpe3QoZSl9fWZ1bmN0aW9uIG8odCl7dC5kb25lP2UodC52YWx1ZSk6bmV3IGkoKGZ1bmN0aW9uKGUpe2UodC52YWx1ZSl9KSkudGhlbihyLG4pfW8oKHU9dS5hcHBseShzLGF8fFtdKSkubmV4dCgpKX0pKX0pKX0oKTsKCg==","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy93b3JrZXIvdG9rZW4ud29ya2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB2ZXJzaW9uIGZyb20gJy4vdmVyc2lvbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTID0gNjA7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1BVUF9DT05GSUdfT1BUSU9OUzogUG9wdXBDb25maWdPcHRpb25zID0ge1xuICB0aW1lb3V0SW5TZWNvbmRzOiBERUZBVUxUX0FVVEhPUklaRV9USU1FT1VUX0lOX1NFQ09ORFNcbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9TSUxFTlRfVE9LRU5fUkVUUllfQ09VTlQgPSAzO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IENMRUFOVVBfSUZSQU1FX1RJTUVPVVRfSU5fU0VDT05EUyA9IDI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9GRVRDSF9USU1FT1VUX01TID0gMTAwMDA7XG5cbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9NRU1PUlkgPSAnbWVtb3J5JztcbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9MT0NBTF9TVE9SQUdFID0gJ2xvY2Fsc3RvcmFnZSc7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPVxuICAnVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPSAnaW52YWxpZCByZWZyZXNoIHRva2VuJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDT1BFID0gJ29wZW5pZCBwcm9maWxlIGVtYWlsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGlzc3VlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd2hpY2ggdGhlXG4gKiB1c2VyIGNhbiByZWNvdmVyIGZyb20gYnkgc2lnbmluZyBpbiBpbnRlcmFjdGl2ZWx5LlxuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjQXV0aEVycm9yXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBSRUNPVkVSQUJMRV9FUlJPUlMgPSBbXG4gICdsb2dpbl9yZXF1aXJlZCcsXG4gICdjb25zZW50X3JlcXVpcmVkJyxcbiAgJ2ludGVyYWN0aW9uX3JlcXVpcmVkJyxcbiAgJ2FjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkJyxcbiAgLy8gU3RyaWN0bHkgc3BlYWtpbmcgdGhlIHVzZXIgY2FuJ3QgcmVjb3ZlciBmcm9tIGBhY2Nlc3NfZGVuaWVkYCAtIGJ1dCB0aGV5XG4gIC8vIGNhbiBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVpciBhY2Nlc3MgYmVpbmcgZGVuaWVkIGJ5IGxvZ2dpbmcgaW5cbiAgLy8gaW50ZXJhY3RpdmVseS5cbiAgJ2FjY2Vzc19kZW5pZWQnXG5dO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9DSEVDS19FWFBJUllfREFZUyA9IDE7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIMF9DTElFTlQgPSB7XG4gIG5hbWU6ICdhdXRoMC1zcGEtanMnLFxuICB2ZXJzaW9uOiB2ZXJzaW9uXG59O1xuIiwiaW1wb3J0IHsgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgV29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZSB9IGZyb20gJy4vd29ya2VyLnR5cGVzJztcblxubGV0IHJlZnJlc2hUb2tlbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT4gYCR7YXVkaWVuY2V9fCR7c2NvcGV9YDtcblxuY29uc3QgZ2V0UmVmcmVzaFRva2VuID0gKGF1ZGllbmNlOiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcpID0+XG4gIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHNldFJlZnJlc2hUb2tlbiA9IChcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmcsXG4gIGF1ZGllbmNlOiBzdHJpbmcsXG4gIHNjb3BlOiBzdHJpbmdcbikgPT4gKHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV0gPSByZWZyZXNoVG9rZW4pO1xuXG5jb25zdCBkZWxldGVSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQgPSAodGltZTogbnVtYmVyKSA9PlxuICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xuXG5jb25zdCBtZXNzYWdlSGFuZGxlciA9IGFzeW5jICh7XG4gIGRhdGE6IHsgdGltZW91dCwgYXV0aCwgZmV0Y2hVcmwsIGZldGNoT3B0aW9ucyB9LFxuICBwb3J0czogW3BvcnRdXG59OiBNZXNzYWdlRXZlbnQ8V29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZT4pID0+IHtcbiAgbGV0IGpzb246IHtcbiAgICByZWZyZXNoX3Rva2VuPzogc3RyaW5nO1xuICB9O1xuXG4gIGNvbnN0IHsgYXVkaWVuY2UsIHNjb3BlIH0gPSBhdXRoIHx8IHt9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UoZmV0Y2hPcHRpb25zLmJvZHkpO1xuXG4gICAgaWYgKCFib2R5LnJlZnJlc2hfdG9rZW4gJiYgYm9keS5ncmFudF90eXBlID09PSAncmVmcmVzaF90b2tlbicpIHtcbiAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdldFJlZnJlc2hUb2tlbihhdWRpZW5jZSwgc2NvcGUpO1xuXG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4uYm9keSxcbiAgICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IGFib3J0Q29udHJvbGxlci5zaWduYWw7XG4gICAgfVxuXG4gICAgbGV0IHJlc3BvbnNlOiBhbnk7XG5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICB3YWl0KHRpbWVvdXQpLFxuICAgICAgICBmZXRjaChmZXRjaFVybCwgeyAuLi5mZXRjaE9wdGlvbnMgfSlcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBmZXRjaCBlcnJvciwgcmVqZWN0IGBzZW5kTWVzc2FnZWAgdXNpbmcgYGVycm9yYCBrZXkgc28gdGhhdCB3ZSByZXRyeS5cbiAgICAgIHBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYHN3aXRjaEZldGNoYCByYWlzZSB0aGUgZXJyb3IuXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBcIlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJ1wiXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidGltZW91dCIsImF1dGgiLCJmZXRjaFVybCIsImZldGNoT3B0aW9ucyIsInBvcnQiLCJfYyIsIkpTT04iLCJwYXJzZSIsInJlZnJlc2hfdG9rZW4iLCJncmFudF90eXBlIiwicmVmcmVzaFRva2VuIiwiZ2V0UmVmcmVzaFRva2VuIiwiRXJyb3IiLCJzdHJpbmdpZnkiLCJhYm9ydENvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJzaWduYWwiLCJyZXNwb25zZSIsIlByb21pc2UiLCJyYWNlIiwidGltZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZmV0Y2giLCJfZCIsInBvc3RNZXNzYWdlIiwiZXJyb3IiLCJlcnJvcl8xIiwibWVzc2FnZSIsImpzb24iLCJhYm9ydCIsInNldFJlZnJlc2hUb2tlbiIsImRlbGV0ZVJlZnJlc2hUb2tlbiIsIm9rIiwiZXJyb3JfZGVzY3JpcHRpb24iLCJlcnJvcl8yIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztvRkE2Qk8sSUFBSUEsRUFBVyxXQVFsQixPQVBBQSxFQUFXQyxPQUFPQyxRQUFVLFNBQWtCQyxHQUMxQyxJQUFLLElBQUlDLEVBQUdDLEVBQUksRUFBR0MsRUFBSUMsVUFBVUMsT0FBUUgsRUFBSUMsRUFBR0QsSUFFNUMsSUFBSyxJQUFJSSxLQURUTCxFQUFJRyxVQUFVRixHQUNPSixPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxJQUU5RSxPQUFPTixJQUVLVSxNQUFNQyxLQUFNUCxZQXVDekIsU0FBU1EsRUFBWUMsRUFBU0MsR0FDakMsSUFBc0dDLEVBQUdDLEVBQUdoQixFQUFHaUIsRUFBM0dDLEVBQUksQ0FBRUMsTUFBTyxFQUFHQyxLQUFNLFdBQWEsR0FBVyxFQUFQcEIsRUFBRSxHQUFRLE1BQU1BLEVBQUUsR0FBSSxPQUFPQSxFQUFFLElBQU9xQixLQUFNLEdBQUlDLElBQUssSUFDaEcsT0FBT0wsRUFBSSxDQUFFTSxLQUFNQyxFQUFLLEdBQUlDLE1BQVNELEVBQUssR0FBSUUsT0FBVUYsRUFBSyxJQUF3QixtQkFBWEcsU0FBMEJWLEVBQUVVLE9BQU9DLFVBQVksV0FBYSxPQUFPakIsT0FBVU0s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",!1,function(t){return Ps=Ps||function(t,e,n){var i=void 0===e?null:e,o=function(t,e){var n=atob(t);if(e){for(var i=new Uint8Array(n.length),o=0,c=n.length;o<c;++o)i[o]=n.charCodeAt(o);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(t,void 0!==n&&n),c=o.indexOf("\n",10)+1,r=o.substring(c)+(i?"//# sourceMappingURL="+i:""),s=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(s)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlCiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZQogICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVECiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLAogICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC4KCiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMKICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHQoZSx0KXt2YXIgcixuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYocj0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7cj1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciByPXt9LG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsifCIrdH07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGM9by5kYXRhLGw9Yy50aW1lb3V0LGY9Yy5hdXRoLGg9Yy5mZXRjaFVybCxwPWMuZmV0Y2hPcHRpb25zLGI9by5wb3J0c1swXTtyZXR1cm4gcz12b2lkIDAsYT12b2lkIDAsdT1mdW5jdGlvbigpe3ZhciBvLHMsYSxpLHUsYyx5LGQsdix3O3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6YT0ocz1mfHx7fSkuYXVkaWVuY2UsaT1zLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEodT1KU09OLnBhcnNlKHAuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXUuZ3JhbnRfdHlwZSl7aWYoIShjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHJbbihlLHQpXX0oYSxpKSkpdGhyb3cgbmV3IEVycm9yKCJUaGUgd2ViIHdvcmtlciBpcyBtaXNzaW5nIHRoZSByZWZyZXNoIHRva2VuIik7cC5ib2R5PUpTT04uc3RyaW5naWZ5KGUoZSh7fSx1KSx7cmVmcmVzaF90b2tlbjpjfSkpfXk9dm9pZCAwLCJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJih5PW5ldyBBYm9ydENvbnRyb2xsZXIscC5zaWduYWw9eS5zaWduYWwpLGQ9dm9pZCAwLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHQudHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCxQcm9taXNlLnJhY2UoWyhnPWwsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3JldHVybiBzZXRUaW1lb3V0KGUsZyl9KSkpLGZldGNoKGgsZSh7fSxwKSldKV07Y2FzZSAzOnJldHVybiBkPXQuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdj10LnNlbnQoKSxiLnBvc3RNZXNzYWdlKHtlcnJvcjp2Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiBkP1s0LGQuanNvbigpXTooeSYmeS5hYm9ydCgpLGIucG9zdE1lc3NhZ2Uoe2Vycm9yOiJUaW1lb3V0IHdoZW4gZXhlY3V0aW5nICdmZXRjaCcifSksWzJdKTtjYXNlIDY6cmV0dXJuKG89dC5zZW50KCkpLnJlZnJlc2hfdG9rZW4/KGZ1bmN0aW9uKGUsdCxvKXtyW24odCxvKV09ZX0oby5yZWZyZXNoX3Rva2VuLGEsaSksZGVsZXRlIG8ucmVmcmVzaF90b2tlbik6ZnVuY3Rpb24oZSx0KXtkZWxldGUgcltuKGUsdCldfShhLGkpLGIucG9zdE1lc3NhZ2Uoe29rOmQub2ssanNvbjpvfSksWzMsOF07Y2FzZSA3OnJldHVybiB3PXQuc2VudCgpLGIucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yX2Rlc2NyaXB0aW9uOncubWVzc2FnZX19KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfXZhciBnfSkpfSxuZXcoKGk9dm9pZCAwKXx8KGk9UHJvbWlzZSkpKChmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7dHJ5e28odS5uZXh0KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBuKGUpe3RyeXtvKHUudGhyb3coZSkpfWNhdGNoKGUpe3QoZSl9fWZ1bmN0aW9uIG8odCl7dC5kb25lP2UodC52YWx1ZSk6bmV3IGkoKGZ1bmN0aW9uKGUpe2UodC52YWx1ZSl9KSkudGhlbihyLG4pfW8oKHU9dS5hcHBseShzLGF8fFtdKSkubmV4dCgpKX0pKX0pKX0oKTsKCg==","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy93b3JrZXIvdG9rZW4ud29ya2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB2ZXJzaW9uIGZyb20gJy4vdmVyc2lvbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTID0gNjA7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1BVUF9DT05GSUdfT1BUSU9OUzogUG9wdXBDb25maWdPcHRpb25zID0ge1xuICB0aW1lb3V0SW5TZWNvbmRzOiBERUZBVUxUX0FVVEhPUklaRV9USU1FT1VUX0lOX1NFQ09ORFNcbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9TSUxFTlRfVE9LRU5fUkVUUllfQ09VTlQgPSAzO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IENMRUFOVVBfSUZSQU1FX1RJTUVPVVRfSU5fU0VDT05EUyA9IDI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9GRVRDSF9USU1FT1VUX01TID0gMTAwMDA7XG5cbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9NRU1PUlkgPSAnbWVtb3J5JztcbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9MT0NBTF9TVE9SQUdFID0gJ2xvY2Fsc3RvcmFnZSc7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPVxuICAnVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPSAnaW52YWxpZCByZWZyZXNoIHRva2VuJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDT1BFID0gJ29wZW5pZCBwcm9maWxlIGVtYWlsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGlzc3VlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd2hpY2ggdGhlXG4gKiB1c2VyIGNhbiByZWNvdmVyIGZyb20gYnkgc2lnbmluZyBpbiBpbnRlcmFjdGl2ZWx5LlxuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjQXV0aEVycm9yXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBSRUNPVkVSQUJMRV9FUlJPUlMgPSBbXG4gICdsb2dpbl9yZXF1aXJlZCcsXG4gICdjb25zZW50X3JlcXVpcmVkJyxcbiAgJ2ludGVyYWN0aW9uX3JlcXVpcmVkJyxcbiAgJ2FjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkJyxcbiAgLy8gU3RyaWN0bHkgc3BlYWtpbmcgdGhlIHVzZXIgY2FuJ3QgcmVjb3ZlciBmcm9tIGBhY2Nlc3NfZGVuaWVkYCAtIGJ1dCB0aGV5XG4gIC8vIGNhbiBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVpciBhY2Nlc3MgYmVpbmcgZGVuaWVkIGJ5IGxvZ2dpbmcgaW5cbiAgLy8gaW50ZXJhY3RpdmVseS5cbiAgJ2FjY2Vzc19kZW5pZWQnXG5dO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9DSEVDS19FWFBJUllfREFZUyA9IDE7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIMF9DTElFTlQgPSB7XG4gIG5hbWU6ICdhdXRoMC1zcGEtanMnLFxuICB2ZXJzaW9uOiB2ZXJzaW9uXG59O1xuIiwiaW1wb3J0IHsgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgV29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZSB9IGZyb20gJy4vd29ya2VyLnR5cGVzJztcblxubGV0IHJlZnJlc2hUb2tlbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT4gYCR7YXVkaWVuY2V9fCR7c2NvcGV9YDtcblxuY29uc3QgZ2V0UmVmcmVzaFRva2VuID0gKGF1ZGllbmNlOiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcpID0+XG4gIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHNldFJlZnJlc2hUb2tlbiA9IChcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmcsXG4gIGF1ZGllbmNlOiBzdHJpbmcsXG4gIHNjb3BlOiBzdHJpbmdcbikgPT4gKHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV0gPSByZWZyZXNoVG9rZW4pO1xuXG5jb25zdCBkZWxldGVSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQgPSAodGltZTogbnVtYmVyKSA9PlxuICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xuXG5jb25zdCBtZXNzYWdlSGFuZGxlciA9IGFzeW5jICh7XG4gIGRhdGE6IHsgdGltZW91dCwgYXV0aCwgZmV0Y2hVcmwsIGZldGNoT3B0aW9ucyB9LFxuICBwb3J0czogW3BvcnRdXG59OiBNZXNzYWdlRXZlbnQ8V29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZT4pID0+IHtcbiAgbGV0IGpzb246IHtcbiAgICByZWZyZXNoX3Rva2VuPzogc3RyaW5nO1xuICB9O1xuXG4gIGNvbnN0IHsgYXVkaWVuY2UsIHNjb3BlIH0gPSBhdXRoIHx8IHt9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UoZmV0Y2hPcHRpb25zLmJvZHkpO1xuXG4gICAgaWYgKCFib2R5LnJlZnJlc2hfdG9rZW4gJiYgYm9keS5ncmFudF90eXBlID09PSAncmVmcmVzaF90b2tlbicpIHtcbiAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdldFJlZnJlc2hUb2tlbihhdWRpZW5jZSwgc2NvcGUpO1xuXG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4uYm9keSxcbiAgICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IGFib3J0Q29udHJvbGxlci5zaWduYWw7XG4gICAgfVxuXG4gICAgbGV0IHJlc3BvbnNlOiBhbnk7XG5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICB3YWl0KHRpbWVvdXQpLFxuICAgICAgICBmZXRjaChmZXRjaFVybCwgeyAuLi5mZXRjaE9wdGlvbnMgfSlcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBmZXRjaCBlcnJvciwgcmVqZWN0IGBzZW5kTWVzc2FnZWAgdXNpbmcgYGVycm9yYCBrZXkgc28gdGhhdCB3ZSByZXRyeS5cbiAgICAgIHBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYHN3aXRjaEZldGNoYCByYWlzZSB0aGUgZXJyb3IuXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBcIlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJ1wiXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidGltZW91dCIsImF1dGgiLCJmZXRjaFVybCIsImZldGNoT3B0aW9ucyIsInBvcnQiLCJfYyIsIkpTT04iLCJwYXJzZSIsInJlZnJlc2hfdG9rZW4iLCJncmFudF90eXBlIiwicmVmcmVzaFRva2VuIiwiZ2V0UmVmcmVzaFRva2VuIiwiRXJyb3IiLCJzdHJpbmdpZnkiLCJhYm9ydENvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJzaWduYWwiLCJyZXNwb25zZSIsIlByb21pc2UiLCJyYWNlIiwidGltZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZmV0Y2giLCJfZCIsInBvc3RNZXNzYWdlIiwiZXJyb3IiLCJlcnJvcl8xIiwibWVzc2FnZSIsImpzb24iLCJhYm9ydCIsInNldFJlZnJlc2hUb2tlbiIsImRlbGV0ZVJlZnJlc2hUb2tlbiIsIm9rIiwiZXJyb3JfZGVzY3JpcHRpb24iLCJlcnJvcl8yIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztvRkE2Qk8sSUFBSUEsRUFBVyxXQVFsQixPQVBBQSxFQUFXQyxPQUFPQyxRQUFVLFNBQWtCQyxHQUMxQyxJQUFLLElBQUlDLEVBQUdDLEVBQUksRUFBR0MsRUFBSUMsVUFBVUMsT0FBUUgsRUFBSUMsRUFBR0QsSUFFNUMsSUFBSyxJQUFJSSxLQURUTCxFQUFJRyxVQUFVRixHQUNPSixPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxJQUU5RSxPQUFPTixJQUVLVSxNQUFNQyxLQUFNUCxZQXVDekIsU0FBU1EsRUFBWUMsRUFBU0MsR0FDakMsSUFBc0dDLEVBQUdDLEVBQUdoQixFQUFHaUIsRUFBM0dDLEVBQUksQ0FBRUMsTUFBTyxFQUFHQyxLQUFNLFdBQWEsR0FBVyxFQUFQcEIsRUFBRSxHQUFRLE1BQU1BLEVBQUUsR0FBSSxPQUFPQSxFQUFFLElBQU9xQixLQUFNLEdBQUlDLElBQUssSUFDaEcsT0FBT0wsRUFBSSxDQUFFTSxLQUFNQyxFQUFLLEdBQUlDLE1BQVNELEVBQUssR0FBSUUsT0FBVUYsRUFBSyxJQUF3QixtQkFBWEcsU0FBMEJWLEVBQUVVLE9BQU9DLFVBQVksV0FBYSxPQUFPakIsT0FBVU0s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",false),new Worker(Ps,t)}),_s={},qs=new ss,$s={memory:function(){return(new Ls).enclosedCache},localstorage:function(){return new Hs}},tl=function(t){return $s[t]},el=function(){function t(t){var e,n;if(this.options=t,"undefined"!=typeof window&&function(){if(!fs())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===ys())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),this.cacheLocation=t.cacheLocation||"memory",this.cookieStorage=!1===t.legacySameSiteCookie?Ds:Os,this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1,!tl(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');var i,o,c=t.useCookiesForTransactions?this.cookieStorage:js;this.cache=tl(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new ks(c),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(i=this.options.issuer,o=this.domainUrl,i?i.startsWith("https://")?i:"https://"+i+"/":o+"/"),this.defaultScope=Qs("openid",void 0!==(null===(n=null===(e=this.options)||void 0===e?void 0:e.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=Qs(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new Ms),this.customOptions=function(t){return t.advancedOptions,t.audience,t.auth0Client,t.authorizeTimeoutInSeconds,t.cacheLocation,t.client_id,t.domain,t.issuer,t.leeway,t.max_age,t.redirect_uri,t.scope,t.useRefreshTokens,Ne(t,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(t)}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||us)));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,e,n,i,o){var c=this.options,r=(c.domain,c.leeway,c.useRefreshTokens,c.useCookiesForTransactions,c.auth0Client,c.cacheLocation,c.advancedOptions,Ne(c,["domain","leeway","useRefreshTokens","useCookiesForTransactions","auth0Client","cacheLocation","advancedOptions"]));return Ye(Ye(Ye({},r),t),{scope:Qs(this.defaultScope,this.scope,t.scope),response_type:"code",response_mode:"query",state:e,nonce:n,redirect_uri:o||this.options.redirect_uri,code_challenge:i,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(t){return this._url("/authorize?"+Cs(t))},t.prototype._verifyIdToken=function(t,e,n){return function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(t){var e=t.split("."),n=e[0],i=e[1],o=e[2];if(3!==e.length||!n||!i||!o)throw new Error("ID token could not be decoded");var c=JSON.parse(Zs(i)),r={__raw:t},s={};return Object.keys(c).forEach((function(t){r[t]=c[t],Ns.includes(t)||(s[t]=c[t])})),{encoded:{header:n,payload:i,signature:o},header:JSON.parse(Zs(n)),claims:r,user:s}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!Ys(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!Ys(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Ys(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,i=new Date(Date.now()),o=new Date(0),c=new Date(0),r=new Date(0);if(r.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),o.setUTCSeconds(e.claims.exp+n),c.setUTCSeconds(e.claims.nbf-n),i>o)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+i+") is after expiration time ("+o+")");if(Ys(e.claims.nbf)&&i<c)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+i+") is before "+c);if(Ys(e.claims.auth_time)&&i>r)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+i+") is after last auth at "+r);if(t.organizationId){if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(t.organizationId!==e.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+t.organizationId+'", found "'+e.claims.org_id+'"')}return e}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumber=function(t){return"string"!=typeof t?t:parseInt(t,10)||void 0},t.prototype.buildAuthorizeUrl=function(t){return void 0===t&&(t={}),Ee(this,void 0,void 0,(function(){var e,n,i,o,c,r,s,l,a,u,d,g;return Te(this,(function(I){switch(I.label){case 0:return e=t.redirect_uri,n=t.appState,i=Ne(t,["redirect_uri","appState"]),o=Bs(ms()),c=Bs(ms()),r=ms(),[4,Fs(r)];case 1:return s=I.sent(),l=Us(s),a=t.fragment?"#"+t.fragment:"",u=this._getParams(i,o,c,l,e),d=this._authorizeUrl(u),g=t.organization||this.options.organization,this.transactionManager.create(Ye({nonce:c,code_verifier:r,appState:n,scope:u.scope,audience:u.audience||"default",redirect_uri:u.redirect_uri},g&&{organizationId:g})),[2,d+a]}}))}))},t.prototype.loginWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Ee(this,void 0,void 0,(function(){var n,i,o,c,r,s,l,a,u,d,g,I,b;return Te(this,(function(h){switch(h.label){case 0:return n=Ne(t,[]),i=Bs(ms()),o=Bs(ms()),c=ms(),[4,Fs(c)];case 1:return r=h.sent(),s=Us(r),l=this._getParams(n,i,o,s,this.options.redirect_uri||window.location.origin),a=this._authorizeUrl(Ye(Ye({},l),{response_mode:"web_message"})),[4,ps(a,Ye(Ye({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(u=h.sent(),i!==u.state)throw new Error("Invalid state");return[4,Rs({audience:l.audience,scope:l.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:c,code:u.code,grant_type:"authorization_code",redirect_uri:l.redirect_uri,auth0Client:this.options.auth0Client},this.worker)];case 3:return d=h.sent(),g=t.organization||this.options.organization,I=this._verifyIdToken(d.id_token,o,g),b=Ye(Ye({},d),{decodedToken:I,scope:l.scope,audience:l.audience||"default",client_id:this.options.client_id}),this.cache.save(b),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2]}}))}))},t.prototype.getUser=function(t){return void 0===t&&(t={}),Ee(this,void 0,void 0,(function(){var e,n,i;return Te(this,(function(o){return e=t.audience||this.options.audience||"default",n=Qs(this.defaultScope,this.scope,t.scope),[2,(i=this.cache.get(new As({client_id:this.options.client_id,audience:e,scope:n})))&&i.decodedToken&&i.decodedToken.user]}))}))},t.prototype.getIdTokenClaims=function(t){return void 0===t&&(t={}),Ee(this,void 0,void 0,(function(){var e,n,i;return Te(this,(function(o){return e=t.audience||this.options.audience||"default",n=Qs(this.defaultScope,this.scope,t.scope),[2,(i=this.cache.get(new As({client_id:this.options.client_id,audience:e,scope:n})))&&i.decodedToken&&i.decodedToken.claims]}))}))},t.prototype.loginWithRedirect=function(t){return void 0===t&&(t={}),Ee(this,void 0,void 0,(function(){var e;return Te(this,(function(n){switch(n.label){case 0:return[4,this.buildAuthorizeUrl(t)];case 1:return e=n.sent(),window.location.assign(e),[2]}}))}))},t.prototype.handleRedirectCallback=function(t){return void 0===t&&(t=window.location.href),Ee(this,void 0,void 0,(function(){var e,n,i,o,c,r,s,l,a,u,d;return Te(this,(function(g){switch(g.label){case 0:if(0===(e=t.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(t){t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#")));var e=t.split("&"),n={};return e.forEach((function(t){var e=t.split("="),i=e[0],o=e[1];n[i]=decodeURIComponent(o)})),Ye(Ye({},n),{expires_in:parseInt(n.expires_in)})}(e.join("")),i=n.state,o=n.code,c=n.error,r=n.error_description,!(s=this.transactionManager.get())||!s.code_verifier)throw new Error("Invalid state");if(this.transactionManager.remove(),c)throw new gs(c,r,i,s.appState);return l={audience:s.audience,scope:s.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:s.code_verifier,grant_type:"authorization_code",code:o,auth0Client:this.options.auth0Client},void 0!==s.redirect_uri&&(l.redirect_uri=s.redirect_uri),[4,Rs(l,this.worker)];case 1:return a=g.sent(),u=this._verifyIdToken(a.id_token,s.nonce,s.organizationId),d=Ye(Ye({},a),{decodedToken:u,audience:s.audience,scope:s.scope,client_id:this.options.client_id}),this.cache.save(d),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,{appState:s.appState}]}}))}))},t.prototype.checkSession=function(t){return Ee(this,void 0,void 0,(function(){var e;return Te(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(t)];case 2:return n.sent(),[3,4];case 3:if(e=n.sent(),!as.includes(e.error))throw e;return[3,4];case 4:return[2]}}))}))},t.prototype.getTokenSilently=function(t){return void 0===t&&(t={}),Ee(this,void 0,void 0,(function(){var e,n,i,o=this;return Te(this,(function(c){return e=Ye(Ye({audience:this.options.audience,ignoreCache:!1},t),{scope:Qs(this.defaultScope,this.scope,t.scope)}),n=e.ignoreCache,i=Ne(e,["ignoreCache"]),[2,(r=function(){return o._getTokenSilently(Ye({ignoreCache:n},i))},s=this.options.client_id+"::"+i.audience+"::"+i.scope,l=_s[s],l||(l=r().finally((function(){delete _s[s],l=null})),_s[s]=l),l)];var r,s,l}))}))},t.prototype._getTokenSilently=function(t){return void 0===t&&(t={}),Ee(this,void 0,void 0,(function(){var e,n,i,o,c,r,s=this;return Te(this,(function(l){switch(l.label){case 0:return e=t.ignoreCache,n=Ne(t,["ignoreCache"]),i=function(){var t=s.cache.get(new As({scope:n.scope,audience:n.audience||"default",client_id:s.options.client_id}),60);return t&&t.access_token},!e&&(o=i())?[2,o]:[4,(a=function(){return qs.acquireLock("auth0.lock.getTokenSilently",5e3)},u=10,void 0===u&&(u=3),Ee(void 0,void 0,void 0,(function(){var t;return Te(this,(function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<u?[4,a()]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return t++,[3,1];case 4:return[2,!1]}}))})))];case 1:if(!l.sent())return[3,10];l.label=2;case 2:return l.trys.push([2,,7,9]),!e&&(o=i())?[2,o]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,4];case 3:return r=l.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(n)];case 5:r=l.sent(),l.label=6;case 6:return c=r,this.cache.save(Ye({client_id:this.options.client_id},c)),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,c.access_token];case 7:return[4,qs.releaseLock("auth0.lock.getTokenSilently")];case 8:return l.sent(),[7];case 9:return[3,11];case 10:throw new Is;case 11:return[2]}var a,u}))}))},t.prototype.getTokenWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Ee(this,void 0,void 0,(function(){return Te(this,(function(n){switch(n.label){case 0:return t.audience=t.audience||this.options.audience,t.scope=Qs(this.defaultScope,this.scope,t.scope),e=Ye(Ye({},ls),e),[4,this.loginWithPopup(t,e)];case 1:return n.sent(),[2,this.cache.get(new As({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id})).access_token]}}))}))},t.prototype.isAuthenticated=function(){return Ee(this,void 0,void 0,(function(){return Te(this,(function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}}))}))},t.prototype.buildLogoutUrl=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var e=t.federated,n=Ne(t,["federated"]),i=e?"&federated":"";return this._url("/v2/logout?"+Cs(n))+i},t.prototype.logout=function(t){void 0===t&&(t={});var e=t.localOnly,n=Ne(t,["localOnly"]);if(e&&n.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!e){var i=this.buildLogoutUrl(n);window.location.assign(i)}},t.prototype._getTokenFromIFrame=function(t){return Ee(this,void 0,void 0,(function(){var e,n,i,o,c,r,s,l,a,u,d,g,I,b,h;return Te(this,(function(p){switch(p.label){case 0:return e=Bs(ms()),n=Bs(ms()),i=ms(),[4,Fs(i)];case 1:o=p.sent(),c=Us(o),r=this._getParams(t,e,n,c,t.redirect_uri||this.options.redirect_uri||window.location.origin),s=this._authorizeUrl(Ye(Ye({},r),{prompt:"none",response_mode:"web_message"})),l=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,p.label=2;case 2:return p.trys.push([2,5,,6]),[4,hs(s,this.domainUrl,l)];case 3:if(a=p.sent(),e!==a.state)throw new Error("Invalid state");return u=t.scope,d=t.audience,t.redirect_uri,t.ignoreCache,t.timeoutInSeconds,g=Ne(t,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Rs(Ye(Ye(Ye({},this.customOptions),g),{scope:u,audience:d,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:i,code:a.code,grant_type:"authorization_code",redirect_uri:r.redirect_uri,auth0Client:this.options.auth0Client}),this.worker)];case 4:return I=p.sent(),b=this._verifyIdToken(I.id_token,n),[2,Ye(Ye({},I),{decodedToken:b,scope:r.scope,audience:r.audience||"default"})];case 5:throw"login_required"===(h=p.sent()).error&&this.logout({localOnly:!0}),h;case 6:return[2]}}))}))},t.prototype._getTokenUsingRefreshToken=function(t){return Ee(this,void 0,void 0,(function(){var e,n,i,o,c,r,s,l,a;return Te(this,(function(u){switch(u.label){case 0:return t.scope=Qs(this.defaultScope,this.options.scope,t.scope),(e=this.cache.get(new As({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id})))&&e.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(t)];case 1:return[2,u.sent()];case 2:n=t.redirect_uri||this.options.redirect_uri||window.location.origin,o=t.scope,c=t.audience,t.ignoreCache,t.timeoutInSeconds,r=Ne(t,["scope","audience","ignoreCache","timeoutInSeconds"]),s="number"==typeof t.timeoutInSeconds?1e3*t.timeoutInSeconds:null,u.label=3;case 3:return u.trys.push([3,5,,8]),[4,Rs(Ye(Ye(Ye(Ye(Ye({},this.customOptions),r),{audience:c,scope:o,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:n}),s&&{timeout:s}),{auth0Client:this.options.auth0Client}),this.worker)];case 4:return i=u.sent(),[3,8];case 5:return"The web worker is missing the refresh token"===(l=u.sent()).message||l.message&&l.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(t)]:[3,7];case 6:return[2,u.sent()];case 7:throw l;case 8:return a=this._verifyIdToken(i.id_token),[2,Ye(Ye({},i),{decodedToken:a,scope:t.scope,audience:t.audience||"default"})]}}))}))},t}();function nl(e){let n,i,o;return{c(){n=d("button")},m(t,c){l(t,n,c),i||(o=h(n,"click",e[3]),i=!0)},p:t,i:t,o:t,d(t){t&&a(n),i=!1,o()}}}function il(t){let e,n,i,o,c;e=new He({});var r=t[1];return r&&(i=new r({})),{c(){z(e.$$.fragment),n=I(),i&&z(i.$$.fragment),o=b()},m(t,r){D(e,t,r),l(t,n,r),i&&D(i,t,r),l(t,o,r),c=!0},p(t,e){if(r!==(r=t[1])){if(i){H();const t=i;Y(t.$$.fragment,1,0,(()=>{O(t,1)})),L()}r?(i=new r({}),z(i.$$.fragment),k(i.$$.fragment,1),D(i,o.parentNode,o)):i=null}},i(t){c||(k(e.$$.fragment,t),i&&k(i.$$.fragment,t),c=!0)},o(t){Y(e.$$.fragment,t),i&&Y(i.$$.fragment,t),c=!1},d(t){O(e,t),t&&a(n),t&&a(o),i&&O(i,t)}}}function ol(t){let e,n,i,o;const c=[il,nl],r=[];function s(t,e){return t[0]?0:1}return e=s(t),n=r[e]=c[e](t),{c(){n.c(),i=b()},m(t,n){r[e].m(t,n),l(t,i,n),o=!0},p(t,[o]){let l=e;e=s(t),e===l?r[e].p(t,o):(H(),Y(r[l],1,1,(()=>{r[l]=null})),L(),n=r[e],n?n.p(t,o):(n=r[e]=c[e](t),n.c()),k(n,1),n.m(i.parentNode,i))},i(t){o||(k(n),o=!0)},o(t){Y(n),o=!1},d(t){r[e].d(t),t&&a(i)}}}function cl(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,c){function r(t){try{l(i.next(t))}catch(t){c(t)}}function s(t){try{l(i.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,s)}l((i=i.apply(t,e||[])).next())}))};let o=null,c=!1,r=null;ve("/",(()=>{n(1,r=me)})),ve("/new",(()=>{n(1,r=Je)})),ve("/edit",(()=>{n(1,r=pe)})),Z((()=>i(void 0,void 0,void 0,(function*(){if(console.log("Authentication..."),o=yield function(t){return Ee(this,void 0,void 0,(function(){var e;return Te(this,(function(n){switch(n.label){case 0:return[4,(e=new el(t)).checkSession()];case 1:return n.sent(),[2,e]}}))}))}({domain:"dev-dasifor.eu.auth0.com",client_id:"5qQ5xvpUl4gecTkaP95O1HpKhGoJMUD0"}),n(0,c=yield o.isAuthenticated()),c)return console.log("succeeded!"),void ve.start();const t=window.location.search;t.includes("code=")&&t.includes("state=")&&(yield o.handleRedirectCallback(),window.history.replaceState({},document.title,"/"))}))));const s=()=>i(void 0,void 0,void 0,(function*(){yield o.loginWithRedirect({redirect_uri:window.location.origin})}));return[c,r,s,()=>s()]}return new class extends M{constructor(t){super(),P(this,t,cl,ol,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
